{
  "version": 3,
  "sources": ["../../quilljs/node_modules/lodash/dist/lodash.js", "../../quilljs/package.json", "../../fast-diff/diff.js", "../../rich-text/lib/is.js", "../../rich-text/lib/op.js", "../../rich-text/lib/delta.js", "../../rich-text/package.json", "../../rich-text/lib/type.js", "../../rich-text/index.js", "../../eventemitter2/lib/eventemitter2.js", "../../quilljs/lib/lib/dom.js", "../../quilljs/lib/core/format.js", "../../quilljs/lib/lib/linked-list.js", "../../quilljs/lib/core/leaf.js", "../../quilljs/lib/lib/normalizer.js", "../../quilljs/lib/core/line.js", "../../quilljs/lib/core/document.js", "../../quilljs/lib/core/renderer.js", "../../quilljs/lib/lib/range.js", "../../quilljs/lib/core/selection.js", "../../quilljs/lib/core/editor.js", "../../quilljs/lib/themes/default.js", "../../quilljs/lib/lib/picker.js", "../../quilljs/lib/lib/color-picker.js", "../../quilljs/lib/themes/snow/index.js", "../../quilljs/lib/quill.js", "../../quilljs/lib/modules/authorship.js", "../../quilljs/lib/modules/tooltip.js", "../../quilljs/lib/modules/image-tooltip.js", "../../quilljs/lib/modules/keyboard.js", "../../quilljs/lib/modules/link-tooltip.js", "../../quilljs/lib/modules/multi-cursor.js", "../../quilljs/lib/modules/paste-manager.js", "../../quilljs/lib/modules/toolbar.js", "../../quilljs/lib/modules/undo-manager.js", "../../quilljs/lib/index.js", "../../quilljs/index.js", "../../react-quill/dist/webpack:/webpack/universalModuleDefinition", "../../react-quill/dist/webpack:/webpack/bootstrap 419de4872921735037b9", "../../react-quill/dist/webpack:/src/index.js", "../../react-quill/dist/webpack:/src/component.js", "../../react-quill/dist/webpack:/src/mixin.js", "../../react-quill/dist/webpack:/src/toolbar.js", "../../react-quill/dist/webpack:/external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}", "../../react-quill/dist/webpack:/external {\"commonjs\":\"quilljs\",\"commonjs2\":\"quilljs\",\"amd\":\"quilljs\",\"root\":\"Quill\"}"],
  "sourcesContent": ["/**\n * @license\n * Lo-Dash 2.4.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern -o ./dist/lodash.js`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre ES5 environments */\n  var undefined;\n\n  /** Used to pool arrays and objects used internally */\n  var arrayPool = [],\n      objectPool = [];\n\n  /** Used to generate unique IDs */\n  var idCounter = 0;\n\n  /** Used to prefix keys to avoid issues with `__proto__` and properties on `Object.prototype` */\n  var keyPrefix = +new Date + '';\n\n  /** Used as the size when optimizations are enabled for large arrays */\n  var largeArraySize = 75;\n\n  /** Used as the max size of the `arrayPool` and `objectPool` */\n  var maxPoolSize = 40;\n\n  /** Used to detect and test whitespace */\n  var whitespace = (\n    // whitespace\n    ' \\t\\x0B\\f\\xA0\\ufeff' +\n\n    // line terminators\n    '\\n\\r\\u2028\\u2029' +\n\n    // unicode category \"Zs\" space separators\n    '\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000'\n  );\n\n  /** Used to match empty string literals in compiled template source */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /**\n   * Used to match ES6 template delimiters\n   * http://people.mozilla.org/~jorendorff/es6-draft.html#sec-literals-string-literals\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match regexp flags from their coerced string values */\n  var reFlags = /\\w*$/;\n\n  /** Used to detected named functions */\n  var reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n  /** Used to match \"interpolate\" template delimiters */\n  var reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match leading whitespace and zeros to be removed */\n  var reLeadingSpacesAndZeros = RegExp('^[' + whitespace + ']*0+(?=.$)');\n\n  /** Used to ensure capturing order of template delimiters */\n  var reNoMatch = /($^)/;\n\n  /** Used to detect functions containing a `this` reference */\n  var reThis = /\\bthis\\b/;\n\n  /** Used to match unescaped characters in compiled string literals */\n  var reUnescapedString = /['\\n\\r\\t\\u2028\\u2029\\\\]/g;\n\n  /** Used to assign default `context` object properties */\n  var contextProps = [\n    'Array', 'Boolean', 'Date', 'Function', 'Math', 'Number', 'Object',\n    'RegExp', 'String', '_', 'attachEvent', 'clearTimeout', 'isFinite', 'isNaN',\n    'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify */\n  var templateCounter = 0;\n\n  /** `Object#toString` result shortcuts */\n  var argsClass = '[object Arguments]',\n      arrayClass = '[object Array]',\n      boolClass = '[object Boolean]',\n      dateClass = '[object Date]',\n      funcClass = '[object Function]',\n      numberClass = '[object Number]',\n      objectClass = '[object Object]',\n      regexpClass = '[object RegExp]',\n      stringClass = '[object String]';\n\n  /** Used to identify object classifications that `_.clone` supports */\n  var cloneableClasses = {};\n  cloneableClasses[funcClass] = false;\n  cloneableClasses[argsClass] = cloneableClasses[arrayClass] =\n  cloneableClasses[boolClass] = cloneableClasses[dateClass] =\n  cloneableClasses[numberClass] = cloneableClasses[objectClass] =\n  cloneableClasses[regexpClass] = cloneableClasses[stringClass] = true;\n\n  /** Used as an internal `_.debounce` options object */\n  var debounceOptions = {\n    'leading': false,\n    'maxWait': 0,\n    'trailing': false\n  };\n\n  /** Used as the property descriptor for `__bindData__` */\n  var descriptor = {\n    'configurable': false,\n    'enumerable': false,\n    'value': null,\n    'writable': false\n  };\n\n  /** Used to determine if values are of the language type Object */\n  var objectTypes = {\n    'boolean': false,\n    'function': true,\n    'object': true,\n    'number': false,\n    'string': false,\n    'undefined': false\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\t': 't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Used as a reference to the global object */\n  var root = (objectTypes[typeof window] && window) || this;\n\n  /** Detect free variable `exports` */\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module` */\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports` */\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\n\n  /** Detect free variable `global` from Node.js or Browserified code and use it as `root` */\n  var freeGlobal = objectTypes[typeof global] && global;\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * The base implementation of `_.indexOf` without support for binary searches\n   * or `fromIndex` constraints.\n   *\n   * @private\n   * @param {Array} array The array to search.\n   * @param {*} value The value to search for.\n   * @param {number} [fromIndex=0] The index to search from.\n   * @returns {number} Returns the index of the matched value or `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    var index = (fromIndex || 0) - 1,\n        length = array ? array.length : 0;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * An implementation of `_.contains` for cache objects that mimics the return\n   * signature of `_.indexOf` by returning `0` if the value is found, else `-1`.\n   *\n   * @private\n   * @param {Object} cache The cache object to inspect.\n   * @param {*} value The value to search for.\n   * @returns {number} Returns `0` if `value` is found, else `-1`.\n   */\n  function cacheIndexOf(cache, value) {\n    var type = typeof value;\n    cache = cache.cache;\n\n    if (type == 'boolean' || value == null) {\n      return cache[value] ? 0 : -1;\n    }\n    if (type != 'number' && type != 'string') {\n      type = 'object';\n    }\n    var key = type == 'number' ? value : keyPrefix + value;\n    cache = (cache = cache[type]) && cache[key];\n\n    return type == 'object'\n      ? (cache && baseIndexOf(cache, value) > -1 ? 0 : -1)\n      : (cache ? 0 : -1);\n  }\n\n  /**\n   * Adds a given value to the corresponding cache object.\n   *\n   * @private\n   * @param {*} value The value to add to the cache.\n   */\n  function cachePush(value) {\n    var cache = this.cache,\n        type = typeof value;\n\n    if (type == 'boolean' || value == null) {\n      cache[value] = true;\n    } else {\n      if (type != 'number' && type != 'string') {\n        type = 'object';\n      }\n      var key = type == 'number' ? value : keyPrefix + value,\n          typeCache = cache[type] || (cache[type] = {});\n\n      if (type == 'object') {\n        (typeCache[key] || (typeCache[key] = [])).push(value);\n      } else {\n        typeCache[key] = true;\n      }\n    }\n  }\n\n  /**\n   * Used by `_.max` and `_.min` as the default callback when a given\n   * collection is a string value.\n   *\n   * @private\n   * @param {string} value The character to inspect.\n   * @returns {number} Returns the code unit of given character.\n   */\n  function charAtCallback(value) {\n    return value.charCodeAt(0);\n  }\n\n  /**\n   * Used by `sortBy` to compare transformed `collection` elements, stable sorting\n   * them in ascending order.\n   *\n   * @private\n   * @param {Object} a The object to compare to `b`.\n   * @param {Object} b The object to compare to `a`.\n   * @returns {number} Returns the sort order indicator of `1` or `-1`.\n   */\n  function compareAscending(a, b) {\n    var ac = a.criteria,\n        bc = b.criteria,\n        index = -1,\n        length = ac.length;\n\n    while (++index < length) {\n      var value = ac[index],\n          other = bc[index];\n\n      if (value !== other) {\n        if (value > other || typeof value == 'undefined') {\n          return 1;\n        }\n        if (value < other || typeof other == 'undefined') {\n          return -1;\n        }\n      }\n    }\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n    // that causes it, under certain circumstances, to return the same value for\n    // `a` and `b`. See https://github.com/jashkenas/underscore/pull/1247\n    //\n    // This also ensures a stable sort in V8 and other engines.\n    // See http://code.google.com/p/v8/issues/detail?id=90\n    return a.index - b.index;\n  }\n\n  /**\n   * Creates a cache object to optimize linear searches of large arrays.\n   *\n   * @private\n   * @param {Array} [array=[]] The array to search.\n   * @returns {null|Object} Returns the cache object or `null` if caching should not be used.\n   */\n  function createCache(array) {\n    var index = -1,\n        length = array.length,\n        first = array[0],\n        mid = array[(length / 2) | 0],\n        last = array[length - 1];\n\n    if (first && typeof first == 'object' &&\n        mid && typeof mid == 'object' && last && typeof last == 'object') {\n      return false;\n    }\n    var cache = getObject();\n    cache['false'] = cache['null'] = cache['true'] = cache['undefined'] = false;\n\n    var result = getObject();\n    result.array = array;\n    result.cache = cache;\n    result.push = cachePush;\n\n    while (++index < length) {\n      result.push(array[index]);\n    }\n    return result;\n  }\n\n  /**\n   * Used by `template` to escape characters for inclusion in compiled\n   * string literals.\n   *\n   * @private\n   * @param {string} match The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(match) {\n    return '\\\\' + stringEscapes[match];\n  }\n\n  /**\n   * Gets an array from the array pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Array} The array from the pool.\n   */\n  function getArray() {\n    return arrayPool.pop() || [];\n  }\n\n  /**\n   * Gets an object from the object pool or creates a new one if the pool is empty.\n   *\n   * @private\n   * @returns {Object} The object from the pool.\n   */\n  function getObject() {\n    return objectPool.pop() || {\n      'array': null,\n      'cache': null,\n      'criteria': null,\n      'false': false,\n      'index': 0,\n      'null': false,\n      'number': null,\n      'object': null,\n      'push': null,\n      'string': null,\n      'true': false,\n      'undefined': false,\n      'value': null\n    };\n  }\n\n  /**\n   * Releases the given array back to the array pool.\n   *\n   * @private\n   * @param {Array} [array] The array to release.\n   */\n  function releaseArray(array) {\n    array.length = 0;\n    if (arrayPool.length < maxPoolSize) {\n      arrayPool.push(array);\n    }\n  }\n\n  /**\n   * Releases the given object back to the object pool.\n   *\n   * @private\n   * @param {Object} [object] The object to release.\n   */\n  function releaseObject(object) {\n    var cache = object.cache;\n    if (cache) {\n      releaseObject(cache);\n    }\n    object.array = object.cache = object.criteria = object.object = object.number = object.string = object.value = null;\n    if (objectPool.length < maxPoolSize) {\n      objectPool.push(object);\n    }\n  }\n\n  /**\n   * Slices the `collection` from the `start` index up to, but not including,\n   * the `end` index.\n   *\n   * Note: This function is used instead of `Array#slice` to support node lists\n   * in IE < 9 and to ensure dense arrays are returned.\n   *\n   * @private\n   * @param {Array|Object|string} collection The collection to slice.\n   * @param {number} start The start index.\n   * @param {number} end The end index.\n   * @returns {Array} Returns the new array.\n   */\n  function slice(array, start, end) {\n    start || (start = 0);\n    if (typeof end == 'undefined') {\n      end = array ? array.length : 0;\n    }\n    var index = -1,\n        length = end - start || 0,\n        result = Array(length < 0 ? 0 : length);\n\n    while (++index < length) {\n      result[index] = array[start + index];\n    }\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new `lodash` function using the given context object.\n   *\n   * @static\n   * @memberOf _\n   * @category Utilities\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns the `lodash` function.\n   */\n  function runInContext(context) {\n    // Avoid issues with some ES3 environments that attempt to use values, named\n    // after built-in constructors like `Object`, for the creation of literals.\n    // ES5 clears this up by stating that literals must use built-in constructors.\n    // See http://es5.github.io/#x11.1.5.\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\n\n    /** Native constructor references */\n    var Array = context.Array,\n        Boolean = context.Boolean,\n        Date = context.Date,\n        Function = context.Function,\n        Math = context.Math,\n        Number = context.Number,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /**\n     * Used for `Array` method references.\n     *\n     * Normally `Array.prototype` would suffice, however, using an array literal\n     * avoids issues in Narwhal.\n     */\n    var arrayRef = [];\n\n    /** Used for native method references */\n    var objectProto = Object.prototype;\n\n    /** Used to restore the original `_` reference in `noConflict` */\n    var oldDash = context._;\n\n    /** Used to resolve the internal [[Class]] of values */\n    var toString = objectProto.toString;\n\n    /** Used to detect if a method is native */\n    var reNative = RegExp('^' +\n      String(toString)\n        .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n        .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n    );\n\n    /** Native method shortcuts */\n    var ceil = Math.ceil,\n        clearTimeout = context.clearTimeout,\n        floor = Math.floor,\n        fnToString = Function.prototype.toString,\n        getPrototypeOf = isNative(getPrototypeOf = Object.getPrototypeOf) && getPrototypeOf,\n        hasOwnProperty = objectProto.hasOwnProperty,\n        push = arrayRef.push,\n        setTimeout = context.setTimeout,\n        splice = arrayRef.splice,\n        unshift = arrayRef.unshift;\n\n    /** Used to set meta data on functions */\n    var defineProperty = (function() {\n      // IE 8 only accepts DOM elements\n      try {\n        var o = {},\n            func = isNative(func = Object.defineProperty) && func,\n            result = func(o, o, o) && func;\n      } catch(e) { }\n      return result;\n    }());\n\n    /* Native method shortcuts for methods with the same name as other `lodash` methods */\n    var nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate,\n        nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray,\n        nativeIsFinite = context.isFinite,\n        nativeIsNaN = context.isNaN,\n        nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys,\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random;\n\n    /** Used to lookup a built-in constructor by [[Class]] */\n    var ctorByClass = {};\n    ctorByClass[arrayClass] = Array;\n    ctorByClass[boolClass] = Boolean;\n    ctorByClass[dateClass] = Date;\n    ctorByClass[funcClass] = Function;\n    ctorByClass[objectClass] = Object;\n    ctorByClass[numberClass] = Number;\n    ctorByClass[regexpClass] = RegExp;\n    ctorByClass[stringClass] = String;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps the given value to enable intuitive\n     * method chaining.\n     *\n     * In addition to Lo-Dash methods, wrappers also have the following `Array` methods:\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`, `splice`,\n     * and `unshift`\n     *\n     * Chaining is supported in custom builds as long as the `value` method is\n     * implicitly or explicitly included in the build.\n     *\n     * The chainable wrapper functions are:\n     * `after`, `assign`, `bind`, `bindAll`, `bindKey`, `chain`, `compact`,\n     * `compose`, `concat`, `countBy`, `create`, `createCallback`, `curry`,\n     * `debounce`, `defaults`, `defer`, `delay`, `difference`, `filter`, `flatten`,\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\n     * `invoke`, `keys`, `map`, `max`, `memoize`, `merge`, `min`, `object`, `omit`,\n     * `once`, `pairs`, `partial`, `partialRight`, `pick`, `pluck`, `pull`, `push`,\n     * `range`, `reject`, `remove`, `rest`, `reverse`, `shuffle`, `slice`, `sort`,\n     * `sortBy`, `splice`, `tap`, `throttle`, `times`, `toArray`, `transform`,\n     * `union`, `uniq`, `unshift`, `unzip`, `values`, `where`, `without`, `wrap`,\n     * and `zip`\n     *\n     * The non-chainable wrapper functions are:\n     * `clone`, `cloneDeep`, `contains`, `escape`, `every`, `find`, `findIndex`,\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `has`, `identity`,\n     * `indexOf`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\n     * `isEmpty`, `isEqual`, `isFinite`, `isFunction`, `isNaN`, `isNull`, `isNumber`,\n     * `isObject`, `isPlainObject`, `isRegExp`, `isString`, `isUndefined`, `join`,\n     * `lastIndexOf`, `mixin`, `noConflict`, `parseInt`, `pop`, `random`, `reduce`,\n     * `reduceRight`, `result`, `shift`, `size`, `some`, `sortedIndex`, `runInContext`,\n     * `template`, `unescape`, `uniqueId`, and `value`\n     *\n     * The wrapper functions `first` and `last` return wrapped values when `n` is\n     * provided, otherwise they return unwrapped values.\n     *\n     * Explicit chaining can be enabled by using the `_.chain` method.\n     *\n     * @name _\n     * @constructor\n     * @category Chaining\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns a `lodash` instance.\n     * @example\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // returns an unwrapped value\n     * wrapped.reduce(function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * // returns a wrapped value\n     * var squares = wrapped.map(function(num) {\n     *   return num * num;\n     * });\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      // don't wrap if already wrapped, even if wrapped by a different `lodash` constructor\n      return (value && typeof value == 'object' && !isArray(value) && hasOwnProperty.call(value, '__wrapped__'))\n       ? value\n       : new lodashWrapper(value);\n    }\n\n    /**\n     * A fast path for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @param {boolean} chainAll A flag to enable chaining for all methods\n     * @returns {Object} Returns a `lodash` instance.\n     */\n    function lodashWrapper(value, chainAll) {\n      this.__chain__ = !!chainAll;\n      this.__wrapped__ = value;\n    }\n    // ensure `new lodashWrapper` is an instance of `lodash`\n    lodashWrapper.prototype = lodash.prototype;\n\n    /**\n     * An object used to flag environments features.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    var support = lodash.support = {};\n\n    /**\n     * Detect if functions can be decompiled by `Function#toString`\n     * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcDecomp = !isNative(context.WinRTError) && reThis.test(runInContext);\n\n    /**\n     * Detect if `Function#name` is supported (all but IE).\n     *\n     * @memberOf _.support\n     * @type boolean\n     */\n    support.funcNames = typeof Function.name == 'string';\n\n    /**\n     * By default, the template delimiters used by Lo-Dash are similar to those in\n     * embedded Ruby (ERB). Change the following template settings to use alternative\n     * delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type Object\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'escape': /<%-([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'evaluate': /<%([\\s\\S]+?)%>/g,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type RegExp\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type string\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type Object\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type Function\n         */\n        '_': lodash\n      }\n    };\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The base implementation of `_.bind` that creates the bound function and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new bound function.\n     */\n    function baseBind(bindData) {\n      var func = bindData[0],\n          partialArgs = bindData[2],\n          thisArg = bindData[4];\n\n      function bound() {\n        // `Function#bind` spec\n        // http://es5.github.io/#x15.3.4.5\n        if (partialArgs) {\n          // avoid `arguments` object deoptimizations by using `slice` instead\n          // of `Array.prototype.slice.call` and not assigning `arguments` to a\n          // variable as a ternary expression\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        // mimic the constructor's `return` behavior\n        // http://es5.github.io/#x13.2.2\n        if (this instanceof bound) {\n          // ensure `new bound` is an instance of `func`\n          var thisBinding = baseCreate(func.prototype),\n              result = func.apply(thisBinding, args || arguments);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisArg, args || arguments);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.clone` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, isDeep, callback, stackA, stackB) {\n      if (callback) {\n        var result = callback(value);\n        if (typeof result != 'undefined') {\n          return result;\n        }\n      }\n      // inspect [[Class]]\n      var isObj = isObject(value);\n      if (isObj) {\n        var className = toString.call(value);\n        if (!cloneableClasses[className]) {\n          return value;\n        }\n        var ctor = ctorByClass[className];\n        switch (className) {\n          case boolClass:\n          case dateClass:\n            return new ctor(+value);\n\n          case numberClass:\n          case stringClass:\n            return new ctor(value);\n\n          case regexpClass:\n            result = ctor(value.source, reFlags.exec(value));\n            result.lastIndex = value.lastIndex;\n            return result;\n        }\n      } else {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isDeep) {\n        // check for circular references and return corresponding clone\n        var initedStack = !stackA;\n        stackA || (stackA = getArray());\n        stackB || (stackB = getArray());\n\n        var length = stackA.length;\n        while (length--) {\n          if (stackA[length] == value) {\n            return stackB[length];\n          }\n        }\n        result = isArr ? ctor(value.length) : {};\n      }\n      else {\n        result = isArr ? slice(value) : assign({}, value);\n      }\n      // add array properties assigned by `RegExp#exec`\n      if (isArr) {\n        if (hasOwnProperty.call(value, 'index')) {\n          result.index = value.index;\n        }\n        if (hasOwnProperty.call(value, 'input')) {\n          result.input = value.input;\n        }\n      }\n      // exit for shallow clone\n      if (!isDeep) {\n        return result;\n      }\n      // add the source value to the stack of traversed objects\n      // and associate it with its clone\n      stackA.push(value);\n      stackB.push(result);\n\n      // recursively populate clone (susceptible to call stack limits)\n      (isArr ? forEach : forOwn)(value, function(objValue, key) {\n        result[key] = baseClone(objValue, isDeep, callback, stackA, stackB);\n      });\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} prototype The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    function baseCreate(prototype, properties) {\n      return isObject(prototype) ? nativeCreate(prototype) : {};\n    }\n    // fallback for browsers without `Object.create`\n    if (!nativeCreate) {\n      baseCreate = (function() {\n        function Object() {}\n        return function(prototype) {\n          if (isObject(prototype)) {\n            Object.prototype = prototype;\n            var result = new Object;\n            Object.prototype = null;\n          }\n          return result || context.Object();\n        };\n      }());\n    }\n\n    /**\n     * The base implementation of `_.createCallback` without support for creating\n     * \"_.pluck\" or \"_.where\" style callbacks.\n     *\n     * @private\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     */\n    function baseCreateCallback(func, thisArg, argCount) {\n      if (typeof func != 'function') {\n        return identity;\n      }\n      // exit early for no `thisArg` or already bound by `Function#bind`\n      if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n        return func;\n      }\n      var bindData = func.__bindData__;\n      if (typeof bindData == 'undefined') {\n        if (support.funcNames) {\n          bindData = !func.name;\n        }\n        bindData = bindData || !support.funcDecomp;\n        if (!bindData) {\n          var source = fnToString.call(func);\n          if (!support.funcNames) {\n            bindData = !reFuncName.test(source);\n          }\n          if (!bindData) {\n            // checks if `func` references the `this` keyword and stores the result\n            bindData = reThis.test(source);\n            setBindData(func, bindData);\n          }\n        }\n      }\n      // exit early if there are no `this` references or `func` is bound\n      if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n        return func;\n      }\n      switch (argCount) {\n        case 1: return function(value) {\n          return func.call(thisArg, value);\n        };\n        case 2: return function(a, b) {\n          return func.call(thisArg, a, b);\n        };\n        case 3: return function(value, index, collection) {\n          return func.call(thisArg, value, index, collection);\n        };\n        case 4: return function(accumulator, value, index, collection) {\n          return func.call(thisArg, accumulator, value, index, collection);\n        };\n      }\n      return bind(func, thisArg);\n    }\n\n    /**\n     * The base implementation of `createWrapper` that creates the wrapper and\n     * sets its meta data.\n     *\n     * @private\n     * @param {Array} bindData The bind data array.\n     * @returns {Function} Returns the new function.\n     */\n    function baseCreateWrapper(bindData) {\n      var func = bindData[0],\n          bitmask = bindData[1],\n          partialArgs = bindData[2],\n          partialRightArgs = bindData[3],\n          thisArg = bindData[4],\n          arity = bindData[5];\n\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          key = func;\n\n      function bound() {\n        var thisBinding = isBind ? thisArg : this;\n        if (partialArgs) {\n          var args = slice(partialArgs);\n          push.apply(args, arguments);\n        }\n        if (partialRightArgs || isCurry) {\n          args || (args = slice(arguments));\n          if (partialRightArgs) {\n            push.apply(args, partialRightArgs);\n          }\n          if (isCurry && args.length < arity) {\n            bitmask |= 16 & ~32;\n            return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n          }\n        }\n        args || (args = arguments);\n        if (isBindKey) {\n          func = thisBinding[key];\n        }\n        if (this instanceof bound) {\n          thisBinding = baseCreate(func.prototype);\n          var result = func.apply(thisBinding, args);\n          return isObject(result) ? result : thisBinding;\n        }\n        return func.apply(thisBinding, args);\n      }\n      setBindData(bound, bindData);\n      return bound;\n    }\n\n    /**\n     * The base implementation of `_.difference` that accepts a single array\n     * of values to exclude.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {Array} [values] The array of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     */\n    function baseDifference(array, values) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          isLarge = length >= largeArraySize && indexOf === baseIndexOf,\n          result = [];\n\n      if (isLarge) {\n        var cache = createCache(values);\n        if (cache) {\n          indexOf = cacheIndexOf;\n          values = cache;\n        } else {\n          isLarge = false;\n        }\n      }\n      while (++index < length) {\n        var value = array[index];\n        if (indexOf(values, value) < 0) {\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseObject(values);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` without support for callback\n     * shorthands or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {boolean} [isStrict=false] A flag to restrict flattening to arrays and `arguments` objects.\n     * @param {number} [fromIndex=0] The index to start from.\n     * @returns {Array} Returns a new flattened array.\n     */\n    function baseFlatten(array, isShallow, isStrict, fromIndex) {\n      var index = (fromIndex || 0) - 1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n\n        if (value && typeof value == 'object' && typeof value.length == 'number'\n            && (isArray(value) || isArguments(value))) {\n          // recursively flatten arrays (susceptible to call stack limits)\n          if (!isShallow) {\n            value = baseFlatten(value, isShallow, isStrict);\n          }\n          var valIndex = -1,\n              valLength = value.length,\n              resIndex = result.length;\n\n          result.length += valLength;\n          while (++valIndex < valLength) {\n            result[resIndex++] = value[valIndex];\n          }\n        } else if (!isStrict) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.isEqual`, without support for `thisArg` binding,\n     * that allows partial \"_.where\" style comparisons.\n     *\n     * @private\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {Function} [isWhere=false] A flag to indicate performing partial comparisons.\n     * @param {Array} [stackA=[]] Tracks traversed `a` objects.\n     * @param {Array} [stackB=[]] Tracks traversed `b` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(a, b, callback, isWhere, stackA, stackB) {\n      // used to indicate that when comparing objects, `a` has at least the properties of `b`\n      if (callback) {\n        var result = callback(a, b);\n        if (typeof result != 'undefined') {\n          return !!result;\n        }\n      }\n      // exit early for identical values\n      if (a === b) {\n        // treat `+0` vs. `-0` as not equal\n        return a !== 0 || (1 / a == 1 / b);\n      }\n      var type = typeof a,\n          otherType = typeof b;\n\n      // exit early for unlike primitive values\n      if (a === a &&\n          !(a && objectTypes[type]) &&\n          !(b && objectTypes[otherType])) {\n        return false;\n      }\n      // exit early for `null` and `undefined` avoiding ES3's Function#call behavior\n      // http://es5.github.io/#x15.3.4.4\n      if (a == null || b == null) {\n        return a === b;\n      }\n      // compare [[Class]] names\n      var className = toString.call(a),\n          otherClass = toString.call(b);\n\n      if (className == argsClass) {\n        className = objectClass;\n      }\n      if (otherClass == argsClass) {\n        otherClass = objectClass;\n      }\n      if (className != otherClass) {\n        return false;\n      }\n      switch (className) {\n        case boolClass:\n        case dateClass:\n          // coerce dates and booleans to numbers, dates to milliseconds and booleans\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal\n          return +a == +b;\n\n        case numberClass:\n          // treat `NaN` vs. `NaN` as equal\n          return (a != +a)\n            ? b != +b\n            // but treat `+0` vs. `-0` as not equal\n            : (a == 0 ? (1 / a == 1 / b) : a == +b);\n\n        case regexpClass:\n        case stringClass:\n          // coerce regexes to strings (http://es5.github.io/#x15.10.6.4)\n          // treat string primitives and their corresponding object instances as equal\n          return a == String(b);\n      }\n      var isArr = className == arrayClass;\n      if (!isArr) {\n        // unwrap any `lodash` wrapped values\n        var aWrapped = hasOwnProperty.call(a, '__wrapped__'),\n            bWrapped = hasOwnProperty.call(b, '__wrapped__');\n\n        if (aWrapped || bWrapped) {\n          return baseIsEqual(aWrapped ? a.__wrapped__ : a, bWrapped ? b.__wrapped__ : b, callback, isWhere, stackA, stackB);\n        }\n        // exit for functions and DOM nodes\n        if (className != objectClass) {\n          return false;\n        }\n        // in older versions of Opera, `arguments` objects have `Array` constructors\n        var ctorA = a.constructor,\n            ctorB = b.constructor;\n\n        // non `Object` object instances with different constructors are not equal\n        if (ctorA != ctorB &&\n              !(isFunction(ctorA) && ctorA instanceof ctorA && isFunction(ctorB) && ctorB instanceof ctorB) &&\n              ('constructor' in a && 'constructor' in b)\n            ) {\n          return false;\n        }\n      }\n      // assume cyclic structures are equal\n      // the algorithm for detecting cyclic structures is adapted from ES 5.1\n      // section 15.12.3, abstract operation `JO` (http://es5.github.io/#x15.12.3)\n      var initedStack = !stackA;\n      stackA || (stackA = getArray());\n      stackB || (stackB = getArray());\n\n      var length = stackA.length;\n      while (length--) {\n        if (stackA[length] == a) {\n          return stackB[length] == b;\n        }\n      }\n      var size = 0;\n      result = true;\n\n      // add `a` and `b` to the stack of traversed objects\n      stackA.push(a);\n      stackB.push(b);\n\n      // recursively compare objects and arrays (susceptible to call stack limits)\n      if (isArr) {\n        // compare lengths to determine if a deep comparison is necessary\n        length = a.length;\n        size = b.length;\n        result = size == length;\n\n        if (result || isWhere) {\n          // deep compare the contents, ignoring non-numeric properties\n          while (size--) {\n            var index = length,\n                value = b[size];\n\n            if (isWhere) {\n              while (index--) {\n                if ((result = baseIsEqual(a[index], value, callback, isWhere, stackA, stackB))) {\n                  break;\n                }\n              }\n            } else if (!(result = baseIsEqual(a[size], value, callback, isWhere, stackA, stackB))) {\n              break;\n            }\n          }\n        }\n      }\n      else {\n        // deep compare objects using `forIn`, instead of `forOwn`, to avoid `Object.keys`\n        // which, in this case, is more costly\n        forIn(b, function(value, key, b) {\n          if (hasOwnProperty.call(b, key)) {\n            // count the number of properties.\n            size++;\n            // deep compare each property value.\n            return (result = hasOwnProperty.call(a, key) && baseIsEqual(a[key], value, callback, isWhere, stackA, stackB));\n          }\n        });\n\n        if (result && !isWhere) {\n          // ensure both objects have the same number of properties\n          forIn(a, function(value, key, a) {\n            if (hasOwnProperty.call(a, key)) {\n              // `size` will be `-1` if `a` has more properties than `b`\n              return (result = --size > -1);\n            }\n          });\n        }\n      }\n      stackA.pop();\n      stackB.pop();\n\n      if (initedStack) {\n        releaseArray(stackA);\n        releaseArray(stackB);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.merge` without argument juggling or support\n     * for `thisArg` binding.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\n     */\n    function baseMerge(object, source, callback, stackA, stackB) {\n      (isArray(source) ? forEach : forOwn)(source, function(source, key) {\n        var found,\n            isArr,\n            result = source,\n            value = object[key];\n\n        if (source && ((isArr = isArray(source)) || isPlainObject(source))) {\n          // avoid merging previously merged cyclic sources\n          var stackLength = stackA.length;\n          while (stackLength--) {\n            if ((found = stackA[stackLength] == source)) {\n              value = stackB[stackLength];\n              break;\n            }\n          }\n          if (!found) {\n            var isShallow;\n            if (callback) {\n              result = callback(value, source);\n              if ((isShallow = typeof result != 'undefined')) {\n                value = result;\n              }\n            }\n            if (!isShallow) {\n              value = isArr\n                ? (isArray(value) ? value : [])\n                : (isPlainObject(value) ? value : {});\n            }\n            // add `source` and associated `value` to the stack of traversed objects\n            stackA.push(source);\n            stackB.push(value);\n\n            // recursively merge objects and arrays (susceptible to call stack limits)\n            if (!isShallow) {\n              baseMerge(value, source, callback, stackA, stackB);\n            }\n          }\n        }\n        else {\n          if (callback) {\n            result = callback(value, source);\n            if (typeof result == 'undefined') {\n              result = source;\n            }\n          }\n          if (typeof result != 'undefined') {\n            value = result;\n          }\n        }\n        object[key] = value;\n      });\n    }\n\n    /**\n     * The base implementation of `_.random` without argument juggling or support\n     * for returning floating-point numbers.\n     *\n     * @private\n     * @param {number} min The minimum possible value.\n     * @param {number} max The maximum possible value.\n     * @returns {number} Returns a random number.\n     */\n    function baseRandom(min, max) {\n      return min + floor(nativeRandom() * (max - min + 1));\n    }\n\n    /**\n     * The base implementation of `_.uniq` without support for callback shorthands\n     * or `thisArg` binding.\n     *\n     * @private\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function} [callback] The function called per iteration.\n     * @returns {Array} Returns a duplicate-value-free array.\n     */\n    function baseUniq(array, isSorted, callback) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = array ? array.length : 0,\n          result = [];\n\n      var isLarge = !isSorted && length >= largeArraySize && indexOf === baseIndexOf,\n          seen = (callback || isLarge) ? getArray() : result;\n\n      if (isLarge) {\n        var cache = createCache(seen);\n        indexOf = cacheIndexOf;\n        seen = cache;\n      }\n      while (++index < length) {\n        var value = array[index],\n            computed = callback ? callback(value, index, array) : value;\n\n        if (isSorted\n              ? !index || seen[seen.length - 1] !== computed\n              : indexOf(seen, computed) < 0\n            ) {\n          if (callback || isLarge) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      if (isLarge) {\n        releaseArray(seen.array);\n        releaseObject(seen);\n      } else if (callback) {\n        releaseArray(seen);\n      }\n      return result;\n    }\n\n    /**\n     * Creates a function that aggregates a collection, creating an object composed\n     * of keys generated from the results of running each element of the collection\n     * through a callback. The given `setter` function sets the keys and values\n     * of the composed object.\n     *\n     * @private\n     * @param {Function} setter The setter function.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter) {\n      return function(collection, callback, thisArg) {\n        var result = {};\n        callback = lodash.createCallback(callback, thisArg, 3);\n\n        var index = -1,\n            length = collection ? collection.length : 0;\n\n        if (typeof length == 'number') {\n          while (++index < length) {\n            var value = collection[index];\n            setter(result, value, callback(value, index, collection), collection);\n          }\n        } else {\n          forOwn(collection, function(value, key, collection) {\n            setter(result, value, callback(value, key, collection), collection);\n          });\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, either curries or invokes `func`\n     * with an optional `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to reference.\n     * @param {number} bitmask The bitmask of method flags to compose.\n     *  The bitmask may be composed of the following flags:\n     *  1 - `_.bind`\n     *  2 - `_.bindKey`\n     *  4 - `_.curry`\n     *  8 - `_.curry` (bound)\n     *  16 - `_.partial`\n     *  32 - `_.partialRight`\n     * @param {Array} [partialArgs] An array of arguments to prepend to those\n     *  provided to the new function.\n     * @param {Array} [partialRightArgs] An array of arguments to append to those\n     *  provided to the new function.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new function.\n     */\n    function createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n      var isBind = bitmask & 1,\n          isBindKey = bitmask & 2,\n          isCurry = bitmask & 4,\n          isCurryBound = bitmask & 8,\n          isPartial = bitmask & 16,\n          isPartialRight = bitmask & 32;\n\n      if (!isBindKey && !isFunction(func)) {\n        throw new TypeError;\n      }\n      if (isPartial && !partialArgs.length) {\n        bitmask &= ~16;\n        isPartial = partialArgs = false;\n      }\n      if (isPartialRight && !partialRightArgs.length) {\n        bitmask &= ~32;\n        isPartialRight = partialRightArgs = false;\n      }\n      var bindData = func && func.__bindData__;\n      if (bindData && bindData !== true) {\n        // clone `bindData`\n        bindData = slice(bindData);\n        if (bindData[2]) {\n          bindData[2] = slice(bindData[2]);\n        }\n        if (bindData[3]) {\n          bindData[3] = slice(bindData[3]);\n        }\n        // set `thisBinding` is not previously bound\n        if (isBind && !(bindData[1] & 1)) {\n          bindData[4] = thisArg;\n        }\n        // set if previously bound but not currently (subsequent curried functions)\n        if (!isBind && bindData[1] & 1) {\n          bitmask |= 8;\n        }\n        // set curried arity if not yet set\n        if (isCurry && !(bindData[1] & 4)) {\n          bindData[5] = arity;\n        }\n        // append partial left arguments\n        if (isPartial) {\n          push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n        }\n        // append partial right arguments\n        if (isPartialRight) {\n          unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n        }\n        // merge flags\n        bindData[1] |= bitmask;\n        return createWrapper.apply(null, bindData);\n      }\n      // fast path for `_.bind`\n      var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n      return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n    }\n\n    /**\n     * Used by `escape` to convert characters to HTML entities.\n     *\n     * @private\n     * @param {string} match The matched character to escape.\n     * @returns {string} Returns the escaped character.\n     */\n    function escapeHtmlChar(match) {\n      return htmlEscapes[match];\n    }\n\n    /**\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\n     * customized, this method returns the custom method, otherwise it returns\n     * the `baseIndexOf` function.\n     *\n     * @private\n     * @returns {Function} Returns the \"indexOf\" function.\n     */\n    function getIndexOf() {\n      var result = (result = lodash.indexOf) === indexOf ? baseIndexOf : result;\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a native function.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n     */\n    function isNative(value) {\n      return typeof value == 'function' && reNative.test(value);\n    }\n\n    /**\n     * Sets `this` binding data on a given function.\n     *\n     * @private\n     * @param {Function} func The function to set data on.\n     * @param {Array} value The data array to set.\n     */\n    var setBindData = !defineProperty ? noop : function(func, value) {\n      descriptor.value = value;\n      defineProperty(func, '__bindData__', descriptor);\n      descriptor.value = null;\n    };\n\n    /**\n     * A fallback implementation of `isPlainObject` which checks if a given value\n     * is an object created by the `Object` constructor, assuming objects created\n     * by the `Object` constructor have no inherited enumerable properties and that\n     * there are no `Object.prototype` extensions.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     */\n    function shimIsPlainObject(value) {\n      var ctor,\n          result;\n\n      // avoid non Object objects, `arguments` objects, and DOM elements\n      if (!(value && toString.call(value) == objectClass) ||\n          (ctor = value.constructor, isFunction(ctor) && !(ctor instanceof ctor))) {\n        return false;\n      }\n      // In most environments an object's own properties are iterated before\n      // its inherited properties. If the last iterated property is an object's\n      // own property then there are no inherited enumerable properties.\n      forIn(value, function(value, key) {\n        result = key;\n      });\n      return typeof result == 'undefined' || hasOwnProperty.call(value, result);\n    }\n\n    /**\n     * Used by `unescape` to convert HTML entities to characters.\n     *\n     * @private\n     * @param {string} match The matched character to unescape.\n     * @returns {string} Returns the unescaped character.\n     */\n    function unescapeHtmlChar(match) {\n      return htmlUnescapes[match];\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Checks if `value` is an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an `arguments` object, else `false`.\n     * @example\n     *\n     * (function() { return _.isArguments(arguments); })(1, 2, 3);\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    function isArguments(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == argsClass || false;\n    }\n\n    /**\n     * Checks if `value` is an array.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n     * @example\n     *\n     * (function() { return _.isArray(arguments); })();\n     * // => false\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     */\n    var isArray = nativeIsArray || function(value) {\n      return value && typeof value == 'object' && typeof value.length == 'number' &&\n        toString.call(value) == arrayClass || false;\n    };\n\n    /**\n     * A fallback implementation of `Object.keys` which produces an array of the\n     * given object's own enumerable property names.\n     *\n     * @private\n     * @type Function\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     */\n    var shimKeys = function(object) {\n      var index, iterable = object, result = [];\n      if (!iterable) return result;\n      if (!(objectTypes[typeof object])) return result;\n        for (index in iterable) {\n          if (hasOwnProperty.call(iterable, index)) {\n            result.push(index);\n          }\n        }\n      return result\n    };\n\n    /**\n     * Creates an array composed of the own enumerable property names of an object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names.\n     * @example\n     *\n     * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n     */\n    var keys = !nativeKeys ? shimKeys : function(object) {\n      if (!isObject(object)) {\n        return [];\n      }\n      return nativeKeys(object);\n    };\n\n    /**\n     * Used to convert characters to HTML entities:\n     *\n     * Though the `>` character is escaped for symmetry, characters like `>` and `/`\n     * don't require escaping in HTML and have no special meaning unless they're part\n     * of a tag or an unquoted attribute value.\n     * http://mathiasbynens.be/notes/ambiguous-ampersands (under \"semi-related fun fact\")\n     */\n    var htmlEscapes = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#39;'\n    };\n\n    /** Used to convert HTML entities to characters */\n    var htmlUnescapes = invert(htmlEscapes);\n\n    /** Used to match HTML entities and HTML characters */\n    var reEscapedHtml = RegExp('(' + keys(htmlUnescapes).join('|') + ')', 'g'),\n        reUnescapedHtml = RegExp('[' + keys(htmlEscapes).join('') + ']', 'g');\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object. Subsequent sources will overwrite property assignments of previous\n     * sources. If a callback is provided it will be executed to produce the\n     * assigned values. The callback is bound to `thisArg` and invoked with two\n     * arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @alias extend\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize assigning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n     * // => { 'name': 'fred', 'employer': 'slate' }\n     *\n     * var defaults = _.partialRight(_.assign, function(a, b) {\n     *   return typeof a == 'undefined' ? b : a;\n     * });\n     *\n     * var object = { 'name': 'barney' };\n     * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var assign = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n        var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n      } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n        callback = args[--argsLength];\n      }\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects will also\n     * be cloned, otherwise they will be assigned by reference. If a callback\n     * is provided it will be executed to produce the cloned values. If the\n     * callback returns `undefined` cloning will be handled by the method instead.\n     * The callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to clone.\n     * @param {boolean} [isDeep=false] Specify a deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var shallow = _.clone(characters);\n     * shallow[0] === characters[0];\n     * // => true\n     *\n     * var deep = _.clone(characters, true);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * _.mixin({\n     *   'clone': _.partialRight(_.clone, function(value) {\n     *     return _.isElement(value) ? value.cloneNode(false) : undefined;\n     *   })\n     * });\n     *\n     * var clone = _.clone(document.body);\n     * clone.childNodes.length;\n     * // => 0\n     */\n    function clone(value, isDeep, callback, thisArg) {\n      // allows working with \"Collections\" methods without using their `index`\n      // and `collection` arguments for `isDeep` and `callback`\n      if (typeof isDeep != 'boolean' && isDeep != null) {\n        thisArg = callback;\n        callback = isDeep;\n        isDeep = false;\n      }\n      return baseClone(value, isDeep, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates a deep clone of `value`. If a callback is provided it will be\n     * executed to produce the cloned values. If the callback returns `undefined`\n     * cloning will be handled by the method instead. The callback is bound to\n     * `thisArg` and invoked with one argument; (value).\n     *\n     * Note: This method is loosely based on the structured clone algorithm. Functions\n     * and DOM nodes are **not** cloned. The enumerable properties of `arguments` objects and\n     * objects created by constructors other than `Object` are cloned to plain `Object` objects.\n     * See http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to deep clone.\n     * @param {Function} [callback] The function to customize cloning values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the deep cloned value.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * var deep = _.cloneDeep(characters);\n     * deep[0] === characters[0];\n     * // => false\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'node': element\n     * };\n     *\n     * var clone = _.cloneDeep(view, function(value) {\n     *   return _.isElement(value) ? value.cloneNode(true) : undefined;\n     * });\n     *\n     * clone.node == view.node;\n     * // => false\n     */\n    function cloneDeep(value, callback, thisArg) {\n      return baseClone(value, true, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 1));\n    }\n\n    /**\n     * Creates an object that inherits from the given `prototype` object. If a\n     * `properties` object is provided its own enumerable properties are assigned\n     * to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties ? assign(result, properties) : result;\n    }\n\n    /**\n     * Assigns own enumerable properties of source object(s) to the destination\n     * object for all destination properties that resolve to `undefined`. Once a\n     * property is set, additional defaults of the same property will be ignored.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param- {Object} [guard] Allows working with `_.reduce` without using its\n     *  `key` and `object` arguments as sources.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var object = { 'name': 'barney' };\n     * _.defaults(object, { 'name': 'fred', 'employer': 'slate' });\n     * // => { 'name': 'barney', 'employer': 'slate' }\n     */\n    var defaults = function(object, source, guard) {\n      var index, iterable = object, result = iterable;\n      if (!iterable) return result;\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = typeof guard == 'number' ? 2 : args.length;\n      while (++argsIndex < argsLength) {\n        iterable = args[argsIndex];\n        if (iterable && objectTypes[typeof iterable]) {\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (typeof result[index] == 'undefined') result[index] = iterable[index];\n        }\n        }\n      }\n      return result\n    };\n\n    /**\n     * This method is like `_.findIndex` except that it returns the key of the\n     * first element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': false },\n     *   'fred': {    'age': 40, 'blocked': true },\n     *   'pebbles': { 'age': 1,  'blocked': false }\n     * };\n     *\n     * _.findKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => 'barney' (property order is not guaranteed across environments)\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findKey(characters, { 'age': 1 });\n     * // => 'pebbles'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findKey(characters, 'blocked');\n     * // => 'fred'\n     */\n    function findKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwn(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to search.\n     * @param {Function|Object|string} [callback=identity] The function called per\n     *  iteration. If a property name or object is provided it will be used to\n     *  create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {string|undefined} Returns the key of the found element, else `undefined`.\n     * @example\n     *\n     * var characters = {\n     *   'barney': {  'age': 36, 'blocked': true },\n     *   'fred': {    'age': 40, 'blocked': false },\n     *   'pebbles': { 'age': 1,  'blocked': true }\n     * };\n     *\n     * _.findLastKey(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => returns `pebbles`, assuming `_.findKey` returns `barney`\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastKey(characters, { 'age': 40 });\n     * // => 'fred'\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastKey(characters, 'blocked');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forOwnRight(object, function(value, key, object) {\n        if (callback(value, key, object)) {\n          result = key;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over own and inherited enumerable properties of an object,\n     * executing the callback for each property. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, key, object). Callbacks may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forIn(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'x', 'y', and 'move' (property order is not guaranteed across environments)\n     */\n    var forIn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        for (index in iterable) {\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forIn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * Shape.prototype.move = function(x, y) {\n     *   this.x += x;\n     *   this.y += y;\n     * };\n     *\n     * _.forInRight(new Shape, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'move', 'y', and 'x' assuming `_.forIn ` logs 'x', 'y', and 'move'\n     */\n    function forInRight(object, callback, thisArg) {\n      var pairs = [];\n\n      forIn(object, function(value, key) {\n        pairs.push(key, value);\n      });\n\n      var length = pairs.length;\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(pairs[length--], pairs[length], object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Iterates over own enumerable properties of an object, executing the callback\n     * for each property. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, key, object). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n     */\n    var forOwn = function(collection, callback, thisArg) {\n      var index, iterable = collection, result = iterable;\n      if (!iterable) return result;\n      if (!objectTypes[typeof iterable]) return result;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n        var ownIndex = -1,\n            ownProps = objectTypes[typeof iterable] && keys(iterable),\n            length = ownProps ? ownProps.length : 0;\n\n        while (++ownIndex < length) {\n          index = ownProps[ownIndex];\n          if (callback(iterable[index], index, collection) === false) return result;\n        }\n      return result\n    };\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over elements\n     * of a `collection` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * _.forOwnRight({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n     *   console.log(key);\n     * });\n     * // => logs 'length', '1', and '0' assuming `_.forOwn` logs '0', '1', and 'length'\n     */\n    function forOwnRight(object, callback, thisArg) {\n      var props = keys(object),\n          length = props.length;\n\n      callback = baseCreateCallback(callback, thisArg, 3);\n      while (length--) {\n        var key = props[length];\n        if (callback(object[key], key, object) === false) {\n          break;\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Creates a sorted array of property names of all enumerable properties,\n     * own and inherited, of `object` that have function values.\n     *\n     * @static\n     * @memberOf _\n     * @alias methods\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property names that have function values.\n     * @example\n     *\n     * _.functions(_);\n     * // => ['all', 'any', 'bind', 'bindAll', 'clone', 'compact', 'compose', ...]\n     */\n    function functions(object) {\n      var result = [];\n      forIn(object, function(value, key) {\n        if (isFunction(value)) {\n          result.push(key);\n        }\n      });\n      return result.sort();\n    }\n\n    /**\n     * Checks if the specified property name exists as a direct property of `object`,\n     * instead of an inherited property.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to check.\n     * @returns {boolean} Returns `true` if key is a direct property, else `false`.\n     * @example\n     *\n     * _.has({ 'a': 1, 'b': 2, 'c': 3 }, 'b');\n     * // => true\n     */\n    function has(object, key) {\n      return object ? hasOwnProperty.call(object, key) : false;\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of the given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the created inverted object.\n     * @example\n     *\n     * _.invert({ 'first': 'fred', 'second': 'barney' });\n     * // => { 'fred': 'first', 'barney': 'second' }\n     */\n    function invert(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = {};\n\n      while (++index < length) {\n        var key = props[index];\n        result[object[key]] = key;\n      }\n      return result;\n    }\n\n    /**\n     * Checks if `value` is a boolean value.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a boolean value, else `false`.\n     * @example\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        value && typeof value == 'object' && toString.call(value) == boolClass || false;\n    }\n\n    /**\n     * Checks if `value` is a date.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a date, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     */\n    function isDate(value) {\n      return value && typeof value == 'object' && toString.call(value) == dateClass || false;\n    }\n\n    /**\n     * Checks if `value` is a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     */\n    function isElement(value) {\n      return value && value.nodeType === 1 || false;\n    }\n\n    /**\n     * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n     * length of `0` and objects with no own enumerable properties are considered\n     * \"empty\".\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object|string} value The value to inspect.\n     * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({});\n     * // => true\n     *\n     * _.isEmpty('');\n     * // => true\n     */\n    function isEmpty(value) {\n      var result = true;\n      if (!value) {\n        return result;\n      }\n      var className = toString.call(value),\n          length = value.length;\n\n      if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n          (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n        return !length;\n      }\n      forOwn(value, function() {\n        return (result = false);\n      });\n      return result;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent to each other. If a callback is provided it will be executed\n     * to compare values. If the callback returns `undefined` comparisons will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (a, b).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} a The value to compare.\n     * @param {*} b The other value to compare.\n     * @param {Function} [callback] The function to customize comparing values.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var copy = { 'name': 'fred' };\n     *\n     * object == copy;\n     * // => false\n     *\n     * _.isEqual(object, copy);\n     * // => true\n     *\n     * var words = ['hello', 'goodbye'];\n     * var otherWords = ['hi', 'goodbye'];\n     *\n     * _.isEqual(words, otherWords, function(a, b) {\n     *   var reGreet = /^(?:hello|hi)$/i,\n     *       aGreet = _.isString(a) && reGreet.test(a),\n     *       bGreet = _.isString(b) && reGreet.test(b);\n     *\n     *   return (aGreet || bGreet) ? (aGreet == bGreet) : undefined;\n     * });\n     * // => true\n     */\n    function isEqual(a, b, callback, thisArg) {\n      return baseIsEqual(a, b, typeof callback == 'function' && baseCreateCallback(callback, thisArg, 2));\n    }\n\n    /**\n     * Checks if `value` is, or can be coerced to, a finite number.\n     *\n     * Note: This is not the same as native `isFinite` which will return true for\n     * booleans and empty strings. See http://es5.github.io/#x15.1.2.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is finite, else `false`.\n     * @example\n     *\n     * _.isFinite(-101);\n     * // => true\n     *\n     * _.isFinite('10');\n     * // => true\n     *\n     * _.isFinite(true);\n     * // => false\n     *\n     * _.isFinite('');\n     * // => false\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     */\n    function isFinite(value) {\n      return nativeIsFinite(value) && !nativeIsNaN(parseFloat(value));\n    }\n\n    /**\n     * Checks if `value` is a function.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     */\n    function isFunction(value) {\n      return typeof value == 'function';\n    }\n\n    /**\n     * Checks if `value` is the language type of Object.\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(1);\n     * // => false\n     */\n    function isObject(value) {\n      // check if the value is the ECMAScript language type of Object\n      // http://es5.github.io/#x8\n      // and avoid a V8 bug\n      // http://code.google.com/p/v8/issues/detail?id=2291\n      return !!(value && objectTypes[typeof value]);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * Note: This is not the same as native `isNaN` which will return `true` for\n     * `undefined` and other non-numeric values. See http://es5.github.io/#x15.1.2.4.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // `NaN` as a primitive is the only value that is not equal to itself\n      // (perform the [[Class]] check first to avoid errors with some host objects in IE)\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(undefined);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is a number.\n     *\n     * Note: `NaN` is considered a number. See http://es5.github.io/#x8.5.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(8.4 * 5);\n     * // => true\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        value && typeof value == 'object' && toString.call(value) == numberClass || false;\n    }\n\n    /**\n     * Checks if `value` is an object created by the `Object` constructor.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * _.isPlainObject(new Shape);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     */\n    var isPlainObject = !getPrototypeOf ? shimIsPlainObject : function(value) {\n      if (!(value && toString.call(value) == objectClass)) {\n        return false;\n      }\n      var valueOf = value.valueOf,\n          objProto = isNative(valueOf) && (objProto = getPrototypeOf(valueOf)) && getPrototypeOf(objProto);\n\n      return objProto\n        ? (value == objProto || getPrototypeOf(value) == objProto)\n        : shimIsPlainObject(value);\n    };\n\n    /**\n     * Checks if `value` is a regular expression.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a regular expression, else `false`.\n     * @example\n     *\n     * _.isRegExp(/fred/);\n     * // => true\n     */\n    function isRegExp(value) {\n      return value && typeof value == 'object' && toString.call(value) == regexpClass || false;\n    }\n\n    /**\n     * Checks if `value` is a string.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('fred');\n     * // => true\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        value && typeof value == 'object' && toString.call(value) == stringClass || false;\n    }\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if the `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     */\n    function isUndefined(value) {\n      return typeof value == 'undefined';\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated by\n     * running each own enumerable property of `object` through the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new object with values of the results of each `callback` execution.\n     * @example\n     *\n     * _.mapValues({ 'a': 1, 'b': 2, 'c': 3} , function(num) { return num * 3; });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     *\n     * var characters = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.mapValues(characters, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 }\n     */\n    function mapValues(object, callback, thisArg) {\n      var result = {};\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      forOwn(object, function(value, key, object) {\n        result[key] = callback(value, key, object);\n      });\n      return result;\n    }\n\n    /**\n     * Recursively merges own enumerable properties of the source object(s), that\n     * don't resolve to `undefined` into the destination object. Subsequent sources\n     * will overwrite property assignments of previous sources. If a callback is\n     * provided it will be executed to produce the merged values of the destination\n     * and source properties. If the callback returns `undefined` merging will\n     * be handled by the method instead. The callback is bound to `thisArg` and\n     * invoked with two arguments; (objectValue, sourceValue).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The destination object.\n     * @param {...Object} [source] The source objects.\n     * @param {Function} [callback] The function to customize merging properties.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the destination object.\n     * @example\n     *\n     * var names = {\n     *   'characters': [\n     *     { 'name': 'barney' },\n     *     { 'name': 'fred' }\n     *   ]\n     * };\n     *\n     * var ages = {\n     *   'characters': [\n     *     { 'age': 36 },\n     *     { 'age': 40 }\n     *   ]\n     * };\n     *\n     * _.merge(names, ages);\n     * // => { 'characters': [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred', 'age': 40 }] }\n     *\n     * var food = {\n     *   'fruits': ['apple'],\n     *   'vegetables': ['beet']\n     * };\n     *\n     * var otherFood = {\n     *   'fruits': ['banana'],\n     *   'vegetables': ['carrot']\n     * };\n     *\n     * _.merge(food, otherFood, function(a, b) {\n     *   return _.isArray(a) ? a.concat(b) : undefined;\n     * });\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot] }\n     */\n    function merge(object) {\n      var args = arguments,\n          length = 2;\n\n      if (!isObject(object)) {\n        return object;\n      }\n      // allows working with `_.reduce` and `_.reduceRight` without using\n      // their `index` and `collection` arguments\n      if (typeof args[2] != 'number') {\n        length = args.length;\n      }\n      if (length > 3 && typeof args[length - 2] == 'function') {\n        var callback = baseCreateCallback(args[--length - 1], args[length--], 2);\n      } else if (length > 2 && typeof args[length - 1] == 'function') {\n        callback = args[--length];\n      }\n      var sources = slice(arguments, 1, length),\n          index = -1,\n          stackA = getArray(),\n          stackB = getArray();\n\n      while (++index < length) {\n        baseMerge(object, sources[index], callback, stackA, stackB);\n      }\n      releaseArray(stackA);\n      releaseArray(stackB);\n      return object;\n    }\n\n    /**\n     * Creates a shallow clone of `object` excluding the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` omitting the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The properties to omit or the\n     *  function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object without the omitted properties.\n     * @example\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, 'age');\n     * // => { 'name': 'fred' }\n     *\n     * _.omit({ 'name': 'fred', 'age': 40 }, function(value) {\n     *   return typeof value == 'number';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function omit(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var props = [];\n        forIn(object, function(value, key) {\n          props.push(key);\n        });\n        props = baseDifference(props, baseFlatten(arguments, true, false, 1));\n\n        var index = -1,\n            length = props.length;\n\n        while (++index < length) {\n          var key = props[index];\n          result[key] = object[key];\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (!callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates a two dimensional array of an object's key-value pairs,\n     * i.e. `[[key1, value1], [key2, value2]]`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns new array of key-value pairs.\n     * @example\n     *\n     * _.pairs({ 'barney': 36, 'fred': 40 });\n     * // => [['barney', 36], ['fred', 40]] (property order is not guaranteed across environments)\n     */\n    function pairs(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        var key = props[index];\n        result[index] = [key, object[key]];\n      }\n      return result;\n    }\n\n    /**\n     * Creates a shallow clone of `object` composed of the specified properties.\n     * Property names may be specified as individual arguments or as arrays of\n     * property names. If a callback is provided it will be executed for each\n     * property of `object` picking the properties the callback returns truey\n     * for. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The source object.\n     * @param {Function|...string|string[]} [callback] The function called per\n     *  iteration or property names to pick, specified as individual property\n     *  names or arrays of property names.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns an object composed of the picked properties.\n     * @example\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, 'name');\n     * // => { 'name': 'fred' }\n     *\n     * _.pick({ 'name': 'fred', '_userid': 'fred1' }, function(value, key) {\n     *   return key.charAt(0) != '_';\n     * });\n     * // => { 'name': 'fred' }\n     */\n    function pick(object, callback, thisArg) {\n      var result = {};\n      if (typeof callback != 'function') {\n        var index = -1,\n            props = baseFlatten(arguments, true, false, 1),\n            length = isObject(object) ? props.length : 0;\n\n        while (++index < length) {\n          var key = props[index];\n          if (key in object) {\n            result[key] = object[key];\n          }\n        }\n      } else {\n        callback = lodash.createCallback(callback, thisArg, 3);\n        forIn(object, function(value, key, object) {\n          if (callback(value, key, object)) {\n            result[key] = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * An alternative to `_.reduce` this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable properties through a callback, with each callback execution\n     * potentially mutating the `accumulator` object. The callback is bound to\n     * `thisArg` and invoked with four arguments; (accumulator, value, key, object).\n     * Callbacks may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Array|Object} object The object to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var squares = _.transform([1, 2, 3, 4, 5, 6, 7, 8, 9, 10], function(result, num) {\n     *   num *= num;\n     *   if (num % 2) {\n     *     return result.push(num) < 3;\n     *   }\n     * });\n     * // => [1, 9, 25]\n     *\n     * var mapped = _.transform({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     * });\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function transform(object, callback, accumulator, thisArg) {\n      var isArr = isArray(object);\n      if (accumulator == null) {\n        if (isArr) {\n          accumulator = [];\n        } else {\n          var ctor = object && object.constructor,\n              proto = ctor && ctor.prototype;\n\n          accumulator = baseCreate(proto);\n        }\n      }\n      if (callback) {\n        callback = lodash.createCallback(callback, thisArg, 4);\n        (isArr ? forEach : forOwn)(object, function(value, index, object) {\n          return callback(accumulator, value, index, object);\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * Creates an array composed of the own enumerable property values of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @category Objects\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns an array of property values.\n     * @example\n     *\n     * _.values({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => [1, 2, 3] (property order is not guaranteed across environments)\n     */\n    function values(object) {\n      var index = -1,\n          props = keys(object),\n          length = props.length,\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = object[props[index]];\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements from the specified indexes, or keys, of the\n     * `collection`. Indexes may be specified as individual arguments or as arrays\n     * of indexes.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {...(number|number[]|string|string[])} [index] The indexes of `collection`\n     *   to retrieve, specified as individual indexes or arrays of indexes.\n     * @returns {Array} Returns a new array of elements corresponding to the\n     *  provided indexes.\n     * @example\n     *\n     * _.at(['a', 'b', 'c', 'd', 'e'], [0, 2, 4]);\n     * // => ['a', 'c', 'e']\n     *\n     * _.at(['fred', 'barney', 'pebbles'], 0, 2);\n     * // => ['fred', 'pebbles']\n     */\n    function at(collection) {\n      var args = arguments,\n          index = -1,\n          props = baseFlatten(args, true, false, 1),\n          length = (args[2] && args[2][args[1]] === collection) ? 1 : props.length,\n          result = Array(length);\n\n      while(++index < length) {\n        result[index] = collection[props[index]];\n      }\n      return result;\n    }\n\n    /**\n     * Checks if a given value is present in a collection using strict equality\n     * for comparisons, i.e. `===`. If `fromIndex` is negative, it is used as the\n     * offset from the end of the collection.\n     *\n     * @static\n     * @memberOf _\n     * @alias include\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {*} target The value to check for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {boolean} Returns `true` if the `target` element is found, else `false`.\n     * @example\n     *\n     * _.contains([1, 2, 3], 1);\n     * // => true\n     *\n     * _.contains([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.contains({ 'name': 'fred', 'age': 40 }, 'fred');\n     * // => true\n     *\n     * _.contains('pebbles', 'eb');\n     * // => true\n     */\n    function contains(collection, target, fromIndex) {\n      var index = -1,\n          indexOf = getIndexOf(),\n          length = collection ? collection.length : 0,\n          result = false;\n\n      fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex) || 0;\n      if (isArray(collection)) {\n        result = indexOf(collection, target, fromIndex) > -1;\n      } else if (typeof length == 'number') {\n        result = (isString(collection) ? collection.indexOf(target, fromIndex) : indexOf(collection, target, fromIndex)) > -1;\n      } else {\n        forOwn(collection, function(value) {\n          if (++index >= fromIndex) {\n            return !(result = value === target);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` through the callback. The corresponding value\n     * of each key is the number of times the key was returned by the callback.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy([4.3, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': 1, '6': 2 }\n     *\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key]++ : result[key] = 1);\n    });\n\n    /**\n     * Checks if the given callback returns truey value for **all** elements of\n     * a collection. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias all\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if all elements passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes']);\n     * // => false\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.every(characters, 'age');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.every(characters, { 'age': 36 });\n     * // => false\n     */\n    function every(collection, callback, thisArg) {\n      var result = true;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (!(result = !!callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return (result = !!callback(value, index, collection));\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning an array of all elements\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias select\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that passed the callback check.\n     * @example\n     *\n     * var evens = _.filter([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [2, 4, 6]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.filter(characters, 'blocked');\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.filter(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     */\n    function filter(collection, callback, thisArg) {\n      var result = [];\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result.push(value);\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, returning the first element that\n     * the callback returns truey for. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias detect, findWhere\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.find(characters, function(chr) {\n     *   return chr.age < 40;\n     * });\n     * // => { 'name': 'barney', 'age': 36, 'blocked': false }\n     *\n     * // using \"_.where\" callback shorthand\n     * _.find(characters, { 'age': 1 });\n     * // =>  { 'name': 'pebbles', 'age': 1, 'blocked': false }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.find(characters, 'blocked');\n     * // => { 'name': 'fred', 'age': 40, 'blocked': true }\n     */\n    function find(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          var value = collection[index];\n          if (callback(value, index, collection)) {\n            return value;\n          }\n        }\n      } else {\n        var result;\n        forOwn(collection, function(value, index, collection) {\n          if (callback(value, index, collection)) {\n            result = value;\n            return false;\n          }\n        });\n        return result;\n      }\n    }\n\n    /**\n     * This method is like `_.find` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the found element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(num) {\n     *   return num % 2 == 1;\n     * });\n     * // => 3\n     */\n    function findLast(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      forEachRight(collection, function(value, index, collection) {\n        if (callback(value, index, collection)) {\n          result = value;\n          return false;\n        }\n      });\n      return result;\n    }\n\n    /**\n     * Iterates over elements of a collection, executing the callback for each\n     * element. The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection). Callbacks may exit iteration early by\n     * explicitly returning `false`.\n     *\n     * Note: As with other \"Collections\" methods, objects with a `length` property\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\n     * may be used for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @alias each\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEach(function(num) { console.log(num); }).join(',');\n     * // => logs each number and returns '1,2,3'\n     *\n     * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { console.log(num); });\n     * // => logs each number and returns the object (property order is not guaranteed across environments)\n     */\n    function forEach(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if (callback(collection[index], index, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, callback);\n      }\n      return collection;\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias eachRight\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array|Object|string} Returns `collection`.\n     * @example\n     *\n     * _([1, 2, 3]).forEachRight(function(num) { console.log(num); }).join(',');\n     * // => logs each number from right to left and returns '3,2,1'\n     */\n    function forEachRight(collection, callback, thisArg) {\n      var length = collection ? collection.length : 0;\n      callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        while (length--) {\n          if (callback(collection[length], length, collection) === false) {\n            break;\n          }\n        }\n      } else {\n        var props = keys(collection);\n        length = props.length;\n        forOwn(collection, function(value, key, collection) {\n          key = props ? props[--length] : --length;\n          return callback(collection[key], key, collection);\n        });\n      }\n      return collection;\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of a collection through the callback. The corresponding value\n     * of each key is an array of the elements responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return Math.floor(num); });\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * _.groupBy([4.2, 6.1, 6.4], function(num) { return this.floor(num); }, Math);\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      (hasOwnProperty.call(result, key) ? result[key] : result[key] = []).push(value);\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of the collection through the given callback. The corresponding\n     * value of each key is the last element responsible for generating the key.\n     * The callback is bound to `thisArg` and invoked with three arguments;\n     * (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var keys = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.indexBy(keys, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(keys, function(key) { return String.fromCharCode(key.code); });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.indexBy(characters, function(key) { this.fromCharCode(key.code); }, String);\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     */\n    var indexBy = createAggregator(function(result, value, key) {\n      result[key] = value;\n    });\n\n    /**\n     * Invokes the method named by `methodName` on each element in the `collection`\n     * returning an array of the results of each invoked method. Additional arguments\n     * will be provided to each invoked method. If `methodName` is a function it\n     * will be invoked for, and `this` bound to, each element in the `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|string} methodName The name of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [arg] Arguments to invoke the method with.\n     * @returns {Array} Returns a new array of the results of each invoked method.\n     * @example\n     *\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invoke([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    function invoke(collection, methodName) {\n      var args = slice(arguments, 2),\n          index = -1,\n          isFunc = typeof methodName == 'function',\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        result[++index] = (isFunc ? methodName : value[methodName]).apply(value, args);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an array of values by running each element in the collection\n     * through the callback. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias collect\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of the results of each `callback` execution.\n     * @example\n     *\n     * _.map([1, 2, 3], function(num) { return num * 3; });\n     * // => [3, 6, 9]\n     *\n     * _.map({ 'one': 1, 'two': 2, 'three': 3 }, function(num) { return num * 3; });\n     * // => [3, 6, 9] (property order is not guaranteed across environments)\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, callback, thisArg) {\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      if (typeof length == 'number') {\n        var result = Array(length);\n        while (++index < length) {\n          result[index] = callback(collection[index], index, collection);\n        }\n      } else {\n        result = [];\n        forOwn(collection, function(value, key, collection) {\n          result[++index] = callback(value, key, collection);\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the maximum value of a collection. If the collection is empty or\n     * falsey `-Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.max(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'fred', 'age': 40 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.max(characters, 'age');\n     * // => { 'name': 'fred', 'age': 40 };\n     */\n    function max(collection, callback, thisArg) {\n      var computed = -Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value > result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current > computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the minimum value of a collection. If the collection is empty or\n     * falsey `Infinity` is returned. If a callback is provided it will be executed\n     * for each value in the collection to generate the criterion by which the value\n     * is ranked. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.min(characters, function(chr) { return chr.age; });\n     * // => { 'name': 'barney', 'age': 36 };\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.min(characters, 'age');\n     * // => { 'name': 'barney', 'age': 36 };\n     */\n    function min(collection, callback, thisArg) {\n      var computed = Infinity,\n          result = computed;\n\n      // allows working with functions like `_.map` without using\n      // their `index` argument as a callback\n      if (typeof callback != 'function' && thisArg && thisArg[callback] === collection) {\n        callback = null;\n      }\n      if (callback == null && isArray(collection)) {\n        var index = -1,\n            length = collection.length;\n\n        while (++index < length) {\n          var value = collection[index];\n          if (value < result) {\n            result = value;\n          }\n        }\n      } else {\n        callback = (callback == null && isString(collection))\n          ? charAtCallback\n          : lodash.createCallback(callback, thisArg, 3);\n\n        forEach(collection, function(value, index, collection) {\n          var current = callback(value, index, collection);\n          if (current < computed) {\n            computed = current;\n            result = value;\n          }\n        });\n      }\n      return result;\n    }\n\n    /**\n     * Retrieves the value of a specified property from all elements in the collection.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {string} property The name of the property to pluck.\n     * @returns {Array} Returns a new array of property values.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * _.pluck(characters, 'name');\n     * // => ['barney', 'fred']\n     */\n    var pluck = map;\n\n    /**\n     * Reduces a collection to a value which is the accumulated result of running\n     * each element in the collection through the callback, where each successive\n     * callback execution consumes the return value of the previous execution. If\n     * `accumulator` is not provided the first element of the collection will be\n     * used as the initial `accumulator` value. The callback is bound to `thisArg`\n     * and invoked with four arguments; (accumulator, value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @alias foldl, inject\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var sum = _.reduce([1, 2, 3], function(sum, num) {\n     *   return sum + num;\n     * });\n     * // => 6\n     *\n     * var mapped = _.reduce({ 'a': 1, 'b': 2, 'c': 3 }, function(result, num, key) {\n     *   result[key] = num * 3;\n     *   return result;\n     * }, {});\n     * // => { 'a': 3, 'b': 6, 'c': 9 }\n     */\n    function reduce(collection, callback, accumulator, thisArg) {\n      if (!collection) return accumulator;\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n\n      var index = -1,\n          length = collection.length;\n\n      if (typeof length == 'number') {\n        if (noaccum) {\n          accumulator = collection[++index];\n        }\n        while (++index < length) {\n          accumulator = callback(accumulator, collection[index], index, collection);\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          accumulator = noaccum\n            ? (noaccum = false, value)\n            : callback(accumulator, value, index, collection)\n        });\n      }\n      return accumulator;\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @alias foldr\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function} [callback=identity] The function called per iteration.\n     * @param {*} [accumulator] Initial value of the accumulator.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * var list = [[0, 1], [2, 3], [4, 5]];\n     * var flat = _.reduceRight(list, function(a, b) { return a.concat(b); }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, callback, accumulator, thisArg) {\n      var noaccum = arguments.length < 3;\n      callback = lodash.createCallback(callback, thisArg, 4);\n      forEachRight(collection, function(value, index, collection) {\n        accumulator = noaccum\n          ? (noaccum = false, value)\n          : callback(accumulator, value, index, collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The opposite of `_.filter` this method returns the elements of a\n     * collection that the callback does **not** return truey for.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of elements that failed the callback check.\n     * @example\n     *\n     * var odds = _.reject([1, 2, 3, 4, 5, 6], function(num) { return num % 2 == 0; });\n     * // => [1, 3, 5]\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.reject(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'age': 36, 'blocked': false }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.reject(characters, { 'age': 36 });\n     * // => [{ 'name': 'fred', 'age': 40, 'blocked': true }]\n     */\n    function reject(collection, callback, thisArg) {\n      callback = lodash.createCallback(callback, thisArg, 3);\n      return filter(collection, function(value, index, collection) {\n        return !callback(value, index, collection);\n      });\n    }\n\n    /**\n     * Retrieves a random element or `n` random elements from a collection.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to sample.\n     * @param {number} [n] The number of elements to sample.\n     * @param- {Object} [guard] Allows working with functions like `_.map`\n     *  without using their `index` arguments as `n`.\n     * @returns {Array} Returns the random sample(s) of `collection`.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     *\n     * _.sample([1, 2, 3, 4], 2);\n     * // => [3, 1]\n     */\n    function sample(collection, n, guard) {\n      if (collection && typeof collection.length != 'number') {\n        collection = values(collection);\n      }\n      if (n == null || guard) {\n        return collection ? collection[baseRandom(0, collection.length - 1)] : undefined;\n      }\n      var result = shuffle(collection);\n      result.length = nativeMin(nativeMax(0, n), result.length);\n      return result;\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the Fisher-Yates\n     * shuffle. See http://en.wikipedia.org/wiki/Fisher-Yates_shuffle.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to shuffle.\n     * @returns {Array} Returns a new shuffled collection.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4, 5, 6]);\n     * // => [4, 1, 6, 3, 5, 2]\n     */\n    function shuffle(collection) {\n      var index = -1,\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      forEach(collection, function(value) {\n        var rand = baseRandom(0, ++index);\n        result[index] = result[rand];\n        result[rand] = value;\n      });\n      return result;\n    }\n\n    /**\n     * Gets the size of the `collection` by returning `collection.length` for arrays\n     * and array-like objects or the number of own enumerable properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns `collection.length` or number of own enumerable properties.\n     * @example\n     *\n     * _.size([1, 2]);\n     * // => 2\n     *\n     * _.size({ 'one': 1, 'two': 2, 'three': 3 });\n     * // => 3\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      var length = collection ? collection.length : 0;\n      return typeof length == 'number' ? length : keys(collection).length;\n    }\n\n    /**\n     * Checks if the callback returns a truey value for **any** element of a\n     * collection. The function returns as soon as it finds a passing value and\n     * does not iterate over the entire collection. The callback is bound to\n     * `thisArg` and invoked with three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias any\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {boolean} Returns `true` if any element passed the callback check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'blocked': false },\n     *   { 'name': 'fred',   'age': 40, 'blocked': true }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.some(characters, 'blocked');\n     * // => true\n     *\n     * // using \"_.where\" callback shorthand\n     * _.some(characters, { 'age': 1 });\n     * // => false\n     */\n    function some(collection, callback, thisArg) {\n      var result;\n      callback = lodash.createCallback(callback, thisArg, 3);\n\n      var index = -1,\n          length = collection ? collection.length : 0;\n\n      if (typeof length == 'number') {\n        while (++index < length) {\n          if ((result = callback(collection[index], index, collection))) {\n            break;\n          }\n        }\n      } else {\n        forOwn(collection, function(value, index, collection) {\n          return !(result = callback(value, index, collection));\n        });\n      }\n      return !!result;\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection through the callback. This method\n     * performs a stable sort, that is, it will preserve the original sort order\n     * of equal elements. The callback is bound to `thisArg` and invoked with\n     * three arguments; (value, index|key, collection).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an array of property names is provided for `callback` the collection\n     * will be sorted by each property value.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Array|Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of sorted elements.\n     * @example\n     *\n     * _.sortBy([1, 2, 3], function(num) { return Math.sin(num); });\n     * // => [3, 1, 2]\n     *\n     * _.sortBy([1, 2, 3], function(num) { return this.sin(num); }, Math);\n     * // => [3, 1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'barney',  'age': 26 },\n     *   { 'name': 'fred',    'age': 30 }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.map(_.sortBy(characters, 'age'), _.values);\n     * // => [['barney', 26], ['fred', 30], ['barney', 36], ['fred', 40]]\n     *\n     * // sorting by multiple properties\n     * _.map(_.sortBy(characters, ['name', 'age']), _.values);\n     * // = > [['barney', 26], ['barney', 36], ['fred', 30], ['fred', 40]]\n     */\n    function sortBy(collection, callback, thisArg) {\n      var index = -1,\n          isArr = isArray(callback),\n          length = collection ? collection.length : 0,\n          result = Array(typeof length == 'number' ? length : 0);\n\n      if (!isArr) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      forEach(collection, function(value, key, collection) {\n        var object = result[++index] = getObject();\n        if (isArr) {\n          object.criteria = map(callback, function(key) { return value[key]; });\n        } else {\n          (object.criteria = getArray())[0] = callback(value, key, collection);\n        }\n        object.index = index;\n        object.value = value;\n      });\n\n      length = result.length;\n      result.sort(compareAscending);\n      while (length--) {\n        var object = result[length];\n        result[length] = object.value;\n        if (!isArr) {\n          releaseArray(object.criteria);\n        }\n        releaseObject(object);\n      }\n      return result;\n    }\n\n    /**\n     * Converts the `collection` to an array.\n     *\n     * @static\n     * @memberOf _\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to convert.\n     * @returns {Array} Returns the new converted array.\n     * @example\n     *\n     * (function() { return _.toArray(arguments).slice(1); })(1, 2, 3, 4);\n     * // => [2, 3, 4]\n     */\n    function toArray(collection) {\n      if (collection && typeof collection.length == 'number') {\n        return slice(collection);\n      }\n      return values(collection);\n    }\n\n    /**\n     * Performs a deep comparison of each element in a `collection` to the given\n     * `properties` object, returning an array of all elements that have equivalent\n     * property values.\n     *\n     * @static\n     * @memberOf _\n     * @type Function\n     * @category Collections\n     * @param {Array|Object|string} collection The collection to iterate over.\n     * @param {Object} props The object of property values to filter by.\n     * @returns {Array} Returns a new array of elements that have the given properties.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * _.where(characters, { 'age': 36 });\n     * // => [{ 'name': 'barney', 'age': 36, 'pets': ['hoppy'] }]\n     *\n     * _.where(characters, { 'pets': ['dino'] });\n     * // => [{ 'name': 'fred', 'age': 40, 'pets': ['baby puss', 'dino'] }]\n     */\n    var where = filter;\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are all falsey.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array excluding all values of the provided arrays using strict\n     * equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {...Array} [values] The arrays of values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.difference([1, 2, 3, 4, 5], [5, 2, 10]);\n     * // => [1, 3, 4]\n     */\n    function difference(array) {\n      return baseDifference(array, baseFlatten(arguments, true, true, 1));\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element that passes the callback check, instead of the element itself.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': false },\n     *   { 'name': 'fred',    'age': 40, 'blocked': true },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': false }\n     * ];\n     *\n     * _.findIndex(characters, function(chr) {\n     *   return chr.age < 20;\n     * });\n     * // => 2\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findIndex(characters, 'blocked');\n     * // => 1\n     */\n    function findIndex(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0;\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        if (callback(array[index], index, array)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of a `collection` from right to left.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36, 'blocked': true },\n     *   { 'name': 'fred',    'age': 40, 'blocked': false },\n     *   { 'name': 'pebbles', 'age': 1,  'blocked': true }\n     * ];\n     *\n     * _.findLastIndex(characters, function(chr) {\n     *   return chr.age > 30;\n     * });\n     * // => 1\n     *\n     * // using \"_.where\" callback shorthand\n     * _.findLastIndex(characters, { 'age': 36 });\n     * // => 0\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.findLastIndex(characters, 'blocked');\n     * // => 2\n     */\n    function findLastIndex(array, callback, thisArg) {\n      var length = array ? array.length : 0;\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (length--) {\n        if (callback(array[length], length, array)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Gets the first element or first `n` elements of an array. If a callback\n     * is provided elements at the beginning of the array are returned as long\n     * as the callback returns truey. The callback is bound to `thisArg` and\n     * invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias head, take\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the first element(s) of `array`.\n     * @example\n     *\n     * _.first([1, 2, 3]);\n     * // => 1\n     *\n     * _.first([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.first([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [1, 2]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.first(characters, 'blocked');\n     * // => [{ 'name': 'barney', 'blocked': true, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.first(characters, { 'employer': 'slate' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function first(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = -1;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[0] : undefined;\n        }\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, n), length));\n    }\n\n    /**\n     * Flattens a nested array (the nesting can be to any depth). If `isShallow`\n     * is truey, the array will only be flattened a single level. If a callback\n     * is provided each element of the array is passed through the callback before\n     * flattening. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to flatten.\n     * @param {boolean} [isShallow=false] A flag to restrict flattening to a single level.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2], [3, [[4]]]]);\n     * // => [1, 2, 3, 4];\n     *\n     * _.flatten([1, [2], [3, [[4]]]], true);\n     * // => [1, 2, 3, [[4]]];\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 30, 'pets': ['hoppy'] },\n     *   { 'name': 'fred',   'age': 40, 'pets': ['baby puss', 'dino'] }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.flatten(characters, 'pets');\n     * // => ['hoppy', 'baby puss', 'dino']\n     */\n    function flatten(array, isShallow, callback, thisArg) {\n      // juggle arguments\n      if (typeof isShallow != 'boolean' && isShallow != null) {\n        thisArg = callback;\n        callback = (typeof isShallow != 'function' && thisArg && thisArg[isShallow] === array) ? null : isShallow;\n        isShallow = false;\n      }\n      if (callback != null) {\n        array = map(array, callback, thisArg);\n      }\n      return baseFlatten(array, isShallow);\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found using\n     * strict equality for comparisons, i.e. `===`. If the array is already sorted\n     * providing `true` for `fromIndex` will run a faster binary search.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\n     *  to perform a binary search on a sorted array.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 1\n     *\n     * _.indexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 4\n     *\n     * _.indexOf([1, 1, 2, 2, 3, 3], 2, true);\n     * // => 2\n     */\n    function indexOf(array, value, fromIndex) {\n      if (typeof fromIndex == 'number') {\n        var length = array ? array.length : 0;\n        fromIndex = (fromIndex < 0 ? nativeMax(0, length + fromIndex) : fromIndex || 0);\n      } else if (fromIndex) {\n        var index = sortedIndex(array, value);\n        return array[index] === value ? index : -1;\n      }\n      return baseIndexOf(array, value, fromIndex);\n    }\n\n    /**\n     * Gets all but the last element or last `n` elements of an array. If a\n     * callback is provided elements at the end of the array are excluded from\n     * the result as long as the callback returns truey. The callback is bound\n     * to `thisArg` and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.initial([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.initial([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [1]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.initial(characters, 'blocked');\n     * // => [{ 'name': 'barney',  'blocked': false, 'employer': 'slate' }]\n     *\n     * // using \"_.where\" callback shorthand\n     * _.pluck(_.initial(characters, { 'employer': 'na' }), 'name');\n     * // => ['barney', 'fred']\n     */\n    function initial(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : callback || n;\n      }\n      return slice(array, 0, nativeMin(nativeMax(0, length - n), length));\n    }\n\n    /**\n     * Creates an array of unique values present in all provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of shared values.\n     * @example\n     *\n     * _.intersection([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2]\n     */\n    function intersection() {\n      var args = [],\n          argsIndex = -1,\n          argsLength = arguments.length,\n          caches = getArray(),\n          indexOf = getIndexOf(),\n          trustIndexOf = indexOf === baseIndexOf,\n          seen = getArray();\n\n      while (++argsIndex < argsLength) {\n        var value = arguments[argsIndex];\n        if (isArray(value) || isArguments(value)) {\n          args.push(value);\n          caches.push(trustIndexOf && value.length >= largeArraySize &&\n            createCache(argsIndex ? args[argsIndex] : seen));\n        }\n      }\n      var array = args[0],\n          index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      outer:\n      while (++index < length) {\n        var cache = caches[0];\n        value = array[index];\n\n        if ((cache ? cacheIndexOf(cache, value) : indexOf(seen, value)) < 0) {\n          argsIndex = argsLength;\n          (cache || seen).push(value);\n          while (--argsIndex) {\n            cache = caches[argsIndex];\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(args[argsIndex], value)) < 0) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n      }\n      while (argsLength--) {\n        cache = caches[argsLength];\n        if (cache) {\n          releaseObject(cache);\n        }\n      }\n      releaseArray(caches);\n      releaseArray(seen);\n      return result;\n    }\n\n    /**\n     * Gets the last element or last `n` elements of an array. If a callback is\n     * provided elements at the end of the array are returned as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback] The function called\n     *  per element or the number of elements to return. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {*} Returns the last element(s) of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     *\n     * _.last([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.last([1, 2, 3], function(num) {\n     *   return num > 1;\n     * });\n     * // => [2, 3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': false, 'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true,  'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.last(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.last(characters, { 'employer': 'na' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function last(array, callback, thisArg) {\n      var n = 0,\n          length = array ? array.length : 0;\n\n      if (typeof callback != 'number' && callback != null) {\n        var index = length;\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (index-- && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = callback;\n        if (n == null || thisArg) {\n          return array ? array[length - 1] : undefined;\n        }\n      }\n      return slice(array, nativeMax(0, length - n));\n    }\n\n    /**\n     * Gets the index at which the last occurrence of `value` is found using strict\n     * equality for comparisons, i.e. `===`. If `fromIndex` is negative, it is used\n     * as the offset from the end of the collection.\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to search.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value or `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2);\n     * // => 4\n     *\n     * _.lastIndexOf([1, 2, 3, 1, 2, 3], 2, 3);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var index = array ? array.length : 0;\n      if (typeof fromIndex == 'number') {\n        index = (fromIndex < 0 ? nativeMax(0, index + fromIndex) : nativeMin(fromIndex, index - 1)) + 1;\n      }\n      while (index--) {\n        if (array[index] === value) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Removes all provided values from the given array using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {...*} [value] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3, 1, 2, 3];\n     * _.pull(array, 2, 3);\n     * console.log(array);\n     * // => [1, 1]\n     */\n    function pull(array) {\n      var args = arguments,\n          argsIndex = 0,\n          argsLength = args.length,\n          length = array ? array.length : 0;\n\n      while (++argsIndex < argsLength) {\n        var index = -1,\n            value = args[argsIndex];\n        while (++index < length) {\n          if (array[index] === value) {\n            splice.call(array, index--, 1);\n            length--;\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to but not including `end`. If `start` is less than `stop` a\n     * zero-length range is created unless a negative `step` is specified.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns a new range array.\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    function range(start, end, step) {\n      start = +start || 0;\n      step = typeof step == 'number' ? step : (+step || 1);\n\n      if (end == null) {\n        end = start;\n        start = 0;\n      }\n      // use `Array(length)` so engines like Chakra and V8 avoid slower modes\n      // http://youtu.be/XAqIpGU8ZZk#t=17m25s\n      var index = -1,\n          length = nativeMax(0, ceil((end - start) / (step || 1))),\n          result = Array(length);\n\n      while (++index < length) {\n        result[index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * Removes all elements from an array that the callback returns truey for\n     * and returns an array of removed elements. The callback is bound to `thisArg`\n     * and invoked with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to modify.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4, 5, 6];\n     * var evens = _.remove(array, function(num) { return num % 2 == 0; });\n     *\n     * console.log(array);\n     * // => [1, 3, 5]\n     *\n     * console.log(evens);\n     * // => [2, 4, 6]\n     */\n    function remove(array, callback, thisArg) {\n      var index = -1,\n          length = array ? array.length : 0,\n          result = [];\n\n      callback = lodash.createCallback(callback, thisArg, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (callback(value, index, array)) {\n          result.push(value);\n          splice.call(array, index--, 1);\n          length--;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The opposite of `_.initial` this method gets all but the first element or\n     * first `n` elements of an array. If a callback function is provided elements\n     * at the beginning of the array are excluded from the result as long as the\n     * callback returns truey. The callback is bound to `thisArg` and invoked\n     * with three arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias drop, tail\n     * @category Arrays\n     * @param {Array} array The array to query.\n     * @param {Function|Object|number|string} [callback=1] The function called\n     *  per element or the number of elements to exclude. If a property name or\n     *  object is provided it will be used to create a \"_.pluck\" or \"_.where\"\n     *  style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a slice of `array`.\n     * @example\n     *\n     * _.rest([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.rest([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.rest([1, 2, 3], function(num) {\n     *   return num < 3;\n     * });\n     * // => [3]\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'blocked': true,  'employer': 'slate' },\n     *   { 'name': 'fred',    'blocked': false,  'employer': 'slate' },\n     *   { 'name': 'pebbles', 'blocked': true, 'employer': 'na' }\n     * ];\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.pluck(_.rest(characters, 'blocked'), 'name');\n     * // => ['fred', 'pebbles']\n     *\n     * // using \"_.where\" callback shorthand\n     * _.rest(characters, { 'employer': 'slate' });\n     * // => [{ 'name': 'pebbles', 'blocked': true, 'employer': 'na' }]\n     */\n    function rest(array, callback, thisArg) {\n      if (typeof callback != 'number' && callback != null) {\n        var n = 0,\n            index = -1,\n            length = array ? array.length : 0;\n\n        callback = lodash.createCallback(callback, thisArg, 3);\n        while (++index < length && callback(array[index], index, array)) {\n          n++;\n        }\n      } else {\n        n = (callback == null || thisArg) ? 1 : nativeMax(0, callback);\n      }\n      return slice(array, n);\n    }\n\n    /**\n     * Uses a binary search to determine the smallest index at which a value\n     * should be inserted into a given sorted array in order to maintain the sort\n     * order of the array. If a callback is provided it will be executed for\n     * `value` and each element of `array` to compute their sort ranking. The\n     * callback is bound to `thisArg` and invoked with one argument; (value).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([20, 30, 50], 40);\n     * // => 2\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.sortedIndex([{ 'x': 20 }, { 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\n     * // => 2\n     *\n     * var dict = {\n     *   'wordToNumber': { 'twenty': 20, 'thirty': 30, 'fourty': 40, 'fifty': 50 }\n     * };\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return dict.wordToNumber[word];\n     * });\n     * // => 2\n     *\n     * _.sortedIndex(['twenty', 'thirty', 'fifty'], 'fourty', function(word) {\n     *   return this.wordToNumber[word];\n     * }, dict);\n     * // => 2\n     */\n    function sortedIndex(array, value, callback, thisArg) {\n      var low = 0,\n          high = array ? array.length : low;\n\n      // explicitly reference `identity` for better inlining in Firefox\n      callback = callback ? lodash.createCallback(callback, thisArg, 1) : identity;\n      value = callback(value);\n\n      while (low < high) {\n        var mid = (low + high) >>> 1;\n        (callback(array[mid]) < value)\n          ? low = mid + 1\n          : high = mid;\n      }\n      return low;\n    }\n\n    /**\n     * Creates an array of unique values, in order, of the provided arrays using\n     * strict equality for comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of combined values.\n     * @example\n     *\n     * _.union([1, 2, 3], [5, 2, 1, 4], [2, 1]);\n     * // => [1, 2, 3, 5, 4]\n     */\n    function union() {\n      return baseUniq(baseFlatten(arguments, true, true));\n    }\n\n    /**\n     * Creates a duplicate-value-free version of an array using strict equality\n     * for comparisons, i.e. `===`. If the array is sorted, providing\n     * `true` for `isSorted` will use a faster algorithm. If a callback is provided\n     * each element of `array` is passed through the callback before uniqueness\n     * is computed. The callback is bound to `thisArg` and invoked with three\n     * arguments; (value, index, array).\n     *\n     * If a property name is provided for `callback` the created \"_.pluck\" style\n     * callback will return the property value of the given element.\n     *\n     * If an object is provided for `callback` the created \"_.where\" style callback\n     * will return `true` for elements that have the properties of the given object,\n     * else `false`.\n     *\n     * @static\n     * @memberOf _\n     * @alias unique\n     * @category Arrays\n     * @param {Array} array The array to process.\n     * @param {boolean} [isSorted=false] A flag to indicate that `array` is sorted.\n     * @param {Function|Object|string} [callback=identity] The function called\n     *  per iteration. If a property name or object is provided it will be used\n     *  to create a \"_.pluck\" or \"_.where\" style callback, respectively.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns a duplicate-value-free array.\n     * @example\n     *\n     * _.uniq([1, 2, 1, 3, 1]);\n     * // => [1, 2, 3]\n     *\n     * _.uniq([1, 1, 2, 2, 3], true);\n     * // => [1, 2, 3]\n     *\n     * _.uniq(['A', 'b', 'C', 'a', 'B', 'c'], function(letter) { return letter.toLowerCase(); });\n     * // => ['A', 'b', 'C']\n     *\n     * _.uniq([1, 2.5, 3, 1.5, 2, 3.5], function(num) { return this.floor(num); }, Math);\n     * // => [1, 2.5, 3]\n     *\n     * // using \"_.pluck\" callback shorthand\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniq(array, isSorted, callback, thisArg) {\n      // juggle arguments\n      if (typeof isSorted != 'boolean' && isSorted != null) {\n        thisArg = callback;\n        callback = (typeof isSorted != 'function' && thisArg && thisArg[isSorted] === array) ? null : isSorted;\n        isSorted = false;\n      }\n      if (callback != null) {\n        callback = lodash.createCallback(callback, thisArg, 3);\n      }\n      return baseUniq(array, isSorted, callback);\n    }\n\n    /**\n     * Creates an array excluding all provided values using strict equality for\n     * comparisons, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {Array} array The array to filter.\n     * @param {...*} [value] The values to exclude.\n     * @returns {Array} Returns a new array of filtered values.\n     * @example\n     *\n     * _.without([1, 2, 1, 0, 3, 1, 4], 0, 1);\n     * // => [2, 3, 4]\n     */\n    function without(array) {\n      return baseDifference(array, slice(arguments, 1));\n    }\n\n    /**\n     * Creates an array that is the symmetric difference of the provided arrays.\n     * See http://en.wikipedia.org/wiki/Symmetric_difference.\n     *\n     * @static\n     * @memberOf _\n     * @category Arrays\n     * @param {...Array} [array] The arrays to inspect.\n     * @returns {Array} Returns an array of values.\n     * @example\n     *\n     * _.xor([1, 2, 3], [5, 2, 1, 4]);\n     * // => [3, 5, 4]\n     *\n     * _.xor([1, 2, 5], [2, 3, 5], [3, 4, 5]);\n     * // => [1, 4, 5]\n     */\n    function xor() {\n      var index = -1,\n          length = arguments.length;\n\n      while (++index < length) {\n        var array = arguments[index];\n        if (isArray(array) || isArguments(array)) {\n          var result = result\n            ? baseUniq(baseDifference(result, array).concat(baseDifference(array, result)))\n            : array;\n        }\n      }\n      return result || [];\n    }\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the first\n     * elements of the given arrays, the second of which contains the second\n     * elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @alias unzip\n     * @category Arrays\n     * @param {...Array} [array] Arrays to process.\n     * @returns {Array} Returns a new array of grouped elements.\n     * @example\n     *\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\n     * // => [['fred', 30, true], ['barney', 40, false]]\n     */\n    function zip() {\n      var array = arguments.length > 1 ? arguments : arguments[0],\n          index = -1,\n          length = array ? max(pluck(array, 'length')) : 0,\n          result = Array(length < 0 ? 0 : length);\n\n      while (++index < length) {\n        result[index] = pluck(array, index);\n      }\n      return result;\n    }\n\n    /**\n     * Creates an object composed from arrays of `keys` and `values`. Provide\n     * either a single two dimensional array, i.e. `[[key1, value1], [key2, value2]]`\n     * or two arrays, one of `keys` and one of corresponding `values`.\n     *\n     * @static\n     * @memberOf _\n     * @alias object\n     * @category Arrays\n     * @param {Array} keys The array of keys.\n     * @param {Array} [values=[]] The array of values.\n     * @returns {Object} Returns an object composed of the given keys and\n     *  corresponding values.\n     * @example\n     *\n     * _.zipObject(['fred', 'barney'], [30, 40]);\n     * // => { 'fred': 30, 'barney': 40 }\n     */\n    function zipObject(keys, values) {\n      var index = -1,\n          length = keys ? keys.length : 0,\n          result = {};\n\n      if (!values && length && !isArray(keys[0])) {\n        values = [];\n      }\n      while (++index < length) {\n        var key = keys[index];\n        if (values) {\n          result[key] = values[index];\n        } else if (key) {\n          result[key[0]] = key[1];\n        }\n      }\n      return result;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that executes `func`, with  the `this` binding and\n     * arguments of the created function, only after being called `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {number} n The number of times the function must be called before\n     *  `func` is executed.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('Done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => logs 'Done saving!', after all saves have completed\n     */\n    function after(n, func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with the `this`\n     * binding of `thisArg` and prepends any additional `bind` arguments to those\n     * provided to the bound function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to bind.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var func = function(greeting) {\n     *   return greeting + ' ' + this.name;\n     * };\n     *\n     * func = _.bind(func, { 'name': 'fred' }, 'hi');\n     * func();\n     * // => 'hi fred'\n     */\n    function bind(func, thisArg) {\n      return arguments.length > 2\n        ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n        : createWrapper(func, 1, null, null, thisArg);\n    }\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method. Method names may be specified as individual arguments or as arrays\n     * of method names. If no method names are provided all the function properties\n     * of `object` will be bound.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...string} [methodName] The object method names to\n     *  bind, specified as individual method names or arrays of method names.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'onClick': function() { console.log('clicked ' + this.label); }\n     * };\n     *\n     * _.bindAll(view);\n     * jQuery('#docs').on('click', view.onClick);\n     * // => logs 'clicked docs', when the button is clicked\n     */\n    function bindAll(object) {\n      var funcs = arguments.length > 1 ? baseFlatten(arguments, true, false, 1) : functions(object),\n          index = -1,\n          length = funcs.length;\n\n      while (++index < length) {\n        var key = funcs[index];\n        object[key] = createWrapper(object[key], 1, null, null, object);\n      }\n      return object;\n    }\n\n    /**\n     * Creates a function that, when called, invokes the method at `object[key]`\n     * and prepends any additional `bindKey` arguments to those provided to the bound\n     * function. This method differs from `_.bind` by allowing bound functions to\n     * reference methods that will be redefined or don't yet exist.\n     * See http://michaux.ca/articles/lazy-function-definition-pattern.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Object} object The object the method belongs to.\n     * @param {string} key The key of the method.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'name': 'fred',\n     *   'greet': function(greeting) {\n     *     return greeting + ' ' + this.name;\n     *   }\n     * };\n     *\n     * var func = _.bindKey(object, 'greet', 'hi');\n     * func();\n     * // => 'hi fred'\n     *\n     * object.greet = function(greeting) {\n     *   return greeting + 'ya ' + this.name + '!';\n     * };\n     *\n     * func();\n     * // => 'hiya fred!'\n     */\n    function bindKey(object, key) {\n      return arguments.length > 2\n        ? createWrapper(key, 19, slice(arguments, 2), null, object)\n        : createWrapper(key, 3, null, null, object);\n    }\n\n    /**\n     * Creates a function that is the composition of the provided functions,\n     * where each function consumes the return value of the function that follows.\n     * For example, composing the functions `f()`, `g()`, and `h()` produces `f(g(h()))`.\n     * Each function is executed with the `this` binding of the composed function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {...Function} [func] Functions to compose.\n     * @returns {Function} Returns the new composed function.\n     * @example\n     *\n     * var realNameMap = {\n     *   'pebbles': 'penelope'\n     * };\n     *\n     * var format = function(name) {\n     *   name = realNameMap[name.toLowerCase()] || name;\n     *   return name.charAt(0).toUpperCase() + name.slice(1).toLowerCase();\n     * };\n     *\n     * var greet = function(formatted) {\n     *   return 'Hiya ' + formatted + '!';\n     * };\n     *\n     * var welcome = _.compose(greet, format);\n     * welcome('pebbles');\n     * // => 'Hiya Penelope!'\n     */\n    function compose() {\n      var funcs = arguments,\n          length = funcs.length;\n\n      while (length--) {\n        if (!isFunction(funcs[length])) {\n          throw new TypeError;\n        }\n      }\n      return function() {\n        var args = arguments,\n            length = funcs.length;\n\n        while (length--) {\n          args = [funcs[length].apply(this, args)];\n        }\n        return args[0];\n      };\n    }\n\n    /**\n     * Creates a function which accepts one or more arguments of `func` that when\n     * invoked either executes `func` returning its result, if all `func` arguments\n     * have been provided, or returns a function that accepts one or more of the\n     * remaining `func` arguments, and so on. The arity of `func` can be specified\n     * if `func.length` is not sufficient.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var curried = _.curry(function(a, b, c) {\n     *   console.log(a + b + c);\n     * });\n     *\n     * curried(1)(2)(3);\n     * // => 6\n     *\n     * curried(1, 2)(3);\n     * // => 6\n     *\n     * curried(1, 2, 3);\n     * // => 6\n     */\n    function curry(func, arity) {\n      arity = typeof arity == 'number' ? arity : (+arity || func.length);\n      return createWrapper(func, 4, null, null, null, arity);\n    }\n\n    /**\n     * Creates a function that will delay the execution of `func` until after\n     * `wait` milliseconds have elapsed since the last time it was invoked.\n     * Provide an options object to indicate that `func` should be invoked on\n     * the leading and/or trailing edge of the `wait` timeout. Subsequent calls\n     * to the debounced function will return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the debounced function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to debounce.\n     * @param {number} wait The number of milliseconds to delay.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=false] Specify execution on the leading edge of the timeout.\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be delayed before it's called.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // avoid costly calculations while the window size is in flux\n     * var lazyLayout = _.debounce(calculateLayout, 150);\n     * jQuery(window).on('resize', lazyLayout);\n     *\n     * // execute `sendMail` when the click event is fired, debouncing subsequent calls\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * });\n     *\n     * // ensure `batchLog` is executed once after 1 second of debounced calls\n     * var source = new EventSource('/stream');\n     * source.addEventListener('message', _.debounce(batchLog, 250, {\n     *   'maxWait': 1000\n     * }, false);\n     */\n    function debounce(func, wait, options) {\n      var args,\n          maxTimeoutId,\n          result,\n          stamp,\n          thisArg,\n          timeoutId,\n          trailingCall,\n          lastCalled = 0,\n          maxWait = false,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      wait = nativeMax(0, wait) || 0;\n      if (options === true) {\n        var leading = true;\n        trailing = false;\n      } else if (isObject(options)) {\n        leading = options.leading;\n        maxWait = 'maxWait' in options && (nativeMax(wait, options.maxWait) || 0);\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      var delayed = function() {\n        var remaining = wait - (now() - stamp);\n        if (remaining <= 0) {\n          if (maxTimeoutId) {\n            clearTimeout(maxTimeoutId);\n          }\n          var isCalled = trailingCall;\n          maxTimeoutId = timeoutId = trailingCall = undefined;\n          if (isCalled) {\n            lastCalled = now();\n            result = func.apply(thisArg, args);\n            if (!timeoutId && !maxTimeoutId) {\n              args = thisArg = null;\n            }\n          }\n        } else {\n          timeoutId = setTimeout(delayed, remaining);\n        }\n      };\n\n      var maxDelayed = function() {\n        if (timeoutId) {\n          clearTimeout(timeoutId);\n        }\n        maxTimeoutId = timeoutId = trailingCall = undefined;\n        if (trailing || (maxWait !== wait)) {\n          lastCalled = now();\n          result = func.apply(thisArg, args);\n          if (!timeoutId && !maxTimeoutId) {\n            args = thisArg = null;\n          }\n        }\n      };\n\n      return function() {\n        args = arguments;\n        stamp = now();\n        thisArg = this;\n        trailingCall = trailing && (timeoutId || !leading);\n\n        if (maxWait === false) {\n          var leadingCall = leading && !timeoutId;\n        } else {\n          if (!maxTimeoutId && !leading) {\n            lastCalled = stamp;\n          }\n          var remaining = maxWait - (stamp - lastCalled),\n              isCalled = remaining <= 0;\n\n          if (isCalled) {\n            if (maxTimeoutId) {\n              maxTimeoutId = clearTimeout(maxTimeoutId);\n            }\n            lastCalled = stamp;\n            result = func.apply(thisArg, args);\n          }\n          else if (!maxTimeoutId) {\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\n          }\n        }\n        if (isCalled && timeoutId) {\n          timeoutId = clearTimeout(timeoutId);\n        }\n        else if (!timeoutId && wait !== maxWait) {\n          timeoutId = setTimeout(delayed, wait);\n        }\n        if (leadingCall) {\n          isCalled = true;\n          result = func.apply(thisArg, args);\n        }\n        if (isCalled && !timeoutId && !maxTimeoutId) {\n          args = thisArg = null;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Defers executing the `func` function until the current call stack has cleared.\n     * Additional arguments will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to defer.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) { console.log(text); }, 'deferred');\n     * // logs 'deferred' after one or more milliseconds\n     */\n    function defer(func) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 1);\n      return setTimeout(function() { func.apply(undefined, args); }, 1);\n    }\n\n    /**\n     * Executes the `func` function after `wait` milliseconds. Additional arguments\n     * will be provided to `func` when it is invoked.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay execution.\n     * @param {...*} [arg] Arguments to invoke the function with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) { console.log(text); }, 1000, 'later');\n     * // => logs 'later' after one second\n     */\n    function delay(func, wait) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var args = slice(arguments, 2);\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided it will be used to determine the cache key for storing the result\n     * based on the arguments provided to the memoized function. By default, the\n     * first argument provided to the memoized function is used as the cache key.\n     * The `func` is executed with the `this` binding of the memoized function.\n     * The result cache is exposed as the `cache` property on the memoized function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] A function used to resolve the cache key.\n     * @returns {Function} Returns the new memoizing function.\n     * @example\n     *\n     * var fibonacci = _.memoize(function(n) {\n     *   return n < 2 ? n : fibonacci(n - 1) + fibonacci(n - 2);\n     * });\n     *\n     * fibonacci(9)\n     * // => 34\n     *\n     * var data = {\n     *   'fred': { 'name': 'fred', 'age': 40 },\n     *   'pebbles': { 'name': 'pebbles', 'age': 1 }\n     * };\n     *\n     * // modifying the result cache\n     * var get = _.memoize(function(name) { return data[name]; }, _.identity);\n     * get('pebbles');\n     * // => { 'name': 'pebbles', 'age': 1 }\n     *\n     * get.cache.pebbles.name = 'penelope';\n     * get('pebbles');\n     * // => { 'name': 'penelope', 'age': 1 }\n     */\n    function memoize(func, resolver) {\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      var memoized = function() {\n        var cache = memoized.cache,\n            key = resolver ? resolver.apply(this, arguments) : keyPrefix + arguments[0];\n\n        return hasOwnProperty.call(cache, key)\n          ? cache[key]\n          : (cache[key] = func.apply(this, arguments));\n      }\n      memoized.cache = {};\n      return memoized;\n    }\n\n    /**\n     * Creates a function that is restricted to execute `func` once. Repeat calls to\n     * the function will return the value of the first call. The `func` is executed\n     * with the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // `initialize` executes `createApplication` once\n     */\n    function once(func) {\n      var ran,\n          result;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      return function() {\n        if (ran) {\n          return result;\n        }\n        ran = true;\n        result = func.apply(this, arguments);\n\n        // clear the `func` variable so the function may be garbage collected\n        func = null;\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that, when called, invokes `func` with any additional\n     * `partial` arguments prepended to those provided to the new function. This\n     * method is similar to `_.bind` except it does **not** alter the `this` binding.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var greet = function(greeting, name) { return greeting + ' ' + name; };\n     * var hi = _.partial(greet, 'hi');\n     * hi('fred');\n     * // => 'hi fred'\n     */\n    function partial(func) {\n      return createWrapper(func, 16, slice(arguments, 1));\n    }\n\n    /**\n     * This method is like `_.partial` except that `partial` arguments are\n     * appended to those provided to the new function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [arg] Arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * var defaultsDeep = _.partialRight(_.merge, _.defaults);\n     *\n     * var options = {\n     *   'variable': 'data',\n     *   'imports': { 'jq': $ }\n     * };\n     *\n     * defaultsDeep(options, _.templateSettings);\n     *\n     * options.variable\n     * // => 'data'\n     *\n     * options.imports\n     * // => { '_': _, 'jq': $ }\n     */\n    function partialRight(func) {\n      return createWrapper(func, 32, null, slice(arguments, 1));\n    }\n\n    /**\n     * Creates a function that, when executed, will only call the `func` function\n     * at most once per every `wait` milliseconds. Provide an options object to\n     * indicate that `func` should be invoked on the leading and/or trailing edge\n     * of the `wait` timeout. Subsequent calls to the throttled function will\n     * return the result of the last `func` call.\n     *\n     * Note: If `leading` and `trailing` options are `true` `func` will be called\n     * on the trailing edge of the timeout only if the the throttled function is\n     * invoked more than once during the `wait` timeout.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {Function} func The function to throttle.\n     * @param {number} wait The number of milliseconds to throttle executions to.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.leading=true] Specify execution on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true] Specify execution on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // avoid excessively updating the position while scrolling\n     * var throttled = _.throttle(updatePosition, 100);\n     * jQuery(window).on('scroll', throttled);\n     *\n     * // execute `renewToken` when the click event is fired, but not more than once every 5 minutes\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\n     *   'trailing': false\n     * }));\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (!isFunction(func)) {\n        throw new TypeError;\n      }\n      if (options === false) {\n        leading = false;\n      } else if (isObject(options)) {\n        leading = 'leading' in options ? options.leading : leading;\n        trailing = 'trailing' in options ? options.trailing : trailing;\n      }\n      debounceOptions.leading = leading;\n      debounceOptions.maxWait = wait;\n      debounceOptions.trailing = trailing;\n\n      return debounce(func, wait, debounceOptions);\n    }\n\n    /**\n     * Creates a function that provides `value` to the wrapper function as its\n     * first argument. Additional arguments provided to the function are appended\n     * to those provided to the wrapper function. The wrapper is executed with\n     * the `this` binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @category Functions\n     * @param {*} value The value to wrap.\n     * @param {Function} wrapper The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('Fred, Wilma, & Pebbles');\n     * // => '<p>Fred, Wilma, &amp; Pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return createWrapper(wrapper, 16, [value]);\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * var getter = _.constant(object);\n     * getter() === object;\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Produces a callback bound to an optional `thisArg`. If `func` is a property\n     * name the created callback will return the property value for a given element.\n     * If `func` is an object the created callback will return `true` for elements\n     * that contain the equivalent object properties, otherwise it will return `false`.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} [func=identity] The value to convert to a callback.\n     * @param {*} [thisArg] The `this` binding of the created callback.\n     * @param {number} [argCount] The number of arguments the callback accepts.\n     * @returns {Function} Returns a callback function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // wrap to create custom callback shorthands\n     * _.createCallback = _.wrap(_.createCallback, function(func, callback, thisArg) {\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(callback);\n     *   return !match ? func(callback, thisArg) : function(object) {\n     *     return match[2] == 'gt' ? object[match[1]] > match[3] : object[match[1]] < match[3];\n     *   };\n     * });\n     *\n     * _.filter(characters, 'age__gt38');\n     * // => [{ 'name': 'fred', 'age': 40 }]\n     */\n    function createCallback(func, thisArg, argCount) {\n      var type = typeof func;\n      if (func == null || type == 'function') {\n        return baseCreateCallback(func, thisArg, argCount);\n      }\n      // handle \"_.pluck\" style callback shorthands\n      if (type != 'object') {\n        return property(func);\n      }\n      var props = keys(func),\n          key = props[0],\n          a = func[key];\n\n      // handle \"_.where\" style callback shorthands\n      if (props.length == 1 && a === a && !isObject(a)) {\n        // fast path the common case of providing an object with a single\n        // property containing a primitive value\n        return function(object) {\n          var b = object[key];\n          return a === b && (a !== 0 || (1 / a == 1 / b));\n        };\n      }\n      return function(object) {\n        var length = props.length,\n            result = false;\n\n        while (length--) {\n          if (!(result = baseIsEqual(object[props[length]], func[props[length]], null, true))) {\n            break;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Converts the characters `&`, `<`, `>`, `\"`, and `'` in `string` to their\n     * corresponding HTML entities.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('Fred, Wilma, & Pebbles');\n     * // => 'Fred, Wilma, &amp; Pebbles'\n     */\n    function escape(string) {\n      return string == null ? '' : String(string).replace(reUnescapedHtml, escapeHtmlChar);\n    }\n\n    /**\n     * This method returns the first argument provided to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.identity(object) === object;\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Adds function properties of a source object to the destination object.\n     * If `object` is a function methods will be added to its prototype as well.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Function|Object} [object=lodash] object The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options] The options object.\n     * @param {boolean} [options.chain=true] Specify whether the functions added are chainable.\n     * @example\n     *\n     * function capitalize(string) {\n     *   return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();\n     * }\n     *\n     * _.mixin({ 'capitalize': capitalize });\n     * _.capitalize('fred');\n     * // => 'Fred'\n     *\n     * _('fred').capitalize().value();\n     * // => 'Fred'\n     *\n     * _.mixin({ 'capitalize': capitalize }, { 'chain': false });\n     * _('fred').capitalize();\n     * // => 'Fred'\n     */\n    function mixin(object, source, options) {\n      var chain = true,\n          methodNames = source && functions(source);\n\n      if (!source || (!options && !methodNames.length)) {\n        if (options == null) {\n          options = source;\n        }\n        ctor = lodashWrapper;\n        source = object;\n        object = lodash;\n        methodNames = functions(source);\n      }\n      if (options === false) {\n        chain = false;\n      } else if (isObject(options) && 'chain' in options) {\n        chain = options.chain;\n      }\n      var ctor = object,\n          isFunc = isFunction(ctor);\n\n      forEach(methodNames, function(methodName) {\n        var func = object[methodName] = source[methodName];\n        if (isFunc) {\n          ctor.prototype[methodName] = function() {\n            var chainAll = this.__chain__,\n                value = this.__wrapped__,\n                args = [value];\n\n            push.apply(args, arguments);\n            var result = func.apply(object, args);\n            if (chain || chainAll) {\n              if (value === result && isObject(result)) {\n                return this;\n              }\n              result = new ctor(result);\n              result.__chain__ = chainAll;\n            }\n            return result;\n          };\n        }\n      });\n    }\n\n    /**\n     * Reverts the '_' variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      context._ = oldDash;\n      return this;\n    }\n\n    /**\n     * A no-operation function.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var object = { 'name': 'fred' };\n     * _.noop(object) === undefined;\n     * // => true\n     */\n    function noop() {\n      // no operation performed\n    }\n\n    /**\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\n     * (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @example\n     *\n     * var stamp = _.now();\n     * _.defer(function() { console.log(_.now() - stamp); });\n     * // => logs the number of milliseconds it took for the deferred function to be called\n     */\n    var now = isNative(now = Date.now) && now || function() {\n      return new Date().getTime();\n    };\n\n    /**\n     * Converts the given value into an integer of the specified radix.\n     * If `radix` is `undefined` or `0` a `radix` of `10` is used unless the\n     * `value` is a hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * Note: This method avoids differences in native ES3 and ES5 `parseInt`\n     * implementations. See http://es5.github.io/#E.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} value The value to parse.\n     * @param {number} [radix] The radix used to interpret the value to parse.\n     * @returns {number} Returns the new integer value.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     */\n    var parseInt = nativeParseInt(whitespace + '08') == 8 ? nativeParseInt : function(value, radix) {\n      // Firefox < 21 and Opera < 15 follow the ES3 specified implementation of `parseInt`\n      return nativeParseInt(isString(value) ? value.replace(reLeadingSpacesAndZeros, '') : value, radix || 0);\n    };\n\n    /**\n     * Creates a \"_.pluck\" style function, which returns the `key` value of a\n     * given object.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} key The name of the property to retrieve.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'fred',   'age': 40 },\n     *   { 'name': 'barney', 'age': 36 }\n     * ];\n     *\n     * var getName = _.property('name');\n     *\n     * _.map(characters, getName);\n     * // => ['barney', 'fred']\n     *\n     * _.sortBy(characters, getName);\n     * // => [{ 'name': 'barney', 'age': 36 }, { 'name': 'fred',   'age': 40 }]\n     */\n    function property(key) {\n      return function(object) {\n        return object[key];\n      };\n    }\n\n    /**\n     * Produces a random number between `min` and `max` (inclusive). If only one\n     * argument is provided a number between `0` and the given number will be\n     * returned. If `floating` is truey or either `min` or `max` are floats a\n     * floating-point number will be returned instead of an integer.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} [min=0] The minimum possible value.\n     * @param {number} [max=1] The maximum possible value.\n     * @param {boolean} [floating=false] Specify returning a floating-point number.\n     * @returns {number} Returns a random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(min, max, floating) {\n      var noMin = min == null,\n          noMax = max == null;\n\n      if (floating == null) {\n        if (typeof min == 'boolean' && noMax) {\n          floating = min;\n          min = 1;\n        }\n        else if (!noMax && typeof max == 'boolean') {\n          floating = max;\n          noMax = true;\n        }\n      }\n      if (noMin && noMax) {\n        max = 1;\n      }\n      min = +min || 0;\n      if (noMax) {\n        max = min;\n        min = 0;\n      } else {\n        max = +max || 0;\n      }\n      if (floating || min % 1 || max % 1) {\n        var rand = nativeRandom();\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand +'').length - 1)))), max);\n      }\n      return baseRandom(min, max);\n    }\n\n    /**\n     * Resolves the value of property `key` on `object`. If `key` is a function\n     * it will be invoked with the `this` binding of `object` and its result returned,\n     * else the property value is returned. If `object` is falsey then `undefined`\n     * is returned.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {Object} object The object to inspect.\n     * @param {string} key The name of the property to resolve.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = {\n     *   'cheese': 'crumpets',\n     *   'stuff': function() {\n     *     return 'nonsense';\n     *   }\n     * };\n     *\n     * _.result(object, 'cheese');\n     * // => 'crumpets'\n     *\n     * _.result(object, 'stuff');\n     * // => 'nonsense'\n     */\n    function result(object, key) {\n      if (object) {\n        var value = object[key];\n        return isFunction(value) ? object[key]() : value;\n      }\n    }\n\n    /**\n     * A micro-templating method that handles arbitrary delimiters, preserves\n     * whitespace, and correctly escapes quotes within interpolated code.\n     *\n     * Note: In the development build, `_.template` utilizes sourceURLs for easier\n     * debugging. See http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n     *\n     * For more information on precompiling templates see:\n     * https://lodash.com/custom-builds\n     *\n     * For more information on Chrome extension sandboxes see:\n     * http://developer.chrome.com/stable/extensions/sandboxingEval.html\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} text The template text.\n     * @param {Object} data The data object used to populate the text.\n     * @param {Object} [options] The options object.\n     * @param {RegExp} [options.escape] The \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\n     * @param {Object} [options.imports] An object to import into the template as local variables.\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\n     * @param {string} [sourceURL] The sourceURL of the template's compiled source.\n     * @param {string} [variable] The data object variable name.\n     * @returns {Function|string} Returns a compiled function when no `data` object\n     *  is given, else it returns the interpolated text.\n     * @example\n     *\n     * // using the \"interpolate\" delimiter to create a compiled template\n     * var compiled = _.template('hello <%= name %>');\n     * compiled({ 'name': 'fred' });\n     * // => 'hello fred'\n     *\n     * // using the \"escape\" delimiter to escape HTML in data property values\n     * _.template('<b><%- value %></b>', { 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // using the \"evaluate\" delimiter to generate HTML\n     * var list = '<% _.forEach(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the ES6 delimiter as an alternative to the default \"interpolate\" delimiter\n     * _.template('hello ${ name }', { 'name': 'pebbles' });\n     * // => 'hello pebbles'\n     *\n     * // using the internal `print` function in \"evaluate\" delimiters\n     * _.template('<% print(\"hello \" + name); %>!', { 'name': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // using a custom template delimiters\n     * _.templateSettings = {\n     *   'interpolate': /{{([\\s\\S]+?)}}/g\n     * };\n     *\n     * _.template('hello {{ name }}!', { 'name': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // using the `imports` option to import jQuery\n     * var list = '<% jq.each(people, function(name) { %><li><%- name %></li><% }); %>';\n     * _.template(list, { 'people': ['fred', 'barney'] }, { 'imports': { 'jq': jQuery } });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\n     * var compiled = _.template('hello <%= name %>', null, { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\n     *\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\n     * var compiled = _.template('hi <%= data.name %>!', null, { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     *   var __t, __p = '', __e = _.escape;\n     *   __p += 'hi ' + ((__t = ( data.name )) == null ? '' : __t) + '!';\n     *   return __p;\n     * }\n     *\n     * // using the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and a stack trace\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(text, data, options) {\n      // based on John Resig's `tmpl` implementation\n      // http://ejohn.org/blog/javascript-micro-templating/\n      // and Laura Doktorova's doT.js\n      // https://github.com/olado/doT\n      var settings = lodash.templateSettings;\n      text = String(text || '');\n\n      // avoid missing dependencies when `iteratorTemplate` is not defined\n      options = defaults({}, options, settings);\n\n      var imports = defaults({}, options.imports, settings.imports),\n          importsKeys = keys(imports),\n          importsValues = values(imports);\n\n      var isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // compile the regexp to match each delimiter\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      text.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // escape characters that cannot be included in string literals\n        source += text.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // replace delimiters with snippets\n        if (escapeValue) {\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // the JS engine embedded in Adobe products requires returning the `match`\n        // string in order to produce the correct `offset` value\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // if `variable` is not specified, wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain\n      var variable = options.variable,\n          hasVariable = variable;\n\n      if (!hasVariable) {\n        variable = 'obj';\n        source = 'with (' + variable + ') {\\n' + source + '\\n}\\n';\n      }\n      // cleanup code by stripping empty strings\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // frame code as the function body\n      source = 'function(' + variable + ') {\\n' +\n        (hasVariable ? '' : variable + ' || (' + variable + ' = {});\\n') +\n        \"var __t, __p = '', __e = _.escape\" +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      // Use a sourceURL for easier debugging.\n      // http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl\n      var sourceURL = '\\n/*\\n//# sourceURL=' + (options.sourceURL || '/lodash/template/source[' + (templateCounter++) + ']') + '\\n*/';\n\n      try {\n        var result = Function(importsKeys, 'return ' + source + sourceURL).apply(undefined, importsValues);\n      } catch(e) {\n        e.source = source;\n        throw e;\n      }\n      if (data) {\n        return result(data);\n      }\n      // provide the compiled function's source by its `toString` method, in\n      // supported environments, or the `source` property as a convenience for\n      // inlining compiled templates during the build process\n      result.source = source;\n      return result;\n    }\n\n    /**\n     * Executes the callback `n` times, returning an array of the results\n     * of each callback execution. The callback is bound to `thisArg` and invoked\n     * with one argument; (index).\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {number} n The number of times to execute the callback.\n     * @param {Function} callback The function called per iteration.\n     * @param {*} [thisArg] The `this` binding of `callback`.\n     * @returns {Array} Returns an array of the results of each `callback` execution.\n     * @example\n     *\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6));\n     * // => [3, 6, 4]\n     *\n     * _.times(3, function(n) { mage.castSpell(n); });\n     * // => calls `mage.castSpell(n)` three times, passing `n` of `0`, `1`, and `2` respectively\n     *\n     * _.times(3, function(n) { this.cast(n); }, mage);\n     * // => also calls `mage.castSpell(n)` three times\n     */\n    function times(n, callback, thisArg) {\n      n = (n = +n) > -1 ? n : 0;\n      var index = -1,\n          result = Array(n);\n\n      callback = baseCreateCallback(callback, thisArg, 1);\n      while (++index < n) {\n        result[index] = callback(index);\n      }\n      return result;\n    }\n\n    /**\n     * The inverse of `_.escape` this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to their\n     * corresponding characters.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} string The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('Fred, Barney &amp; Pebbles');\n     * // => 'Fred, Barney & Pebbles'\n     */\n    function unescape(string) {\n      return string == null ? '' : String(string).replace(reEscapedHtml, unescapeHtmlChar);\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is provided the ID will be appended to it.\n     *\n     * @static\n     * @memberOf _\n     * @category Utilities\n     * @param {string} [prefix] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return String(prefix == null ? '' : prefix) + id;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object that wraps the given value with explicit\n     * method chaining enabled.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney',  'age': 36 },\n     *   { 'name': 'fred',    'age': 40 },\n     *   { 'name': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _.chain(characters)\n     *     .sortBy('age')\n     *     .map(function(chr) { return chr.name + ' is ' + chr.age; })\n     *     .first()\n     *     .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      value = new lodashWrapper(value);\n      value.__chain__ = true;\n      return value;\n    }\n\n    /**\n     * Invokes `interceptor` with the `value` as the first argument and then\n     * returns `value`. The purpose of this method is to \"tap into\" a method\n     * chain in order to perform operations on intermediate results within\n     * the chain.\n     *\n     * @static\n     * @memberOf _\n     * @category Chaining\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3, 4])\n     *  .tap(function(array) { array.pop(); })\n     *  .reverse()\n     *  .value();\n     * // => [3, 2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * Enables explicit method chaining on the wrapper object.\n     *\n     * @name chain\n     * @memberOf _\n     * @category Chaining\n     * @returns {*} Returns the wrapper object.\n     * @example\n     *\n     * var characters = [\n     *   { 'name': 'barney', 'age': 36 },\n     *   { 'name': 'fred',   'age': 40 }\n     * ];\n     *\n     * // without explicit chaining\n     * _(characters).first();\n     * // => { 'name': 'barney', 'age': 36 }\n     *\n     * // with explicit chaining\n     * _(characters).chain()\n     *   .first()\n     *   .pick('age')\n     *   .value();\n     * // => { 'age': 36 }\n     */\n    function wrapperChain() {\n      this.__chain__ = true;\n      return this;\n    }\n\n    /**\n     * Produces the `toString` result of the wrapped value.\n     *\n     * @name toString\n     * @memberOf _\n     * @category Chaining\n     * @returns {string} Returns the string result.\n     * @example\n     *\n     * _([1, 2, 3]).toString();\n     * // => '1,2,3'\n     */\n    function wrapperToString() {\n      return String(this.__wrapped__);\n    }\n\n    /**\n     * Extracts the wrapped value.\n     *\n     * @name valueOf\n     * @memberOf _\n     * @alias value\n     * @category Chaining\n     * @returns {*} Returns the wrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).valueOf();\n     * // => [1, 2, 3]\n     */\n    function wrapperValueOf() {\n      return this.__wrapped__;\n    }\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return wrapped values when chaining\n    lodash.after = after;\n    lodash.assign = assign;\n    lodash.at = at;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.chain = chain;\n    lodash.compact = compact;\n    lodash.compose = compose;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.createCallback = createCallback;\n    lodash.curry = curry;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.filter = filter;\n    lodash.flatten = flatten;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.functions = functions;\n    lodash.groupBy = groupBy;\n    lodash.indexBy = indexBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.invert = invert;\n    lodash.invoke = invoke;\n    lodash.keys = keys;\n    lodash.map = map;\n    lodash.mapValues = mapValues;\n    lodash.max = max;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.min = min;\n    lodash.omit = omit;\n    lodash.once = once;\n    lodash.pairs = pairs;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.pick = pick;\n    lodash.pluck = pluck;\n    lodash.property = property;\n    lodash.pull = pull;\n    lodash.range = range;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.shuffle = shuffle;\n    lodash.sortBy = sortBy;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.times = times;\n    lodash.toArray = toArray;\n    lodash.transform = transform;\n    lodash.union = union;\n    lodash.uniq = uniq;\n    lodash.values = values;\n    lodash.where = where;\n    lodash.without = without;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n\n    // add aliases\n    lodash.collect = map;\n    lodash.drop = rest;\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.extend = assign;\n    lodash.methods = functions;\n    lodash.object = zipObject;\n    lodash.select = filter;\n    lodash.tail = rest;\n    lodash.unique = uniq;\n    lodash.unzip = zip;\n\n    // add functions to `lodash.prototype`\n    mixin(lodash);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions that return unwrapped values when chaining\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.contains = contains;\n    lodash.escape = escape;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.has = has;\n    lodash.identity = identity;\n    lodash.indexOf = indexOf;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isBoolean = isBoolean;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isNaN = isNaN;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isString = isString;\n    lodash.isUndefined = isUndefined;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.mixin = mixin;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.result = result;\n    lodash.runInContext = runInContext;\n    lodash.size = size;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.template = template;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n\n    // add aliases\n    lodash.all = every;\n    lodash.any = some;\n    lodash.detect = find;\n    lodash.findWhere = find;\n    lodash.foldl = reduce;\n    lodash.foldr = reduceRight;\n    lodash.include = contains;\n    lodash.inject = reduce;\n\n    mixin(function() {\n      var source = {}\n      forOwn(lodash, function(func, methodName) {\n        if (!lodash.prototype[methodName]) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }(), false);\n\n    /*--------------------------------------------------------------------------*/\n\n    // add functions capable of returning wrapped and unwrapped values when chaining\n    lodash.first = first;\n    lodash.last = last;\n    lodash.sample = sample;\n\n    // add aliases\n    lodash.take = first;\n    lodash.head = first;\n\n    forOwn(lodash, function(func, methodName) {\n      var callbackable = methodName !== 'sample';\n      if (!lodash.prototype[methodName]) {\n        lodash.prototype[methodName]= function(n, guard) {\n          var chainAll = this.__chain__,\n              result = func(this.__wrapped__, n, guard);\n\n          return !chainAll && (n == null || (guard && !(callbackable && typeof n == 'function')))\n            ? result\n            : new lodashWrapper(result, chainAll);\n        };\n      }\n    });\n\n    /*--------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type string\n     */\n    lodash.VERSION = '2.4.2';\n\n    // add \"Chaining\" functions to the wrapper\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.toString = wrapperToString;\n    lodash.prototype.value = wrapperValueOf;\n    lodash.prototype.valueOf = wrapperValueOf;\n\n    // add `Array` functions that return unwrapped values\n    forEach(['join', 'pop', 'shift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        var chainAll = this.__chain__,\n            result = func.apply(this.__wrapped__, arguments);\n\n        return chainAll\n          ? new lodashWrapper(result, chainAll)\n          : result;\n      };\n    });\n\n    // add `Array` functions that return the existing wrapped value\n    forEach(['push', 'reverse', 'sort', 'unshift'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        func.apply(this.__wrapped__, arguments);\n        return this;\n      };\n    });\n\n    // add `Array` functions that return new wrapped values\n    forEach(['concat', 'slice', 'splice'], function(methodName) {\n      var func = arrayRef[methodName];\n      lodash.prototype[methodName] = function() {\n        return new lodashWrapper(func.apply(this.__wrapped__, arguments), this.__chain__);\n      };\n    });\n\n    return lodash;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  // expose Lo-Dash\n  var _ = runInContext();\n\n  // some AMD build optimizers like r.js check for condition patterns like the following:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lo-Dash to the global object even when an AMD loader is present in\n    // case Lo-Dash is loaded with a RequireJS shim config.\n    // See http://requirejs.org/docs/api.html#config-shim\n    root._ = _;\n\n    // define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module\n    define(function() {\n      return _;\n    });\n  }\n  // check for `exports` after `define` in case a build optimizer adds an `exports` object\n  else if (freeExports && freeModule) {\n    // in Node.js or RingoJS\n    if (moduleExports) {\n      (freeModule.exports = _)._ = _;\n    }\n    // in Narwhal or Rhino -require\n    else {\n      freeExports._ = _;\n    }\n  }\n  else {\n    // in a browser or Rhino\n    root._ = _;\n  }\n}.call(this));\n", "{\n  \"name\": \"quilljs\",\n  \"version\": \"0.18.1\",\n  \"description\": \"Cross browser rich text editor\",\n  \"author\": \"Jason Chen <jhchen7@gmail.com>\",\n  \"homepage\": \"http://quilljs.com\",\n  \"contributors\": [\n    \"Byron Milligan <byronner@gmail.com>\",\n    \"Keegan Poppen <keegan.poppen@gmail.com>\"\n  ],\n  \"main\": \"index.js\",\n  \"dependencies\": {\n    \"eventemitter2\": \"~0.4.13\",\n    \"lodash\": \"~2.4.1\",\n    \"rich-text\": \"~1.0.2\"\n  },\n  \"devDependencies\": {\n    \"async\": \"~0.9.0\",\n    \"coffee-script\": \"~1.8.0\",\n    \"coffeeify\": \"~0.7.0\",\n    \"glob\": \"~4.0.4\",\n    \"grunt\": \"~0.4.3\",\n    \"grunt-browserify\": \"~2.1.0\",\n    \"grunt-contrib-clean\": \"~0.6.0\",\n    \"grunt-contrib-coffee\": \"~0.12.0\",\n    \"grunt-contrib-compress\": \"~0.12.0\",\n    \"grunt-contrib-concat\": \"~0.5.0\",\n    \"grunt-contrib-connect\": \"~0.8.0\",\n    \"grunt-contrib-copy\": \"~0.7.0\",\n    \"grunt-contrib-stylus\": \"~0.18.0\",\n    \"grunt-contrib-uglify\": \"~0.6.0\",\n    \"grunt-karma\": \"~0.9.0\",\n    \"grunt-lodash\": \"~0.3.0\",\n    \"grunt-protractor-runner\": \"~1.1.0\",\n    \"grunt-sauce-connect-launcher\": \"~0.3.0\",\n    \"harp\": \"~0.14.0\",\n    \"istanbul\": \"~0.3.0\",\n    \"jquery\": \"~2.1.1\",\n    \"karma\": \"~0.12.0\",\n    \"karma-chrome-launcher\": \"~0.1.2\",\n    \"karma-coffee-preprocessor\": \"~0.2.1\",\n    \"karma-coverage\": \"~0.2.0\",\n    \"karma-firefox-launcher\": \"~0.1.3\",\n    \"karma-html2js-preprocessor\": \"~0.1.0\",\n    \"karma-jasmine\": \"~0.2.0\",\n    \"karma-phantomjs-launcher\": \"~0.1.2\",\n    \"karma-safari-launcher\": \"~0.1.1\",\n    \"karma-sauce-launcher\": \"~0.2.2\",\n    \"load-grunt-tasks\": \"~0.6.0\",\n    \"protractor\": \"~1.3.1\",\n    \"stylus\": \"~0.49.2\",\n    \"watchify\": \"~0.10.2\"\n  },\n  \"engines\": {\n    \"node\": \">=0.10\"\n  },\n  \"license\": \"BSD-3-Clause\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/quilljs/quill\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/quilljs/quill/issues\"\n  },\n  \"scripts\": {\n    \"prepublish\": \"grunt coffee:quill\",\n    \"postpublish\": \"grunt clean:coffee\",\n    \"test\": \"grunt test\"\n  },\n  \"keywords\": [\n    \"editor\",\n    \"rich text\",\n    \"wysiwyg\"\n  ]\n}\n", "/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\n\nmodule.exports = diff;\n", "module.exports = {\n  equal: function (a, b) {\n    if (a === b) return true;\n    if (a == null && b == null) return true;\n    if (a == null || b == null) return false;\n    if (Object.keys(a).length != Object.keys(b).length) return false;\n    for(var key in a) {\n      // Only compare one level deep\n      if (a[key] !== b[key]) return false;\n    }\n    return true;\n  },\n\n  array: function (value) {\n    return Array.isArray(value);\n  },\n\n  number: function (value) {\n    if (typeof value === 'number') return true;\n    if (typeof value === 'object' && Object.prototype.toString.call(value) === '[object Number]') return true;\n    return false;\n  },\n\n  object: function (value) {\n    if (!value) return false;\n    return (typeof value === 'function' || typeof value === 'object');\n  },\n\n  string: function (value) {\n    if (typeof value === 'string') return true;\n    if (typeof value === 'object' && Object.prototype.toString.call(value) === '[object String]') return true;\n    return false;\n  }\n};\n", "var is = require('./is');\n\n\nvar lib = {\n  attributes: {\n    clone: function (attributes, keepNull) {\n      if (!is.object(attributes)) return {};\n      return Object.keys(attributes).reduce(function (memo, key) {\n        if (attributes[key] !== undefined && (attributes[key] !== null || keepNull)) {\n          memo[key] = attributes[key];\n        }\n        return memo;\n      }, {});\n    },\n\n    compose: function (a, b, keepNull) {\n      if (!is.object(a)) a = {};\n      if (!is.object(b)) b = {};\n      var attributes = this.clone(b, keepNull);\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (!is.object(a)) a = {};\n      if (!is.object(b)) b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (a[key] !== b[key]) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (!is.object(a)) return b;\n      if (!is.object(b)) return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  clone: function (op) {\n    var newOp = this.attributes.clone(op);\n    if (is.object(newOp.attributes)) {\n      newOp.attributes = this.attributes.clone(newOp.attributes, true);\n    }\n    return newOp;\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (is.number(op['delete'])) {\n      return op['delete'];\n    } else if (is.number(op.retain)) {\n      return op.retain;\n    } else {\n      return is.string(op.insert) ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (is.number(nextOp['delete'])) {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (is.number(nextOp.retain)) {\n        retOp.retain = length;\n      } else if (is.string(nextOp.insert)) {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (is.number(this.ops[this.index]['delete'])) {\n      return 'delete';\n    } else if (is.number(this.ops[this.index].retain)) {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\n\nmodule.exports = lib;\n", "var diff = require('fast-diff');\nvar is = require('./is');\nvar op = require('./op');\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (is.array(ops)) {\n    this.ops = ops;\n  } else if (is.object(ops) && is.array(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (is.string(text)) {\n    if (text.length === 0) return this;\n    newOp.insert = text;\n  } else if (is.number(text)) {\n    newOp.insert = text;\n  }\n  if (is.object(attributes) && Object.keys(attributes).length > 0) newOp.attributes = attributes;\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (is.object(attributes) && Object.keys(attributes).length > 0) newOp.attributes = attributes;\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = op.clone(newOp);\n  if (is.object(lastOp)) {\n    if (is.number(newOp['delete']) && is.number(lastOp['delete'])) {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (is.number(lastOp['delete']) && (is.string(newOp.insert) || is.number(newOp.insert))) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (!is.object(lastOp)) {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (is.equal(newOp.attributes, lastOp.attributes)) {\n      if (is.string(newOp.insert) && is.string(lastOp.insert)) {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (is.object(newOp.attributes)) this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (is.number(newOp.retain) && is.number(lastOp.retain)) {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (is.object(newOp.attributes)) this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  this.ops.splice(index, 0, newOp);\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.length = function () {\n  return this.ops.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (!is.number(end)) end = Infinity;\n  var delta = new Delta();\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      delta.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return delta;\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  this.ops = [];\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      this.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      this.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (is.number(otherOp.retain)) {\n        var newOp = {};\n        if (is.number(thisOp.retain)) {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, is.number(thisOp.retain));\n        if (attributes) newOp.attributes = attributes;\n        this.push(newOp);\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (is.number(otherOp['delete']) && is.number(thisOp.retain)) {\n        this.push(otherOp);\n      }\n    }\n  }\n  return this.chop();\n};\n\nDelta.prototype.diff = function (other) {\n  var strings = [this.ops, other.ops].map(function (ops) {\n    return ops.map(function (op) {\n      if (is.string(op.insert)) return op.insert;\n      if (is.number(op.insert)) return NULL_CHARACTER;\n      var prep = ops === other.ops ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var diffResult = diff(strings[0], strings[1]);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (thisOp.insert === otherOp.insert) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (is.number(other)) {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n", "{\n  \"name\": \"rich-text\",\n  \"version\": \"1.0.3\",\n  \"description\": \"Format for representing rich text documents and changes.\",\n  \"author\": \"Jason Chen <jhchen7@gmail.com>\",\n  \"homepage\": \"https://github.com/ottypes/rich-text\",\n  \"main\": \"index.js\",\n  \"dependencies\": {\n    \"fast-diff\": \"~1.0.0\"\n  },\n  \"devDependencies\": {\n    \"chai\": \"~1.9.1\",\n    \"coveralls\": \"~2.11.1\",\n    \"grunt\": \"~0.4.5\",\n    \"istanbul\": \"~0.3.0\",\n    \"lodash\": \"~2.4.1\",\n    \"mocha\": \"~1.21.4\",\n    \"ot-fuzzer\": \"~1.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=0.10\"\n  },\n  \"license\": \"MIT\",\n  \"scripts\": {\n    \"test\": \"grunt test\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/ottypes/rich-text\"\n  },\n  \"bugs\": {\n    \"url\": \"https://github.com/ottypes/rich-text/issues\"\n  },\n  \"keywords\": [\n    \"rich text\",\n    \"ot\",\n    \"operational transform\",\n    \"delta\"\n  ]\n}\n", "var Delta = require('./delta');\nvar pkg = require('../package.json');\n\n\nmodule.exports = {\n  Delta: Delta,\n  name: 'rich-text',\n  uri: 'http://sharejs.org/types/rich-text/v1',\n\n  create: function (initial) {\n    return new Delta(initial);\n  },\n\n  apply: function (snapshot, delta) {\n    snapshot = new Delta(snapshot);\n    delta = new Delta(delta);\n    return snapshot.compose(delta);\n  },\n\n  compose: function (delta1, delta2) {\n    delta1 = new Delta(delta1);\n    delta2 = new Delta(delta2);\n    return delta1.compose(delta2);\n  },\n\n  diff: function (delta1, delta2) {\n    delta1 = new Delta(delta1);\n    delta2 = new Delta(delta2);\n    return delta1.diff(delta2);\n  },\n\n  transform: function (delta1, delta2, side) {\n    delta1 = new Delta(delta1);\n    delta2 = new Delta(delta2);\n    // Fuzzer specs is in opposite order of delta interface\n    return delta2.transform(delta1, side === 'left');\n  }\n};\n", "module.exports = require('./lib/type');\n", "/*!\n * EventEmitter2\n * https://github.com/hij1nx/EventEmitter2\n *\n * Copyright (c) 2013 hij1nx\n * Licensed under the MIT license.\n */\n;!function(undefined) {\n\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  var defaultMaxListeners = 10;\n\n  function init() {\n    this._events = {};\n    if (this._conf) {\n      configure.call(this, this._conf);\n    }\n  }\n\n  function configure(conf) {\n    if (conf) {\n\n      this._conf = conf;\n\n      conf.delimiter && (this.delimiter = conf.delimiter);\n      conf.maxListeners && (this._events.maxListeners = conf.maxListeners);\n      conf.wildcard && (this.wildcard = conf.wildcard);\n      conf.newListener && (this.newListener = conf.newListener);\n\n      if (this.wildcard) {\n        this.listenerTree = {};\n      }\n    }\n  }\n\n  function EventEmitter(conf) {\n    this._events = {};\n    this.newListener = false;\n    configure.call(this, conf);\n  }\n\n  //\n  // Attention, function return type now is array, always !\n  // It has zero elements if no any matches found and one or more\n  // elements (leafs) if there are matches\n  //\n  function searchListenerTree(handlers, type, tree, i) {\n    if (!tree) {\n      return [];\n    }\n    var listeners=[], leaf, len, branch, xTree, xxTree, isolatedBranch, endReached,\n        typeLength = type.length, currentType = type[i], nextType = type[i+1];\n    if (i === typeLength && tree._listeners) {\n      //\n      // If at the end of the event(s) list and the tree has listeners\n      // invoke those listeners.\n      //\n      if (typeof tree._listeners === 'function') {\n        handlers && handlers.push(tree._listeners);\n        return [tree];\n      } else {\n        for (leaf = 0, len = tree._listeners.length; leaf < len; leaf++) {\n          handlers && handlers.push(tree._listeners[leaf]);\n        }\n        return [tree];\n      }\n    }\n\n    if ((currentType === '*' || currentType === '**') || tree[currentType]) {\n      //\n      // If the event emitted is '*' at this part\n      // or there is a concrete match at this patch\n      //\n      if (currentType === '*') {\n        for (branch in tree) {\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\n            listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+1));\n          }\n        }\n        return listeners;\n      } else if(currentType === '**') {\n        endReached = (i+1 === typeLength || (i+2 === typeLength && nextType === '*'));\n        if(endReached && tree._listeners) {\n          // The next element has a _listeners, add it to the handlers.\n          listeners = listeners.concat(searchListenerTree(handlers, type, tree, typeLength));\n        }\n\n        for (branch in tree) {\n          if (branch !== '_listeners' && tree.hasOwnProperty(branch)) {\n            if(branch === '*' || branch === '**') {\n              if(tree[branch]._listeners && !endReached) {\n                listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], typeLength));\n              }\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\n            } else if(branch === nextType) {\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i+2));\n            } else {\n              // No match on this one, shift into the tree but not in the type array.\n              listeners = listeners.concat(searchListenerTree(handlers, type, tree[branch], i));\n            }\n          }\n        }\n        return listeners;\n      }\n\n      listeners = listeners.concat(searchListenerTree(handlers, type, tree[currentType], i+1));\n    }\n\n    xTree = tree['*'];\n    if (xTree) {\n      //\n      // If the listener tree will allow any match for this part,\n      // then recursively explore all branches of the tree\n      //\n      searchListenerTree(handlers, type, xTree, i+1);\n    }\n\n    xxTree = tree['**'];\n    if(xxTree) {\n      if(i < typeLength) {\n        if(xxTree._listeners) {\n          // If we have a listener on a '**', it will catch all, so add its handler.\n          searchListenerTree(handlers, type, xxTree, typeLength);\n        }\n\n        // Build arrays of matching next branches and others.\n        for(branch in xxTree) {\n          if(branch !== '_listeners' && xxTree.hasOwnProperty(branch)) {\n            if(branch === nextType) {\n              // We know the next element will match, so jump twice.\n              searchListenerTree(handlers, type, xxTree[branch], i+2);\n            } else if(branch === currentType) {\n              // Current node matches, move into the tree.\n              searchListenerTree(handlers, type, xxTree[branch], i+1);\n            } else {\n              isolatedBranch = {};\n              isolatedBranch[branch] = xxTree[branch];\n              searchListenerTree(handlers, type, { '**': isolatedBranch }, i+1);\n            }\n          }\n        }\n      } else if(xxTree._listeners) {\n        // We have reached the end and still on a '**'\n        searchListenerTree(handlers, type, xxTree, typeLength);\n      } else if(xxTree['*'] && xxTree['*']._listeners) {\n        searchListenerTree(handlers, type, xxTree['*'], typeLength);\n      }\n    }\n\n    return listeners;\n  }\n\n  function growListenerTree(type, listener) {\n\n    type = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n\n    //\n    // Looks for two consecutive '**', if so, don't add the event at all.\n    //\n    for(var i = 0, len = type.length; i+1 < len; i++) {\n      if(type[i] === '**' && type[i+1] === '**') {\n        return;\n      }\n    }\n\n    var tree = this.listenerTree;\n    var name = type.shift();\n\n    while (name) {\n\n      if (!tree[name]) {\n        tree[name] = {};\n      }\n\n      tree = tree[name];\n\n      if (type.length === 0) {\n\n        if (!tree._listeners) {\n          tree._listeners = listener;\n        }\n        else if(typeof tree._listeners === 'function') {\n          tree._listeners = [tree._listeners, listener];\n        }\n        else if (isArray(tree._listeners)) {\n\n          tree._listeners.push(listener);\n\n          if (!tree._listeners.warned) {\n\n            var m = defaultMaxListeners;\n\n            if (typeof this._events.maxListeners !== 'undefined') {\n              m = this._events.maxListeners;\n            }\n\n            if (m > 0 && tree._listeners.length > m) {\n\n              tree._listeners.warned = true;\n              console.error('(node) warning: possible EventEmitter memory ' +\n                            'leak detected. %d listeners added. ' +\n                            'Use emitter.setMaxListeners() to increase limit.',\n                            tree._listeners.length);\n              console.trace();\n            }\n          }\n        }\n        return true;\n      }\n      name = type.shift();\n    }\n    return true;\n  }\n\n  // By default EventEmitters will print a warning if more than\n  // 10 listeners are added to it. This is a useful default which\n  // helps finding memory leaks.\n  //\n  // Obviously not all Emitters should be limited to 10. This function allows\n  // that to be increased. Set to zero for unlimited.\n\n  EventEmitter.prototype.delimiter = '.';\n\n  EventEmitter.prototype.setMaxListeners = function(n) {\n    this._events || init.call(this);\n    this._events.maxListeners = n;\n    if (!this._conf) this._conf = {};\n    this._conf.maxListeners = n;\n  };\n\n  EventEmitter.prototype.event = '';\n\n  EventEmitter.prototype.once = function(event, fn) {\n    this.many(event, 1, fn);\n    return this;\n  };\n\n  EventEmitter.prototype.many = function(event, ttl, fn) {\n    var self = this;\n\n    if (typeof fn !== 'function') {\n      throw new Error('many only accepts instances of Function');\n    }\n\n    function listener() {\n      if (--ttl === 0) {\n        self.off(event, listener);\n      }\n      fn.apply(this, arguments);\n    }\n\n    listener._origin = fn;\n\n    this.on(event, listener);\n\n    return self;\n  };\n\n  EventEmitter.prototype.emit = function() {\n\n    this._events || init.call(this);\n\n    var type = arguments[0];\n\n    if (type === 'newListener' && !this.newListener) {\n      if (!this._events.newListener) { return false; }\n    }\n\n    // Loop through the *_all* functions and invoke them.\n    if (this._all) {\n      var l = arguments.length;\n      var args = new Array(l - 1);\n      for (var i = 1; i < l; i++) args[i - 1] = arguments[i];\n      for (i = 0, l = this._all.length; i < l; i++) {\n        this.event = type;\n        this._all[i].apply(this, args);\n      }\n    }\n\n    // If there is no 'error' event listener then throw.\n    if (type === 'error') {\n\n      if (!this._all &&\n        !this._events.error &&\n        !(this.wildcard && this.listenerTree.error)) {\n\n        if (arguments[1] instanceof Error) {\n          throw arguments[1]; // Unhandled 'error' event\n        } else {\n          throw new Error(\"Uncaught, unspecified 'error' event.\");\n        }\n        return false;\n      }\n    }\n\n    var handler;\n\n    if(this.wildcard) {\n      handler = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\n    }\n    else {\n      handler = this._events[type];\n    }\n\n    if (typeof handler === 'function') {\n      this.event = type;\n      if (arguments.length === 1) {\n        handler.call(this);\n      }\n      else if (arguments.length > 1)\n        switch (arguments.length) {\n          case 2:\n            handler.call(this, arguments[1]);\n            break;\n          case 3:\n            handler.call(this, arguments[1], arguments[2]);\n            break;\n          // slower\n          default:\n            var l = arguments.length;\n            var args = new Array(l - 1);\n            for (var i = 1; i < l; i++) args[i - 1] = arguments[i];\n            handler.apply(this, args);\n        }\n      return true;\n    }\n    else if (handler) {\n      var l = arguments.length;\n      var args = new Array(l - 1);\n      for (var i = 1; i < l; i++) args[i - 1] = arguments[i];\n\n      var listeners = handler.slice();\n      for (var i = 0, l = listeners.length; i < l; i++) {\n        this.event = type;\n        listeners[i].apply(this, args);\n      }\n      return (listeners.length > 0) || !!this._all;\n    }\n    else {\n      return !!this._all;\n    }\n\n  };\n\n  EventEmitter.prototype.on = function(type, listener) {\n\n    if (typeof type === 'function') {\n      this.onAny(type);\n      return this;\n    }\n\n    if (typeof listener !== 'function') {\n      throw new Error('on only accepts instances of Function');\n    }\n    this._events || init.call(this);\n\n    // To avoid recursion in the case that type == \"newListeners\"! Before\n    // adding it to the listeners, first emit \"newListeners\".\n    this.emit('newListener', type, listener);\n\n    if(this.wildcard) {\n      growListenerTree.call(this, type, listener);\n      return this;\n    }\n\n    if (!this._events[type]) {\n      // Optimize the case of one listener. Don't need the extra array object.\n      this._events[type] = listener;\n    }\n    else if(typeof this._events[type] === 'function') {\n      // Adding the second element, need to change to array.\n      this._events[type] = [this._events[type], listener];\n    }\n    else if (isArray(this._events[type])) {\n      // If we've already got an array, just append.\n      this._events[type].push(listener);\n\n      // Check for listener leak\n      if (!this._events[type].warned) {\n\n        var m = defaultMaxListeners;\n\n        if (typeof this._events.maxListeners !== 'undefined') {\n          m = this._events.maxListeners;\n        }\n\n        if (m > 0 && this._events[type].length > m) {\n\n          this._events[type].warned = true;\n          console.error('(node) warning: possible EventEmitter memory ' +\n                        'leak detected. %d listeners added. ' +\n                        'Use emitter.setMaxListeners() to increase limit.',\n                        this._events[type].length);\n          console.trace();\n        }\n      }\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.onAny = function(fn) {\n\n    if (typeof fn !== 'function') {\n      throw new Error('onAny only accepts instances of Function');\n    }\n\n    if(!this._all) {\n      this._all = [];\n    }\n\n    // Add the function to the event listener collection.\n    this._all.push(fn);\n    return this;\n  };\n\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  EventEmitter.prototype.off = function(type, listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('removeListener only takes instances of Function');\n    }\n\n    var handlers,leafs=[];\n\n    if(this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n    }\n    else {\n      // does not use listeners(), so no side effect of creating _events[type]\n      if (!this._events[type]) return this;\n      handlers = this._events[type];\n      leafs.push({_listeners:handlers});\n    }\n\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n      var leaf = leafs[iLeaf];\n      handlers = leaf._listeners;\n      if (isArray(handlers)) {\n\n        var position = -1;\n\n        for (var i = 0, length = handlers.length; i < length; i++) {\n          if (handlers[i] === listener ||\n            (handlers[i].listener && handlers[i].listener === listener) ||\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0) {\n          continue;\n        }\n\n        if(this.wildcard) {\n          leaf._listeners.splice(position, 1);\n        }\n        else {\n          this._events[type].splice(position, 1);\n        }\n\n        if (handlers.length === 0) {\n          if(this.wildcard) {\n            delete leaf._listeners;\n          }\n          else {\n            delete this._events[type];\n          }\n        }\n        return this;\n      }\n      else if (handlers === listener ||\n        (handlers.listener && handlers.listener === listener) ||\n        (handlers._origin && handlers._origin === listener)) {\n        if(this.wildcard) {\n          delete leaf._listeners;\n        }\n        else {\n          delete this._events[type];\n        }\n      }\n    }\n\n    return this;\n  };\n\n  EventEmitter.prototype.offAny = function(fn) {\n    var i = 0, l = 0, fns;\n    if (fn && this._all && this._all.length > 0) {\n      fns = this._all;\n      for(i = 0, l = fns.length; i < l; i++) {\n        if(fn === fns[i]) {\n          fns.splice(i, 1);\n          return this;\n        }\n      }\n    } else {\n      this._all = [];\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\n\n  EventEmitter.prototype.removeAllListeners = function(type) {\n    if (arguments.length === 0) {\n      !this._events || init.call(this);\n      return this;\n    }\n\n    if(this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      var leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n\n      for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n        var leaf = leafs[iLeaf];\n        leaf._listeners = null;\n      }\n    }\n    else {\n      if (!this._events[type]) return this;\n      this._events[type] = null;\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.listeners = function(type) {\n    if(this.wildcard) {\n      var handlers = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\n      return handlers;\n    }\n\n    this._events || init.call(this);\n\n    if (!this._events[type]) this._events[type] = [];\n    if (!isArray(this._events[type])) {\n      this._events[type] = [this._events[type]];\n    }\n    return this._events[type];\n  };\n\n  EventEmitter.prototype.listenersAny = function() {\n\n    if(this._all) {\n      return this._all;\n    }\n    else {\n      return [];\n    }\n\n  };\n\n  if (typeof define === 'function' && define.amd) {\n     // AMD. Register as an anonymous module.\n    define(function() {\n      return EventEmitter;\n    });\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    exports.EventEmitter2 = EventEmitter;\n  }\n  else {\n    // Browser global.\n    window.EventEmitter2 = EventEmitter;\n  }\n}();\n", "var SelectWrapper, Wrapper, dom, lastKeyEvent, _,\n  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = require('lodash');\n\nlastKeyEvent = null;\n\nWrapper = (function() {\n  function Wrapper(node) {\n    this.node = node;\n    this.trigger = __bind(this.trigger, this);\n  }\n\n  Wrapper.prototype.addClass = function(cssClass) {\n    if (this.hasClass(cssClass)) {\n      return;\n    }\n    if (this.node.classList != null) {\n      this.node.classList.add(cssClass);\n    } else if (this.node.className != null) {\n      this.node.className = (this.node.className + ' ' + cssClass).trim();\n    }\n    return this;\n  };\n\n  Wrapper.prototype.attributes = function(attributes) {\n    var attr, i, value, _i, _len, _ref;\n    if (attributes) {\n      _.each(attributes, (function(_this) {\n        return function(value, name) {\n          return _this.node.setAttribute(name, value);\n        };\n      })(this));\n      return this;\n    } else {\n      if (this.node.attributes == null) {\n        return {};\n      }\n      attributes = {};\n      _ref = this.node.attributes;\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        value = _ref[i];\n        attr = this.node.attributes[i];\n        attributes[attr.name] = attr.value;\n      }\n      return attributes;\n    }\n  };\n\n  Wrapper.prototype.child = function(offset) {\n    var child, length;\n    child = this.node.firstChild;\n    length = dom(child).length();\n    while (child != null) {\n      if (offset < length) {\n        break;\n      }\n      offset -= length;\n      child = child.nextSibling;\n      length = dom(child).length();\n    }\n    if (child == null) {\n      child = this.node.lastChild;\n      offset = dom(child).length();\n    }\n    return [child, offset];\n  };\n\n  Wrapper.prototype.childNodes = function() {\n    return _.map(this.node.childNodes);\n  };\n\n  Wrapper.prototype.classes = function() {\n    return this.node.className.split(/\\s+/);\n  };\n\n  Wrapper.prototype.descendants = function() {\n    return _.map(this.node.getElementsByTagName('*'));\n  };\n\n  Wrapper.prototype.get = function() {\n    return this.node;\n  };\n\n  Wrapper.prototype.hasClass = function(cssClass) {\n    if (this.node.classList != null) {\n      return this.node.classList.contains(cssClass);\n    } else if (this.node.className != null) {\n      return _.indexOf(this.classes(), cssClass) > -1;\n    }\n    return false;\n  };\n\n  Wrapper.prototype.isAncestor = function(ancestor, inclusive) {\n    var node;\n    if (inclusive == null) {\n      inclusive = false;\n    }\n    if (ancestor === this.node) {\n      return inclusive;\n    }\n    node = this.node;\n    while (node) {\n      if (node === ancestor) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n    return false;\n  };\n\n  Wrapper.prototype.isElement = function() {\n    var _ref;\n    return ((_ref = this.node) != null ? _ref.nodeType : void 0) === dom.ELEMENT_NODE;\n  };\n\n  Wrapper.prototype.isTextNode = function() {\n    var _ref;\n    return ((_ref = this.node) != null ? _ref.nodeType : void 0) === dom.TEXT_NODE;\n  };\n\n  Wrapper.prototype.length = function() {\n    var length;\n    if (this.node == null) {\n      return 0;\n    }\n    length = this.text().length;\n    if (this.isElement()) {\n      length += this.node.querySelectorAll(_.keys(dom.EMBED_TAGS).join(',')).length;\n    }\n    return length;\n  };\n\n  Wrapper.prototype.merge = function(node) {\n    var $node;\n    $node = dom(node);\n    if (this.isElement()) {\n      $node.moveChildren(this.node);\n      this.normalize();\n    } else {\n      this.text(this.text() + $node.text());\n    }\n    $node.remove();\n    return this;\n  };\n\n  Wrapper.prototype.moveChildren = function(newParent) {\n    _.each(this.childNodes(), function(child) {\n      return newParent.appendChild(child);\n    });\n    return this;\n  };\n\n  Wrapper.prototype.nextLineNode = function(root) {\n    var nextNode;\n    nextNode = this.node.nextSibling;\n    if ((nextNode == null) && this.node.parentNode !== root) {\n      nextNode = this.node.parentNode.nextSibling;\n    }\n    if ((nextNode != null) && (dom.LIST_TAGS[nextNode.tagName] != null)) {\n      nextNode = nextNode.firstChild;\n    }\n    return nextNode;\n  };\n\n  Wrapper.prototype.normalize = function() {\n    var $node, curNode, followingNode, nextNode;\n    curNode = this.node.firstChild;\n    while (curNode != null) {\n      nextNode = curNode.nextSibling;\n      $node = dom(curNode);\n      if ((nextNode != null) && dom(nextNode).isTextNode()) {\n        if ($node.text().length === 0) {\n          $node.remove();\n        } else if ($node.isTextNode()) {\n          followingNode = nextNode.nextSibling;\n          $node.merge(nextNode);\n          nextNode = followingNode;\n        }\n      }\n      curNode = nextNode;\n    }\n    return this;\n  };\n\n  Wrapper.prototype.on = function(eventName, listener) {\n    this.node.addEventListener(eventName, (function(_this) {\n      return function(event) {\n        var arg, propagate;\n        arg = lastKeyEvent && (eventName === 'keydown' || eventName === 'keyup') ? lastKeyEvent : event;\n        propagate = listener.call(_this.node, arg);\n        if (!propagate) {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n        return propagate;\n      };\n    })(this));\n    return this;\n  };\n\n  Wrapper.prototype.remove = function() {\n    var _ref;\n    if ((_ref = this.node.parentNode) != null) {\n      _ref.removeChild(this.node);\n    }\n    this.node = null;\n    return null;\n  };\n\n  Wrapper.prototype.removeClass = function(cssClass) {\n    var classArray;\n    if (!this.hasClass(cssClass)) {\n      return;\n    }\n    if (this.node.classList != null) {\n      return this.node.classList.remove(cssClass);\n    } else if (this.node.className != null) {\n      classArray = this.classes();\n      classArray.splice(_.indexOf(classArray, cssClass), 1);\n      this.node.className = classArray.join(' ');\n    }\n    return this;\n  };\n\n  Wrapper.prototype.replace = function(newNode) {\n    this.node.parentNode.replaceChild(newNode, this.node);\n    this.node = newNode;\n    return newNode;\n  };\n\n  Wrapper.prototype.splitAncestors = function(root, force) {\n    var nextNode, parentClone, parentNode, refNode;\n    if (force == null) {\n      force = false;\n    }\n    if (this.node === root || this.node.parentNode === root) {\n      return this;\n    }\n    if ((this.node.previousSibling != null) || force) {\n      parentNode = this.node.parentNode;\n      parentClone = parentNode.cloneNode(false);\n      parentNode.parentNode.insertBefore(parentClone, parentNode.nextSibling);\n      refNode = this.node;\n      while (refNode != null) {\n        nextNode = refNode.nextSibling;\n        parentClone.appendChild(refNode);\n        refNode = nextNode;\n      }\n      return dom(parentClone).splitAncestors(root);\n    } else {\n      return dom(this.node.parentNode).splitAncestors(root);\n    }\n  };\n\n  Wrapper.prototype.split = function(offset, force) {\n    var after, child, childLeft, childRight, left, nextRight, nodeLength, right, _ref, _ref1;\n    if (force == null) {\n      force = false;\n    }\n    nodeLength = this.length();\n    offset = Math.max(0, offset);\n    offset = Math.min(offset, nodeLength);\n    if (!(force || offset !== 0)) {\n      return [this.node.previousSibling, this.node, false];\n    }\n    if (!(force || offset !== nodeLength)) {\n      return [this.node, this.node.nextSibling, false];\n    }\n    if (this.node.nodeType === dom.TEXT_NODE) {\n      after = this.node.splitText(offset);\n      return [this.node, after, true];\n    } else {\n      left = this.node;\n      right = this.node.cloneNode(false);\n      this.node.parentNode.insertBefore(right, left.nextSibling);\n      _ref = this.child(offset), child = _ref[0], offset = _ref[1];\n      _ref1 = dom(child).split(offset), childLeft = _ref1[0], childRight = _ref1[1];\n      while (childRight !== null) {\n        nextRight = childRight.nextSibling;\n        right.appendChild(childRight);\n        childRight = nextRight;\n      }\n      return [left, right, true];\n    }\n  };\n\n  Wrapper.prototype.styles = function(styles, overwrite) {\n    var obj, styleString;\n    if (overwrite == null) {\n      overwrite = false;\n    }\n    if (styles) {\n      if (!overwrite) {\n        styles = _.defaults(styles, this.styles());\n      }\n      styleString = _.map(styles, function(style, name) {\n        return \"\" + name + \": \" + style;\n      }).join('; ') + ';';\n      this.node.setAttribute('style', styleString);\n      return this;\n    } else {\n      styleString = this.node.getAttribute('style') || '';\n      obj = _.reduce(styleString.split(';'), function(styles, str) {\n        var name, value, _ref;\n        _ref = str.split(':'), name = _ref[0], value = _ref[1];\n        if (name && value) {\n          name = name.trim();\n          value = value.trim();\n          styles[name.toLowerCase()] = value;\n        }\n        return styles;\n      }, {});\n      return obj;\n    }\n  };\n\n  Wrapper.prototype.switchTag = function(newTag) {\n    var attributes, newNode;\n    newTag = newTag.toUpperCase();\n    if (this.node.tagName === newTag) {\n      return this;\n    }\n    newNode = this.node.ownerDocument.createElement(newTag);\n    attributes = this.attributes();\n    if (dom.VOID_TAGS[newTag] == null) {\n      this.moveChildren(newNode);\n    }\n    this.replace(newNode);\n    return this.attributes(attributes).get();\n  };\n\n  Wrapper.prototype.text = function(text) {\n    if (text != null) {\n      switch (this.node.nodeType) {\n        case dom.ELEMENT_NODE:\n          this.node.textContent = text;\n          break;\n        case dom.TEXT_NODE:\n          this.node.data = text;\n      }\n      return this;\n    } else {\n      switch (this.node.nodeType) {\n        case dom.ELEMENT_NODE:\n          if (this.node.tagName === dom.DEFAULT_BREAK_TAG) {\n            return \"\";\n          }\n          if (dom.EMBED_TAGS[this.node.tagName] != null) {\n            return dom.EMBED_TEXT;\n          }\n          if (this.node.textContent != null) {\n            return this.node.textContent;\n          }\n          return \"\";\n        case dom.TEXT_NODE:\n          return this.node.data || \"\";\n        default:\n          return \"\";\n      }\n    }\n  };\n\n  Wrapper.prototype.textNodes = function() {\n    var textNode, textNodes, walker;\n    walker = this.node.ownerDocument.createTreeWalker(this.node, NodeFilter.SHOW_TEXT, null, false);\n    textNodes = [];\n    while (textNode = walker.nextNode()) {\n      textNodes.push(textNode);\n    }\n    return textNodes;\n  };\n\n  Wrapper.prototype.toggleClass = function(className, state) {\n    if (state == null) {\n      state = !this.hasClass(className);\n    }\n    if (state) {\n      this.addClass(className);\n    } else {\n      this.removeClass(className);\n    }\n    return this;\n  };\n\n  Wrapper.prototype.trigger = function(eventName, options) {\n    var event, initFn, modifiers;\n    if (options == null) {\n      options = {};\n    }\n    if (_.indexOf(['keypress', 'keydown', 'keyup'], eventName) < 0) {\n      event = this.node.ownerDocument.createEvent('Event');\n      event.initEvent(eventName, options.bubbles, options.cancelable);\n    } else {\n      event = this.node.ownerDocument.createEvent('KeyboardEvent');\n      lastKeyEvent = _.clone(options);\n      if (_.isNumber(options.key)) {\n        lastKeyEvent.which = options.key;\n      } else if (_.isString(options.key)) {\n        lastKeyEvent.which = options.key.toUpperCase().charCodeAt(0);\n      } else {\n        lastKeyEvent.which = 0;\n      }\n      if (dom.isIE(10)) {\n        modifiers = [];\n        if (options.altKey) {\n          modifiers.push('Alt');\n        }\n        if (options.ctrlKey) {\n          modifiers.push('Control');\n        }\n        if (options.metaKey) {\n          modifiers.push('Meta');\n        }\n        if (options.shiftKey) {\n          modifiers.push('Shift');\n        }\n        event.initKeyboardEvent(eventName, options.bubbles, options.cancelable, this.window(), 0, 0, modifiers.join(' '), null, null);\n      } else {\n        initFn = _.isFunction(event.initKeyboardEvent) ? 'initKeyboardEvent' : 'initKeyEvent';\n        event[initFn](eventName, options.bubbles, options.cancelable, this.window(), options.ctrlKey, options.altKey, options.shiftKey, options.metaKey, 0, 0);\n      }\n    }\n    this.node.dispatchEvent(event);\n    lastKeyEvent = null;\n    return this;\n  };\n\n  Wrapper.prototype.unwrap = function() {\n    var next, ret;\n    ret = this.node.firstChild;\n    next = this.node.nextSibling;\n    _.each(this.childNodes(), (function(_this) {\n      return function(child) {\n        return _this.node.parentNode.insertBefore(child, next);\n      };\n    })(this));\n    this.remove();\n    return ret;\n  };\n\n  Wrapper.prototype.window = function() {\n    return this.node.ownerDocument.defaultView || this.node.ownerDocument.parentWindow;\n  };\n\n  Wrapper.prototype.wrap = function(wrapper) {\n    var parent;\n    if (this.node.parentNode != null) {\n      this.node.parentNode.insertBefore(wrapper, this.node);\n    }\n    parent = wrapper;\n    while (parent.firstChild != null) {\n      parent = wrapper.firstChild;\n    }\n    parent.appendChild(this.node);\n    return this;\n  };\n\n  return Wrapper;\n\n})();\n\nSelectWrapper = (function(_super) {\n  __extends(SelectWrapper, _super);\n\n  function SelectWrapper() {\n    return SelectWrapper.__super__.constructor.apply(this, arguments);\n  }\n\n  SelectWrapper.prototype[\"default\"] = function() {\n    return this.node.querySelector('option[selected]');\n  };\n\n  SelectWrapper.prototype.option = function(option, trigger) {\n    var child, i, value, _i, _len, _ref;\n    if (trigger == null) {\n      trigger = true;\n    }\n    value = _.isElement(option) ? option.value : option;\n    if (value) {\n      value = value.replace(/[^\\w]+/g, '');\n      _ref = this.node.children;\n      for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {\n        child = _ref[i];\n        if (child.value.replace(/[^\\w]+/g, '') === value) {\n          this.node.selectedIndex = i;\n          break;\n        }\n      }\n    } else {\n      this.node.selectedIndex = -1;\n    }\n    if (trigger) {\n      this.trigger('change');\n    }\n    return this;\n  };\n\n  SelectWrapper.prototype.reset = function(trigger) {\n    var option;\n    if (trigger == null) {\n      trigger = true;\n    }\n    option = this[\"default\"]();\n    if (option != null) {\n      option.selected = true;\n    } else {\n      this.node.selectedIndex = 0;\n    }\n    if (trigger) {\n      this.trigger('change');\n    }\n    return this;\n  };\n\n  SelectWrapper.prototype.value = function() {\n    if (this.node.selectedIndex > -1) {\n      return this.node.options[this.node.selectedIndex].value;\n    } else {\n      return '';\n    }\n  };\n\n  return SelectWrapper;\n\n})(Wrapper);\n\ndom = function(node) {\n  if ((node != null ? node.tagName : void 0) === 'SELECT') {\n    return new SelectWrapper(node);\n  } else {\n    return new Wrapper(node);\n  }\n};\n\ndom = _.extend(dom, {\n  ELEMENT_NODE: 1,\n  NOBREAK_SPACE: \"&nbsp;\",\n  TEXT_NODE: 3,\n  ZERO_WIDTH_NOBREAK_SPACE: \"\\uFEFF\",\n  DEFAULT_BLOCK_TAG: 'DIV',\n  DEFAULT_BREAK_TAG: 'BR',\n  DEFAULT_INLINE_TAG: 'SPAN',\n  EMBED_TEXT: '!',\n  FONT_SIZES: {\n    '10px': 1,\n    '13px': 2,\n    '16px': 3,\n    '18px': 4,\n    '24px': 5,\n    '32px': 6,\n    '48px': 7\n  },\n  KEYS: {\n    BACKSPACE: 8,\n    TAB: 9,\n    ENTER: 13,\n    ESCAPE: 27,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    DELETE: 46\n  },\n  BLOCK_TAGS: {\n    'ADDRESS': 'ADDRESS',\n    'ARTICLE': 'ARTICLE',\n    'ASIDE': 'ASIDE',\n    'AUDIO': 'AUDIO',\n    'BLOCKQUOTE': 'BLOCKQUOTE',\n    'CANVAS': 'CANVAS',\n    'DD': 'DD',\n    'DIV': 'DIV',\n    'DL': 'DL',\n    'FIGCAPTION': 'FIGCAPTION',\n    'FIGURE': 'FIGURE',\n    'FOOTER': 'FOOTER',\n    'FORM': 'FORM',\n    'H1': 'H1',\n    'H2': 'H2',\n    'H3': 'H3',\n    'H4': 'H4',\n    'H5': 'H5',\n    'H6': 'H6',\n    'HEADER': 'HEADER',\n    'HGROUP': 'HGROUP',\n    'LI': 'LI',\n    'OL': 'OL',\n    'OUTPUT': 'OUTPUT',\n    'P': 'P',\n    'PRE': 'PRE',\n    'SECTION': 'SECTION',\n    'TABLE': 'TABLE',\n    'TBODY': 'TBODY',\n    'TD': 'TD',\n    'TFOOT': 'TFOOT',\n    'TH': 'TH',\n    'THEAD': 'THEAD',\n    'TR': 'TR',\n    'UL': 'UL',\n    'VIDEO': 'VIDEO'\n  },\n  EMBED_TAGS: {\n    'IMG': 'IMG'\n  },\n  LINE_TAGS: {\n    'DIV': 'DIV',\n    'LI': 'LI'\n  },\n  LIST_TAGS: {\n    'OL': 'OL',\n    'UL': 'UL'\n  },\n  VOID_TAGS: {\n    'AREA': 'AREA',\n    'BASE': 'BASE',\n    'BR': 'BR',\n    'COL': 'COL',\n    'COMMAND': 'COMMAND',\n    'EMBED': 'EMBED',\n    'HR': 'HR',\n    'IMG': 'IMG',\n    'INPUT': 'INPUT',\n    'KEYGEN': 'KEYGEN',\n    'LINK': 'LINK',\n    'META': 'META',\n    'PARAM': 'PARAM',\n    'SOURCE': 'SOURCE',\n    'TRACK': 'TRACK',\n    'WBR': 'WBR'\n  },\n  convertFontSize: function(size) {\n    var i, s, sources, targets;\n    if (_.isString(size) && size.indexOf('px') > -1) {\n      sources = _.keys(dom.FONT_SIZES);\n      targets = _.values(dom.FONT_SIZES);\n    } else {\n      targets = _.keys(dom.FONT_SIZES);\n      sources = _.values(dom.FONT_SIZES);\n    }\n    for (i in sources) {\n      s = sources[i];\n      if (parseInt(size) <= parseInt(s)) {\n        return targets[i];\n      }\n    }\n    return _.last(targets);\n  },\n  isIE: function(maxVersion) {\n    var version;\n    version = document.documentMode;\n    return version && maxVersion >= version;\n  },\n  isIOS: function() {\n    return /iPhone|iPad/i.test(navigator.userAgent);\n  },\n  isMac: function() {\n    return /Mac/i.test(navigator.platform);\n  }\n});\n\nmodule.exports = dom;\n", "var Format, dom, _;\n\n_ = require('lodash');\n\ndom = require('../lib/dom');\n\nFormat = (function() {\n  Format.types = {\n    LINE: 'line'\n  };\n\n  Format.FORMATS = {\n    bold: {\n      tag: 'B',\n      prepare: 'bold'\n    },\n    italic: {\n      tag: 'I',\n      prepare: 'italic'\n    },\n    underline: {\n      tag: 'U',\n      prepare: 'underline'\n    },\n    strike: {\n      tag: 'S',\n      prepare: 'strikeThrough'\n    },\n    color: {\n      style: 'color',\n      \"default\": 'rgb(0, 0, 0)',\n      prepare: 'foreColor'\n    },\n    background: {\n      style: 'backgroundColor',\n      \"default\": 'rgb(255, 255, 255)',\n      prepare: 'backColor'\n    },\n    font: {\n      style: 'fontFamily',\n      \"default\": \"'Helvetica', 'Arial', sans-serif\",\n      prepare: 'fontName'\n    },\n    size: {\n      style: 'fontSize',\n      \"default\": '13px',\n      prepare: function(doc, value) {\n        return doc.execCommand('fontSize', false, dom.convertFontSize(value));\n      }\n    },\n    link: {\n      tag: 'A',\n      attribute: 'href'\n    },\n    image: {\n      tag: 'IMG',\n      attribute: 'src'\n    },\n    align: {\n      type: Format.types.LINE,\n      style: 'textAlign',\n      \"default\": 'left'\n    },\n    bullet: {\n      type: Format.types.LINE,\n      exclude: 'list',\n      parentTag: 'UL',\n      tag: 'LI'\n    },\n    list: {\n      type: Format.types.LINE,\n      exclude: 'bullet',\n      parentTag: 'OL',\n      tag: 'LI'\n    }\n  };\n\n  function Format(document, config) {\n    this.document = document;\n    this.config = config;\n  }\n\n  Format.prototype.add = function(node, value) {\n    var formatNode, inline, parentNode, _ref, _ref1;\n    if (!value) {\n      return this.remove(node);\n    }\n    if (this.value(node) === value) {\n      return node;\n    }\n    if (_.isString(this.config.parentTag)) {\n      parentNode = this.document.createElement(this.config.parentTag);\n      dom(node).wrap(parentNode);\n      if (node.parentNode.tagName === ((_ref = node.parentNode.previousSibling) != null ? _ref.tagName : void 0)) {\n        dom(node.parentNode.previousSibling).merge(node.parentNode);\n      }\n      if (node.parentNode.tagName === ((_ref1 = node.parentNode.nextSibling) != null ? _ref1.tagName : void 0)) {\n        dom(node.parentNode).merge(node.parentNode.nextSibling);\n      }\n    }\n    if (_.isString(this.config.tag)) {\n      formatNode = this.document.createElement(this.config.tag);\n      if (dom.VOID_TAGS[formatNode.tagName] != null) {\n        if (node.parentNode != null) {\n          dom(node).replace(formatNode);\n        }\n        node = formatNode;\n      } else if (this.isType(Format.types.LINE)) {\n        node = dom(node).switchTag(this.config.tag);\n      } else {\n        dom(node).wrap(formatNode);\n        node = formatNode;\n      }\n    }\n    if (_.isString(this.config.style) || _.isString(this.config.attribute) || _.isString(this.config[\"class\"])) {\n      if (_.isString(this.config[\"class\"])) {\n        node = this.remove(node);\n      }\n      if (dom(node).isTextNode()) {\n        inline = this.document.createElement(dom.DEFAULT_INLINE_TAG);\n        dom(node).wrap(inline);\n        node = inline;\n      }\n      if (_.isString(this.config.style)) {\n        if (value !== this.config[\"default\"]) {\n          node.style[this.config.style] = value;\n        }\n      }\n      if (_.isString(this.config.attribute)) {\n        node.setAttribute(this.config.attribute, value);\n      }\n      if (_.isString(this.config[\"class\"])) {\n        dom(node).addClass(this.config[\"class\"] + value);\n      }\n    }\n    return node;\n  };\n\n  Format.prototype.isType = function(type) {\n    return type === this.config.type;\n  };\n\n  Format.prototype.match = function(node) {\n    var c, _i, _len, _ref, _ref1;\n    if (!dom(node).isElement()) {\n      return false;\n    }\n    if (_.isString(this.config.parentTag) && ((_ref = node.parentNode) != null ? _ref.tagName : void 0) !== this.config.parentTag) {\n      return false;\n    }\n    if (_.isString(this.config.tag) && node.tagName !== this.config.tag) {\n      return false;\n    }\n    if (_.isString(this.config.style) && (!node.style[this.config.style] || node.style[this.config.style] === this.config[\"default\"])) {\n      return false;\n    }\n    if (_.isString(this.config.attribute) && !node.hasAttribute(this.config.attribute)) {\n      return false;\n    }\n    if (_.isString(this.config[\"class\"])) {\n      _ref1 = dom(node).classes();\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        c = _ref1[_i];\n        if (c.indexOf(this.config[\"class\"]) === 0) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return true;\n  };\n\n  Format.prototype.prepare = function(value) {\n    if (_.isString(this.config.prepare)) {\n      return this.document.execCommand(this.config.prepare, false, value);\n    } else if (_.isFunction(this.config.prepare)) {\n      return this.config.prepare(this.document, value);\n    }\n  };\n\n  Format.prototype.remove = function(node) {\n    var c, _i, _len, _ref;\n    if (!this.match(node)) {\n      return node;\n    }\n    if (_.isString(this.config.style)) {\n      node.style[this.config.style] = '';\n      if (!node.getAttribute('style')) {\n        node.removeAttribute('style');\n      }\n    }\n    if (_.isString(this.config.attribute)) {\n      node.removeAttribute(this.config.attribute);\n    }\n    if (_.isString(this.config[\"class\"])) {\n      _ref = dom(node).classes();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        c = _ref[_i];\n        if (c.indexOf(this.config[\"class\"]) === 0) {\n          dom(node).removeClass(c);\n        }\n      }\n      if (!node.getAttribute('class')) {\n        node.removeAttribute('class');\n      }\n    }\n    if (_.isString(this.config.tag)) {\n      if (this.isType(Format.types.LINE)) {\n        if (_.isString(this.config.parentTag)) {\n          if (node.previousSibling != null) {\n            dom(node).splitAncestors(node.parentNode.parentNode);\n          }\n          if (node.nextSibling != null) {\n            dom(node.nextSibling).splitAncestors(node.parentNode.parentNode);\n          }\n        }\n        node = dom(node).switchTag(dom.DEFAULT_BLOCK_TAG);\n      } else {\n        node = dom(node).switchTag(dom.DEFAULT_INLINE_TAG);\n        if (dom.EMBED_TAGS[this.config.tag] != null) {\n          dom(node).text(dom.EMBED_TEXT);\n        }\n      }\n    }\n    if (_.isString(this.config.parentTag)) {\n      dom(node.parentNode).unwrap();\n    }\n    if (node.tagName === dom.DEFAULT_INLINE_TAG && !node.hasAttributes()) {\n      node = dom(node).unwrap();\n    }\n    return node;\n  };\n\n  Format.prototype.value = function(node) {\n    var c, _i, _len, _ref;\n    if (!this.match(node)) {\n      return void 0;\n    }\n    if (_.isString(this.config.attribute)) {\n      return node.getAttribute(this.config.attribute) || void 0;\n    } else if (_.isString(this.config.style)) {\n      return node.style[this.config.style] || void 0;\n    } else if (_.isString(this.config[\"class\"])) {\n      _ref = dom(node).classes();\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        c = _ref[_i];\n        if (c.indexOf(this.config[\"class\"]) === 0) {\n          return c.slice(this.config[\"class\"].length);\n        }\n      }\n    } else if (_.isString(this.config.tag)) {\n      return true;\n    }\n    return void 0;\n  };\n\n  return Format;\n\n})();\n\nmodule.exports = Format;\n", "var LinkedList, Node;\n\nNode = (function() {\n  function Node(data) {\n    this.data = data;\n    this.prev = this.next = null;\n  }\n\n  return Node;\n\n})();\n\nLinkedList = (function() {\n  LinkedList.Node = Node;\n\n  function LinkedList() {\n    this.length = 0;\n    this.first = this.last = null;\n  }\n\n  LinkedList.prototype.append = function(node) {\n    if (this.first != null) {\n      node.next = null;\n      this.last.next = node;\n    } else {\n      this.first = node;\n    }\n    node.prev = this.last;\n    this.last = node;\n    return this.length += 1;\n  };\n\n  LinkedList.prototype.insertAfter = function(refNode, newNode) {\n    newNode.prev = refNode;\n    if (refNode != null) {\n      newNode.next = refNode.next;\n      if (refNode.next != null) {\n        refNode.next.prev = newNode;\n      }\n      refNode.next = newNode;\n      if (refNode === this.last) {\n        this.last = newNode;\n      }\n    } else {\n      newNode.next = this.first;\n      this.first.prev = newNode;\n      this.first = newNode;\n    }\n    return this.length += 1;\n  };\n\n  LinkedList.prototype.remove = function(node) {\n    if (this.length > 1) {\n      if (node.prev != null) {\n        node.prev.next = node.next;\n      }\n      if (node.next != null) {\n        node.next.prev = node.prev;\n      }\n      if (node === this.first) {\n        this.first = node.next;\n      }\n      if (node === this.last) {\n        this.last = node.prev;\n      }\n    } else {\n      this.first = this.last = null;\n    }\n    node.prev = node.next = null;\n    return this.length -= 1;\n  };\n\n  LinkedList.prototype.toArray = function() {\n    var arr, cur;\n    arr = [];\n    cur = this.first;\n    while (cur != null) {\n      arr.push(cur);\n      cur = cur.next;\n    }\n    return arr;\n  };\n\n  return LinkedList;\n\n})();\n\nmodule.exports = LinkedList;\n", "var Format, Leaf, LinkedList, dom, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = require('lodash');\n\ndom = require('../lib/dom');\n\nFormat = require('./format');\n\nLinkedList = require('../lib/linked-list');\n\nLeaf = (function(_super) {\n  __extends(Leaf, _super);\n\n  Leaf.ID_PREFIX = 'leaf-';\n\n  Leaf.isLeafNode = function(node) {\n    return dom(node).isTextNode() || (node.firstChild == null);\n  };\n\n  function Leaf(node, formats) {\n    this.node = node;\n    this.formats = _.clone(formats);\n    this.id = _.uniqueId(Leaf.ID_PREFIX);\n    this.text = dom(this.node).text();\n    this.length = this.text.length;\n  }\n\n  Leaf.prototype.deleteText = function(offset, length) {\n    var textNode;\n    if (!(length > 0)) {\n      return;\n    }\n    this.text = this.text.slice(0, offset) + this.text.slice(offset + length);\n    this.length = this.text.length;\n    if (dom.EMBED_TAGS[this.node.tagName] != null) {\n      textNode = this.node.ownerDocument.createTextNode(this.text);\n      return this.node = dom(this.node).replace(textNode);\n    } else {\n      return dom(this.node).text(this.text);\n    }\n  };\n\n  Leaf.prototype.insertText = function(offset, text) {\n    var textNode;\n    this.text = this.text.slice(0, offset) + text + this.text.slice(offset);\n    if (dom(this.node).isTextNode()) {\n      dom(this.node).text(this.text);\n    } else {\n      textNode = this.node.ownerDocument.createTextNode(text);\n      if (this.node.tagName === dom.DEFAULT_BREAK_TAG) {\n        this.node = dom(this.node).replace(textNode);\n      } else {\n        this.node.appendChild(textNode);\n        this.node = textNode;\n      }\n    }\n    return this.length = this.text.length;\n  };\n\n  return Leaf;\n\n})(LinkedList.Node);\n\nmodule.exports = Leaf;\n", "var Normalizer, dom, _;\n\n_ = require('lodash');\n\ndom = require('./dom');\n\nNormalizer = {\n  ALIASES: {\n    'STRONG': 'B',\n    'EM': 'I',\n    'DEL': 'S',\n    'STRIKE': 'S'\n  },\n  ATTRIBUTES: {\n    'color': 'color',\n    'face': 'fontFamily',\n    'size': 'fontSize'\n  },\n  STYLES: {\n    'background-color': 'background-color',\n    'color': 'color',\n    'font-family': 'font-family',\n    'font-size': 'font-size',\n    'text-align': 'text-align'\n  },\n  TAGS: {\n    'DIV': 'DIV',\n    'BR': 'BR',\n    'SPAN': 'SPAN',\n    'B': 'B',\n    'I': 'I',\n    'S': 'S',\n    'U': 'U',\n    'A': 'A',\n    'IMG': 'IMG',\n    'OL': 'OL',\n    'UL': 'UL',\n    'LI': 'LI'\n  },\n  handleBreaks: function(lineNode) {\n    var breaks;\n    breaks = _.map(lineNode.querySelectorAll(dom.DEFAULT_BREAK_TAG));\n    _.each(breaks, (function(_this) {\n      return function(br) {\n        if ((br.nextSibling != null) && (!dom.isIE(10) || (br.previousSibling != null))) {\n          return dom(br.nextSibling).splitAncestors(lineNode.parentNode);\n        }\n      };\n    })(this));\n    return lineNode;\n  },\n  normalizeLine: function(lineNode) {\n    lineNode = Normalizer.wrapInline(lineNode);\n    lineNode = Normalizer.handleBreaks(lineNode);\n    lineNode = Normalizer.pullBlocks(lineNode);\n    lineNode = Normalizer.normalizeNode(lineNode);\n    Normalizer.unwrapText(lineNode);\n    if ((lineNode != null) && (dom.LIST_TAGS[lineNode.tagName] != null)) {\n      lineNode = lineNode.firstChild;\n    }\n    return lineNode;\n  },\n  normalizeNode: function(node) {\n    if (dom(node).isTextNode()) {\n      return node;\n    }\n    _.each(Normalizer.ATTRIBUTES, function(style, attribute) {\n      var value;\n      if (node.hasAttribute(attribute)) {\n        value = node.getAttribute(attribute);\n        if (attribute === 'size') {\n          value = dom.convertFontSize(value);\n        }\n        node.style[style] = value;\n        return node.removeAttribute(attribute);\n      }\n    });\n    Normalizer.whitelistStyles(node);\n    return Normalizer.whitelistTags(node);\n  },\n  optimizeLine: function(lineNode) {\n    var lineNodeLength, node, nodes, _results;\n    lineNodeLength = dom(lineNode).length();\n    nodes = dom(lineNode).descendants();\n    _results = [];\n    while (nodes.length > 0) {\n      node = nodes.pop();\n      if ((node != null ? node.parentNode : void 0) == null) {\n        continue;\n      }\n      if (dom.EMBED_TAGS[node.tagName] != null) {\n        continue;\n      }\n      if (node.tagName === dom.DEFAULT_BREAK_TAG) {\n        if (lineNodeLength !== 0) {\n          _results.push(dom(node).remove());\n        } else {\n          _results.push(void 0);\n        }\n      } else if (dom(node).length() === 0) {\n        nodes.push(node.nextSibling);\n        _results.push(dom(node).unwrap());\n      } else if ((node.previousSibling != null) && node.tagName === node.previousSibling.tagName) {\n        if (_.isEqual(dom(node).attributes(), dom(node.previousSibling).attributes())) {\n          nodes.push(node.firstChild);\n          _results.push(dom(node.previousSibling).merge(node));\n        } else {\n          _results.push(void 0);\n        }\n      } else {\n        _results.push(void 0);\n      }\n    }\n    return _results;\n  },\n  pullBlocks: function(lineNode) {\n    var curNode;\n    curNode = lineNode.firstChild;\n    while (curNode != null) {\n      if ((dom.BLOCK_TAGS[curNode.tagName] != null) && curNode.tagName !== 'LI') {\n        if (curNode.previousSibling != null) {\n          dom(curNode).splitAncestors(lineNode.parentNode);\n        }\n        if (curNode.nextSibling != null) {\n          dom(curNode.nextSibling).splitAncestors(lineNode.parentNode);\n        }\n        if ((dom.LIST_TAGS[curNode.tagName] == null) || !curNode.firstChild) {\n          dom(curNode).unwrap();\n          Normalizer.pullBlocks(lineNode);\n        } else {\n          dom(curNode.parentNode).unwrap();\n          if (lineNode.parentNode == null) {\n            lineNode = curNode;\n          }\n        }\n        break;\n      }\n      curNode = curNode.nextSibling;\n    }\n    return lineNode;\n  },\n  stripComments: function(html) {\n    return html.replace(/<!--[\\s\\S]*?-->/g, '');\n  },\n  stripWhitespace: function(html) {\n    html = html.replace(/^\\s+/, '').replace(/\\s+$/, '');\n    html = html.replace(/^\\s+/, '').replace(/\\s+$/, '');\n    html = html.replace(/(\\r?\\n|\\r)+/g, ' ');\n    html = html.replace(/\\>\\s+\\</g, '><');\n    return html;\n  },\n  whitelistStyles: function(node) {\n    var original, styles;\n    original = dom(node).styles();\n    styles = _.omit(original, function(value, key) {\n      return Normalizer.STYLES[key] == null;\n    });\n    if (_.keys(styles).length < _.keys(original).length) {\n      if (_.keys(styles).length > 0) {\n        return dom(node).styles(styles, true);\n      } else {\n        return node.removeAttribute('style');\n      }\n    }\n  },\n  whitelistTags: function(node) {\n    if (!dom(node).isElement()) {\n      return node;\n    }\n    if (Normalizer.ALIASES[node.tagName] != null) {\n      node = dom(node).switchTag(Normalizer.ALIASES[node.tagName]);\n    } else if (Normalizer.TAGS[node.tagName] == null) {\n      if (dom.BLOCK_TAGS[node.tagName] != null) {\n        node = dom(node).switchTag(dom.DEFAULT_BLOCK_TAG);\n      } else if (!node.hasAttributes() && (node.firstChild != null)) {\n        node = dom(node).unwrap();\n      } else {\n        node = dom(node).switchTag(dom.DEFAULT_INLINE_TAG);\n      }\n    }\n    return node;\n  },\n  wrapInline: function(lineNode) {\n    var blockNode, nextNode;\n    if (dom.BLOCK_TAGS[lineNode.tagName] != null) {\n      return lineNode;\n    }\n    blockNode = lineNode.ownerDocument.createElement(dom.DEFAULT_BLOCK_TAG);\n    lineNode.parentNode.insertBefore(blockNode, lineNode);\n    while ((lineNode != null) && (dom.BLOCK_TAGS[lineNode.tagName] == null)) {\n      nextNode = lineNode.nextSibling;\n      blockNode.appendChild(lineNode);\n      lineNode = nextNode;\n    }\n    return blockNode;\n  },\n  unwrapText: function(lineNode) {\n    var spans;\n    spans = _.map(lineNode.querySelectorAll(dom.DEFAULT_INLINE_TAG));\n    return _.each(spans, function(span) {\n      if (!span.hasAttributes()) {\n        return dom(span).unwrap();\n      }\n    });\n  }\n};\n\nmodule.exports = Normalizer;\n", "var Delta, Format, Leaf, Line, LinkedList, Normalizer, dom, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = require('lodash');\n\nDelta = require('rich-text').Delta;\n\ndom = require('../lib/dom');\n\nFormat = require('./format');\n\nLeaf = require('./leaf');\n\nLine = require('./line');\n\nLinkedList = require('../lib/linked-list');\n\nNormalizer = require('../lib/normalizer');\n\nLine = (function(_super) {\n  __extends(Line, _super);\n\n  Line.CLASS_NAME = 'line';\n\n  Line.ID_PREFIX = 'line-';\n\n  function Line(doc, node) {\n    this.doc = doc;\n    this.node = node;\n    this.id = _.uniqueId(Line.ID_PREFIX);\n    this.formats = {};\n    dom(this.node).addClass(Line.CLASS_NAME);\n    this.rebuild();\n    Line.__super__.constructor.call(this, this.node);\n  }\n\n  Line.prototype.buildLeaves = function(node, formats) {\n    return _.each(dom(node).childNodes(), (function(_this) {\n      return function(node) {\n        var nodeFormats;\n        node = Normalizer.normalizeNode(node);\n        nodeFormats = _.clone(formats);\n        _.each(_this.doc.formats, function(format, name) {\n          if (!format.isType(Format.types.LINE) && format.match(node)) {\n            return nodeFormats[name] = format.value(node);\n          }\n        });\n        if (Leaf.isLeafNode(node)) {\n          return _this.leaves.append(new Leaf(node, nodeFormats));\n        } else {\n          return _this.buildLeaves(node, nodeFormats);\n        }\n      };\n    })(this));\n  };\n\n  Line.prototype.deleteText = function(offset, length) {\n    var deleteLength, leaf, _ref;\n    if (!(length > 0)) {\n      return;\n    }\n    _ref = this.findLeafAt(offset), leaf = _ref[0], offset = _ref[1];\n    while ((leaf != null) && length > 0) {\n      deleteLength = Math.min(length, leaf.length - offset);\n      leaf.deleteText(offset, deleteLength);\n      length -= deleteLength;\n      leaf = leaf.next;\n      offset = 0;\n    }\n    return this.rebuild();\n  };\n\n  Line.prototype.findLeaf = function(leafNode) {\n    var curLeaf;\n    curLeaf = this.leaves.first;\n    while (curLeaf != null) {\n      if (curLeaf.node === leafNode) {\n        return curLeaf;\n      }\n      curLeaf = curLeaf.next;\n    }\n    return null;\n  };\n\n  Line.prototype.findLeafAt = function(offset, inclusive) {\n    var leaf;\n    if (inclusive == null) {\n      inclusive = false;\n    }\n    if (offset >= this.length - 1) {\n      return [this.leaves.last, this.leaves.last.length];\n    }\n    leaf = this.leaves.first;\n    while (leaf != null) {\n      if (offset < leaf.length || (offset === leaf.length && inclusive)) {\n        return [leaf, offset];\n      }\n      offset -= leaf.length;\n      leaf = leaf.next;\n    }\n    return [this.leaves.last, offset - this.leaves.last.length];\n  };\n\n  Line.prototype.format = function(name, value) {\n    var formats;\n    if (_.isObject(name)) {\n      formats = name;\n    } else {\n      formats = {};\n      formats[name] = value;\n    }\n    _.each(formats, (function(_this) {\n      return function(value, name) {\n        var excludeFormat, format;\n        format = _this.doc.formats[name];\n        if (format.isType(Format.types.LINE)) {\n          if (format.config.exclude && _this.formats[format.config.exclude]) {\n            excludeFormat = _this.doc.formats[format.config.exclude];\n            if (excludeFormat != null) {\n              _this.node = excludeFormat.remove(_this.node);\n              delete _this.formats[format.config.exclude];\n            }\n          }\n          _this.node = format.add(_this.node, value);\n        }\n        if (value) {\n          return _this.formats[name] = value;\n        } else {\n          return delete _this.formats[name];\n        }\n      };\n    })(this));\n    return this.resetContent();\n  };\n\n  Line.prototype.formatText = function(offset, length, name, value) {\n    var format, leaf, leafOffset, leftNode, nextLeaf, rightNode, targetNode, _ref, _ref1, _ref2;\n    _ref = this.findLeafAt(offset), leaf = _ref[0], leafOffset = _ref[1];\n    format = this.doc.formats[name];\n    if (!((format != null) && format.config.type !== Format.types.LINE)) {\n      return;\n    }\n    while ((leaf != null) && length > 0) {\n      nextLeaf = leaf.next;\n      if ((value && leaf.formats[name] !== value) || (!value && (leaf.formats[name] != null))) {\n        targetNode = leaf.node;\n        if (leaf.formats[name] != null) {\n          dom(targetNode).splitAncestors(this.node);\n          while (!format.match(targetNode)) {\n            targetNode = targetNode.parentNode;\n          }\n        }\n        if (leafOffset > 0) {\n          _ref1 = dom(targetNode).split(leafOffset), leftNode = _ref1[0], targetNode = _ref1[1];\n        }\n        if (leaf.length > leafOffset + length) {\n          _ref2 = dom(targetNode).split(length), targetNode = _ref2[0], rightNode = _ref2[1];\n        }\n        format.add(targetNode, value);\n      }\n      length -= leaf.length - leafOffset;\n      leafOffset = 0;\n      leaf = nextLeaf;\n    }\n    return this.rebuild();\n  };\n\n  Line.prototype.insertText = function(offset, text, formats) {\n    var leaf, leafOffset, nextNode, node, prevNode, _ref, _ref1;\n    if (formats == null) {\n      formats = {};\n    }\n    if (!(text.length > 0)) {\n      return;\n    }\n    _ref = this.findLeafAt(offset), leaf = _ref[0], leafOffset = _ref[1];\n    if (_.isEqual(leaf.formats, formats)) {\n      leaf.insertText(leafOffset, text);\n      return this.resetContent();\n    } else {\n      node = _.reduce(formats, (function(_this) {\n        return function(node, value, name) {\n          return _this.doc.formats[name].add(node, value);\n        };\n      })(this), this.node.ownerDocument.createTextNode(text));\n      _ref1 = dom(leaf.node).split(leafOffset), prevNode = _ref1[0], nextNode = _ref1[1];\n      if (nextNode) {\n        nextNode = dom(nextNode).splitAncestors(this.node).get();\n      }\n      this.node.insertBefore(node, nextNode);\n      return this.rebuild();\n    }\n  };\n\n  Line.prototype.optimize = function() {\n    Normalizer.optimizeLine(this.node);\n    return this.rebuild();\n  };\n\n  Line.prototype.rebuild = function(force) {\n    if (force == null) {\n      force = false;\n    }\n    if (!force && (this.outerHTML != null) && this.outerHTML === this.node.outerHTML) {\n      if (_.all(this.leaves.toArray(), (function(_this) {\n        return function(leaf) {\n          return dom(leaf.node).isAncestor(_this.node);\n        };\n      })(this))) {\n        return false;\n      }\n    }\n    this.node = Normalizer.normalizeNode(this.node);\n    if (dom(this.node).length() === 0 && !this.node.querySelector(dom.DEFAULT_BREAK_TAG)) {\n      this.node.appendChild(this.node.ownerDocument.createElement(dom.DEFAULT_BREAK_TAG));\n    }\n    this.leaves = new LinkedList();\n    this.formats = _.reduce(this.doc.formats, (function(_this) {\n      return function(formats, format, name) {\n        if (format.isType(Format.types.LINE)) {\n          if (format.match(_this.node)) {\n            formats[name] = format.value(_this.node);\n          } else {\n            delete formats[name];\n          }\n        }\n        return formats;\n      };\n    })(this), this.formats);\n    this.buildLeaves(this.node, {});\n    this.resetContent();\n    return true;\n  };\n\n  Line.prototype.resetContent = function() {\n    if (this.node.id !== this.id) {\n      this.node.id = this.id;\n    }\n    this.outerHTML = this.node.outerHTML;\n    this.length = 1;\n    this.delta = new Delta();\n    this.leaves.toArray().forEach((function(_this) {\n      return function(leaf) {\n        _this.length += leaf.length;\n        if (dom.EMBED_TAGS[leaf.node.tagName] != null) {\n          return _this.delta.insert(1, leaf.formats);\n        } else {\n          return _this.delta.insert(leaf.text, leaf.formats);\n        }\n      };\n    })(this));\n    return this.delta.insert('\\n', this.formats);\n  };\n\n  return Line;\n\n})(LinkedList.Node);\n\nmodule.exports = Line;\n", "var Delta, Document, Format, Line, LinkedList, Normalizer, dom, _;\n\n_ = require('lodash');\n\nDelta = require('rich-text').Delta;\n\ndom = require('../lib/dom');\n\nFormat = require('./format');\n\nLine = require('./line');\n\nLinkedList = require('../lib/linked-list');\n\nNormalizer = require('../lib/normalizer');\n\nDocument = (function() {\n  function Document(root, options) {\n    this.root = root;\n    if (options == null) {\n      options = {};\n    }\n    this.formats = {};\n    _.each(options.formats, _.bind(this.addFormat, this));\n    this.setHTML(this.root.innerHTML);\n  }\n\n  Document.prototype.addFormat = function(name, config) {\n    if (!_.isObject(config)) {\n      config = Format.FORMATS[name];\n    }\n    if (this.formats[name] != null) {\n      console.warn('Overwriting format', name, this.formats[name]);\n    }\n    return this.formats[name] = new Format(this.root.ownerDocument, config);\n  };\n\n  Document.prototype.appendLine = function(lineNode) {\n    return this.insertLineBefore(lineNode, null);\n  };\n\n  Document.prototype.findLeafAt = function(index, inclusive) {\n    var line, offset, _ref;\n    _ref = this.findLineAt(index), line = _ref[0], offset = _ref[1];\n    if (line != null) {\n      return line.findLeafAt(offset, inclusive);\n    } else {\n      return [null, offset];\n    }\n  };\n\n  Document.prototype.findLine = function(node) {\n    var line;\n    while ((node != null) && (dom.BLOCK_TAGS[node.tagName] == null)) {\n      node = node.parentNode;\n    }\n    line = node != null ? this.lineMap[node.id] : null;\n    if ((line != null ? line.node : void 0) === node) {\n      return line;\n    } else {\n      return null;\n    }\n  };\n\n  Document.prototype.findLineAt = function(index) {\n    var curLine, length;\n    if (!(this.lines.length > 0)) {\n      return [null, index];\n    }\n    length = this.toDelta().length();\n    if (index === length) {\n      return [this.lines.last, this.lines.last.length];\n    }\n    if (index > length) {\n      return [null, index - length];\n    }\n    curLine = this.lines.first;\n    while (curLine != null) {\n      if (index < curLine.length) {\n        return [curLine, index];\n      }\n      index -= curLine.length;\n      curLine = curLine.next;\n    }\n    return [null, index];\n  };\n\n  Document.prototype.insertLineBefore = function(newLineNode, refLine) {\n    var line;\n    line = new Line(this, newLineNode);\n    if (refLine != null) {\n      if (!dom(newLineNode.parentNode).isElement()) {\n        this.root.insertBefore(newLineNode, refLine.node);\n      }\n      this.lines.insertAfter(refLine.prev, line);\n    } else {\n      if (!dom(newLineNode.parentNode).isElement()) {\n        this.root.appendChild(newLineNode);\n      }\n      this.lines.append(line);\n    }\n    this.lineMap[line.id] = line;\n    return line;\n  };\n\n  Document.prototype.mergeLines = function(line, lineToMerge) {\n    if (lineToMerge.length > 1) {\n      if (line.length === 1) {\n        dom(line.leaves.last.node).remove();\n      }\n      _.each(dom(lineToMerge.node).childNodes(), function(child) {\n        if (child.tagName !== dom.DEFAULT_BREAK_TAG) {\n          return line.node.appendChild(child);\n        }\n      });\n    }\n    this.removeLine(lineToMerge);\n    return line.rebuild();\n  };\n\n  Document.prototype.optimizeLines = function() {\n    return _.each(this.lines.toArray(), function(line, i) {\n      line.optimize();\n      return true;\n    });\n  };\n\n  Document.prototype.rebuild = function() {\n    var lineNode, lines, _results;\n    lines = this.lines.toArray();\n    lineNode = this.root.firstChild;\n    if ((lineNode != null) && (dom.LIST_TAGS[lineNode.tagName] != null)) {\n      lineNode = lineNode.firstChild;\n    }\n    _.each(lines, (function(_this) {\n      return function(line, index) {\n        var newLine, _ref;\n        while (line.node !== lineNode) {\n          if (line.node.parentNode === _this.root || ((_ref = line.node.parentNode) != null ? _ref.parentNode : void 0) === _this.root) {\n            lineNode = Normalizer.normalizeLine(lineNode);\n            newLine = _this.insertLineBefore(lineNode, line);\n            lineNode = dom(lineNode).nextLineNode(_this.root);\n          } else {\n            return _this.removeLine(line);\n          }\n        }\n        if (line.outerHTML !== lineNode.outerHTML) {\n          line.node = Normalizer.normalizeLine(line.node);\n          line.rebuild();\n        }\n        return lineNode = dom(lineNode).nextLineNode(_this.root);\n      };\n    })(this));\n    _results = [];\n    while (lineNode != null) {\n      lineNode = Normalizer.normalizeLine(lineNode);\n      this.appendLine(lineNode);\n      _results.push(lineNode = dom(lineNode).nextLineNode(this.root));\n    }\n    return _results;\n  };\n\n  Document.prototype.removeLine = function(line) {\n    if (line.node.parentNode != null) {\n      if (dom.LIST_TAGS[line.node.parentNode.tagName] && line.node.parentNode.childNodes.length === 1) {\n        dom(line.node.parentNode).remove();\n      } else {\n        dom(line.node).remove();\n      }\n    }\n    delete this.lineMap[line.id];\n    return this.lines.remove(line);\n  };\n\n  Document.prototype.setHTML = function(html) {\n    html = Normalizer.stripComments(html);\n    html = Normalizer.stripWhitespace(html);\n    this.root.innerHTML = html;\n    this.lines = new LinkedList();\n    this.lineMap = {};\n    return this.rebuild();\n  };\n\n  Document.prototype.splitLine = function(line, offset) {\n    var lineNode1, lineNode2, newLine, _ref;\n    offset = Math.min(offset, line.length - 1);\n    _ref = dom(line.node).split(offset, true), lineNode1 = _ref[0], lineNode2 = _ref[1];\n    line.node = lineNode1;\n    line.rebuild();\n    newLine = this.insertLineBefore(lineNode2, line.next);\n    newLine.formats = _.clone(line.formats);\n    newLine.resetContent();\n    return newLine;\n  };\n\n  Document.prototype.toDelta = function() {\n    var delta, lines;\n    lines = this.lines.toArray();\n    delta = new Delta();\n    lines.forEach(function(line) {\n      return line.delta.ops.forEach(function(op) {\n        return delta.push(op);\n      });\n    });\n    return delta;\n  };\n\n  return Document;\n\n})();\n\nmodule.exports = Document;\n", "var DEFAULT_STYLES, LIST_STYLES, Normalizer, Renderer, dom, rule, _;\n\n_ = require('lodash');\n\ndom = require('../lib/dom');\n\nNormalizer = require('../lib/normalizer');\n\nDEFAULT_STYLES = {\n  'html': {\n    'height': '100%',\n    'width': '100%'\n  },\n  'body': {\n    'box-sizing': 'border-box',\n    'cursor': 'text',\n    'font-family': \"'Helvetica', 'Arial', sans-serif\",\n    'font-size': '13px',\n    'height': '100%',\n    'line-height': '1.42',\n    'margin': '0px',\n    'overflow-x': 'hidden',\n    'overflow-y': 'auto',\n    'padding': '12px 15px'\n  },\n  '.editor-container': {\n    'height': '100%',\n    'outline': 'none',\n    'position': 'relative',\n    'tab-size': '4',\n    'white-space': 'pre-wrap'\n  },\n  '.editor-container div': {\n    'margin': '0',\n    'padding': '0'\n  },\n  '.editor-container a': {\n    'text-decoration': 'underline'\n  },\n  '.editor-container b': {\n    'font-weight': 'bold'\n  },\n  '.editor-container i': {\n    'font-style': 'italic'\n  },\n  '.editor-container s': {\n    'text-decoration': 'line-through'\n  },\n  '.editor-container u': {\n    'text-decoration': 'underline'\n  },\n  '.editor-container img': {\n    'max-width': '100%'\n  },\n  '.editor-container blockquote': {\n    'margin': '0 0 0 2em',\n    'padding': '0'\n  },\n  '.editor-container ol': {\n    'margin': '0 0 0 2em',\n    'padding': '0',\n    'list-style-type': 'decimal'\n  },\n  '.editor-container ul': {\n    'margin': '0 0 0 2em',\n    'padding': '0',\n    'list-style-type': 'disc'\n  }\n};\n\nLIST_STYLES = ['decimal', 'lower-alpha', 'lower-roman'];\n\nrule = '.editor-container ol > li';\n\n_.each([1, 2, 3, 4, 5, 6, 7, 8, 9], function(i) {\n  rule += ' > ol';\n  DEFAULT_STYLES[rule] = {\n    'list-style-type': LIST_STYLES[i % 3]\n  };\n  return rule += ' > li';\n});\n\nif (dom.isIE(10)) {\n  DEFAULT_STYLES[dom.DEFAULT_BREAK_TAG] = {\n    'display': 'none'\n  };\n}\n\nRenderer = (function() {\n  Renderer.objToCss = function(obj) {\n    return _.map(obj, function(value, key) {\n      var innerStr;\n      innerStr = _.map(value, function(innerValue, innerKey) {\n        return \"\" + innerKey + \": \" + innerValue + \";\";\n      }).join(' ');\n      return \"\" + key + \" { \" + innerStr + \" }\";\n    }).join(\"\\n\");\n  };\n\n  Renderer.buildFrame = function(container) {\n    var iframe, iframeDoc, root;\n    iframe = container.ownerDocument.createElement('iframe');\n    dom(iframe).attributes({\n      frameBorder: '0',\n      height: '100%',\n      width: '100%',\n      title: 'Quill Rich Text Editor',\n      role: 'presentation'\n    });\n    container.appendChild(iframe);\n    iframeDoc = iframe.contentWindow.document;\n    iframeDoc.open();\n    iframeDoc.write('<!DOCTYPE html>');\n    iframeDoc.close();\n    root = iframeDoc.createElement('div');\n    iframeDoc.body.appendChild(root);\n    return [root, iframe];\n  };\n\n  function Renderer(container, options) {\n    var _ref;\n    this.container = container;\n    this.options = options != null ? options : {};\n    this.container.innerHTML = '';\n    _ref = Renderer.buildFrame(this.container), this.root = _ref[0], this.iframe = _ref[1];\n    this.root.setAttribute('id', this.options.id);\n    this.iframe.setAttribute('name', this.options.id);\n    dom(this.root).addClass('editor-container');\n    dom(this.container).addClass('ql-container');\n    if (dom.isIOS()) {\n      dom(this.container).styles({\n        'overflow': 'auto',\n        '-webkit-overflow-scrolling': 'touch'\n      });\n    }\n    this.addStyles(DEFAULT_STYLES);\n    if (this.options.styles != null) {\n      _.defer(_.bind(this.addStyles, this, this.options.styles));\n    }\n  }\n\n  Renderer.prototype.addContainer = function(className, before) {\n    var container, refNode;\n    if (before == null) {\n      before = false;\n    }\n    refNode = before ? this.root : null;\n    container = this.root.ownerDocument.createElement('div');\n    dom(container).addClass(className);\n    this.root.parentNode.insertBefore(container, refNode);\n    return container;\n  };\n\n  Renderer.prototype.addStyles = function(css) {\n    var link, style;\n    if (typeof css === 'object') {\n      style = this.root.ownerDocument.createElement('style');\n      style.type = 'text/css';\n      css = Renderer.objToCss(css);\n      style.appendChild(this.root.ownerDocument.createTextNode(css));\n      return this.root.ownerDocument.head.appendChild(style);\n    } else if (typeof css === 'string') {\n      link = this.root.ownerDocument.createElement('link');\n      dom(link).attributes({\n        type: 'text/css',\n        rel: 'stylesheet',\n        href: css\n      });\n      return this.root.ownerDocument.head.appendChild(link);\n    }\n  };\n\n  return Renderer;\n\n})();\n\nmodule.exports = Renderer;\n", "var Range, _;\n\n_ = require('lodash');\n\nRange = (function() {\n  Range.compare = function(r1, r2) {\n    if (r1 === r2) {\n      return true;\n    }\n    if (!((r1 != null) && (r2 != null))) {\n      return false;\n    }\n    return r1.equals(r2);\n  };\n\n  function Range(start, end) {\n    this.start = start;\n    this.end = end;\n  }\n\n  Range.prototype.equals = function(range) {\n    if (range == null) {\n      return false;\n    }\n    return this.start === range.start && this.end === range.end;\n  };\n\n  Range.prototype.shift = function(index, length) {\n    var _ref;\n    return _ref = _.map([this.start, this.end], function(pos) {\n      if (index > pos) {\n        return pos;\n      }\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    }), this.start = _ref[0], this.end = _ref[1], _ref;\n  };\n\n  Range.prototype.isCollapsed = function() {\n    return this.start === this.end;\n  };\n\n  return Range;\n\n})();\n\nmodule.exports = Range;\n", "var Leaf, Normalizer, Range, Selection, dom, _;\n\n_ = require('lodash');\n\ndom = require('../lib/dom');\n\nLeaf = require('./leaf');\n\nNormalizer = require('../lib/normalizer');\n\nRange = require('../lib/range');\n\nSelection = (function() {\n  function Selection(doc, iframe, emitter) {\n    this.doc = doc;\n    this.iframe = iframe;\n    this.emitter = emitter;\n    this.document = this.doc.root.ownerDocument;\n    this.focus = false;\n    this.range = new Range(0, 0);\n    this.nullDelay = false;\n    this.update('silent');\n  }\n\n  Selection.prototype.checkFocus = function() {\n    return this.document.activeElement === this.doc.root && document.activeElement === this.iframe;\n  };\n\n  Selection.prototype.getRange = function(ignoreFocus) {\n    var end, nativeRange, start;\n    if (ignoreFocus == null) {\n      ignoreFocus = false;\n    }\n    if (this.checkFocus()) {\n      nativeRange = this._getNativeRange();\n      if (nativeRange == null) {\n        return null;\n      }\n      start = this._positionToIndex(nativeRange.startContainer, nativeRange.startOffset);\n      if (nativeRange.startContainer === nativeRange.endContainer && nativeRange.startOffset === nativeRange.endOffset) {\n        end = start;\n      } else {\n        end = this._positionToIndex(nativeRange.endContainer, nativeRange.endOffset);\n      }\n      return new Range(Math.min(start, end), Math.max(start, end));\n    } else if (ignoreFocus) {\n      return this.range;\n    } else {\n      return null;\n    }\n  };\n\n  Selection.prototype.preserve = function(fn) {\n    var endNode, endOffset, nativeRange, startNode, startOffset, _ref, _ref1, _ref2, _ref3;\n    nativeRange = this._getNativeRange();\n    if ((nativeRange != null) && this.checkFocus()) {\n      _ref = this._encodePosition(nativeRange.startContainer, nativeRange.startOffset), startNode = _ref[0], startOffset = _ref[1];\n      _ref1 = this._encodePosition(nativeRange.endContainer, nativeRange.endOffset), endNode = _ref1[0], endOffset = _ref1[1];\n      fn();\n      _ref2 = this._decodePosition(startNode, startOffset), startNode = _ref2[0], startOffset = _ref2[1];\n      _ref3 = this._decodePosition(endNode, endOffset), endNode = _ref3[0], endOffset = _ref3[1];\n      return this._setNativeRange(startNode, startOffset, endNode, endOffset);\n    } else {\n      return fn();\n    }\n  };\n\n  Selection.prototype.setRange = function(range, source) {\n    var endNode, endOffset, startNode, startOffset, _ref, _ref1, _ref2;\n    if (range != null) {\n      _ref = this._indexToPosition(range.start), startNode = _ref[0], startOffset = _ref[1];\n      if (range.isCollapsed()) {\n        _ref1 = [startNode, startOffset], endNode = _ref1[0], endOffset = _ref1[1];\n      } else {\n        _ref2 = this._indexToPosition(range.end), endNode = _ref2[0], endOffset = _ref2[1];\n      }\n      this._setNativeRange(startNode, startOffset, endNode, endOffset);\n    } else {\n      this._setNativeRange(null);\n    }\n    return this.update(source);\n  };\n\n  Selection.prototype.shiftAfter = function(index, length, fn) {\n    var range;\n    range = this.getRange();\n    fn();\n    if (range != null) {\n      range.shift(index, length);\n      return this.setRange(range, 'silent');\n    }\n  };\n\n  Selection.prototype.update = function(source) {\n    var emit, focus, range, toEmit;\n    focus = this.checkFocus();\n    range = this.getRange(true);\n    emit = source !== 'silent' && (!Range.compare(range, this.range) || focus !== this.focus);\n    toEmit = focus ? range : null;\n    if (toEmit === null && source === 'user' && !this.nullDelay) {\n      return this.nullDelay = true;\n    } else {\n      this.nullDelay = false;\n      this.range = range;\n      this.focus = focus;\n      if (emit) {\n        return this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE, toEmit, source);\n      }\n    }\n  };\n\n  Selection.prototype._decodePosition = function(node, offset) {\n    var childIndex;\n    if (dom(node).isElement()) {\n      childIndex = _.indexOf(dom(node.parentNode).childNodes(), node);\n      offset += childIndex;\n      node = node.parentNode;\n    }\n    return [node, offset];\n  };\n\n  Selection.prototype._encodePosition = function(node, offset) {\n    var text;\n    while (true) {\n      if (dom(node).isTextNode() || node.tagName === dom.DEFAULT_BREAK_TAG || (dom.EMBED_TAGS[node.tagName] != null)) {\n        return [node, offset];\n      } else if (offset < node.childNodes.length) {\n        node = node.childNodes[offset];\n        offset = 0;\n      } else if (node.childNodes.length === 0) {\n        if (Normalizer.TAGS[node.tagName] == null) {\n          text = node.ownerDocument.createTextNode('');\n          node.appendChild(text);\n          node = text;\n        }\n        return [node, 0];\n      } else {\n        node = node.lastChild;\n        if (dom(node).isElement()) {\n          if (node.tagName === dom.DEFAULT_BREAK_TAG || (dom.EMBED_TAGS[node.tagName] != null)) {\n            return [node, 1];\n          } else {\n            offset = node.childNodes.length;\n          }\n        } else {\n          return [node, dom(node).length()];\n        }\n      }\n    }\n  };\n\n  Selection.prototype._getNativeRange = function() {\n    var range, selection;\n    selection = this.document.getSelection();\n    if ((selection != null ? selection.rangeCount : void 0) > 0) {\n      range = selection.getRangeAt(0);\n      if (dom(range.startContainer).isAncestor(this.doc.root, true)) {\n        if (range.startContainer === range.endContainer || dom(range.endContainer).isAncestor(this.doc.root, true)) {\n          return range;\n        }\n      }\n    }\n    return null;\n  };\n\n  Selection.prototype._indexToPosition = function(index) {\n    var leaf, offset, _ref;\n    if (this.doc.lines.length === 0) {\n      return [this.doc.root, 0];\n    }\n    _ref = this.doc.findLeafAt(index, true), leaf = _ref[0], offset = _ref[1];\n    return this._decodePosition(leaf.node, offset);\n  };\n\n  Selection.prototype._positionToIndex = function(node, offset) {\n    var leaf, leafNode, leafOffset, line, lineOffset, _ref;\n    _ref = this._encodePosition(node, offset), leafNode = _ref[0], offset = _ref[1];\n    line = this.doc.findLine(leafNode);\n    if (line == null) {\n      return 0;\n    }\n    leaf = line.findLeaf(leafNode);\n    lineOffset = 0;\n    while (line.prev != null) {\n      line = line.prev;\n      lineOffset += line.length;\n    }\n    if (leaf == null) {\n      return lineOffset;\n    }\n    leafOffset = 0;\n    while (leaf.prev != null) {\n      leaf = leaf.prev;\n      leafOffset += leaf.length;\n    }\n    return lineOffset + leafOffset + offset;\n  };\n\n  Selection.prototype._setNativeRange = function(startNode, startOffset, endNode, endOffset) {\n    var nativeRange, selection;\n    selection = this.document.getSelection();\n    if (!selection) {\n      return;\n    }\n    if (startNode != null) {\n      if (!this.checkFocus()) {\n        this.doc.root.focus();\n      }\n      nativeRange = this._getNativeRange();\n      if ((nativeRange == null) || startNode !== nativeRange.startContainer || startOffset !== nativeRange.startOffset || endNode !== nativeRange.endContainer || endOffset !== nativeRange.endOffset) {\n        selection.removeAllRanges();\n        nativeRange = this.document.createRange();\n        nativeRange.setStart(startNode, startOffset);\n        nativeRange.setEnd(endNode, endOffset);\n        selection.addRange(nativeRange);\n        if (!this.checkFocus()) {\n          return this.doc.root.focus();\n        }\n      }\n    } else {\n      selection.removeAllRanges();\n      return this.doc.root.blur();\n    }\n  };\n\n  return Selection;\n\n})();\n\nmodule.exports = Selection;\n", "var Document, Editor, Line, Renderer, Selection, dom, _;\n\n_ = require('lodash');\n\ndom = require('../lib/dom');\n\nDocument = require('./document');\n\nLine = require('./line');\n\nRenderer = require('./renderer');\n\nSelection = require('./selection');\n\nEditor = (function() {\n  Editor.sources = {\n    API: 'api',\n    SILENT: 'silent',\n    USER: 'user'\n  };\n\n  function Editor(iframeContainer, quill, options) {\n    this.iframeContainer = iframeContainer;\n    this.quill = quill;\n    this.options = options != null ? options : {};\n    this.renderer = new Renderer(this.iframeContainer, this.options);\n    dom(this.iframeContainer).on('focus', this.focus.bind(this));\n    this.root = this.renderer.root;\n    this.doc = new Document(this.root, this.options);\n    this.delta = this.doc.toDelta();\n    this.selection = new Selection(this.doc, this.renderer.iframe, this.quill);\n    this.timer = setInterval(_.bind(this.checkUpdate, this), this.options.pollInterval);\n    if (!this.options.readOnly) {\n      this.enable();\n    }\n  }\n\n  Editor.prototype.disable = function() {\n    return this.enable(false);\n  };\n\n  Editor.prototype.enable = function(enabled) {\n    if (enabled == null) {\n      enabled = true;\n    }\n    return this.root.setAttribute('contenteditable', enabled);\n  };\n\n  Editor.prototype.applyDelta = function(delta, source) {\n    var localDelta;\n    localDelta = this._update();\n    if (localDelta) {\n      delta = localDelta.transform(delta, true);\n      localDelta = delta.transform(localDelta, false);\n    }\n    if (delta.ops.length > 0) {\n      delta = this._trackDelta((function(_this) {\n        return function() {\n          var index;\n          index = 0;\n          _.each(delta.ops, function(op) {\n            if (_.isString(op.insert)) {\n              _this._insertAt(index, op.insert, op.attributes);\n              return index += op.insert.length;\n            } else if (_.isNumber(op.insert)) {\n              _this._insertAt(index, dom.EMBED_TEXT, op.attributes);\n              return index += 1;\n            } else if (_.isNumber(op[\"delete\"])) {\n              return _this._deleteAt(index, op[\"delete\"]);\n            } else if (_.isNumber(op.retain)) {\n              _.each(op.attributes, function(value, name) {\n                return _this._formatAt(index, op.retain, name, value);\n              });\n              return index += op.retain;\n            }\n          });\n          return _this.selection.shiftAfter(0, 0, _.bind(_this.doc.optimizeLines, _this.doc));\n        };\n      })(this));\n      this.delta = this.doc.toDelta();\n      this.innerHTML = this.root.innerHTML;\n      if (delta && source !== Editor.sources.SILENT) {\n        this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, delta, source);\n      }\n    }\n    if (localDelta && localDelta.ops.length > 0 && source !== Editor.sources.SILENT) {\n      return this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, localDelta, Editor.sources.USER);\n    }\n  };\n\n  Editor.prototype.checkUpdate = function(source) {\n    var delta;\n    if (source == null) {\n      source = 'user';\n    }\n    if ((this.renderer.iframe.parentNode == null) || (this.root.parentNode == null)) {\n      return clearInterval(this.timer);\n    }\n    delta = this._update();\n    if (delta) {\n      this.delta.compose(delta);\n      this.quill.emit(this.quill.constructor.events.TEXT_CHANGE, delta, source);\n    }\n    if (delta) {\n      source = Editor.sources.SILENT;\n    }\n    return this.selection.update(source);\n  };\n\n  Editor.prototype.focus = function() {\n    if (dom.isIE(11)) {\n      this.selection.setRange(this.selection.range);\n    }\n    if (dom.isIOS()) {\n      this.renderer.iframe.focus();\n    }\n    return this.root.focus();\n  };\n\n  Editor.prototype.getDelta = function() {\n    return this.delta;\n  };\n\n  Editor.prototype._deleteAt = function(index, length) {\n    if (length <= 0) {\n      return;\n    }\n    return this.selection.shiftAfter(index, -1 * length, (function(_this) {\n      return function() {\n        var curLine, deleteLength, firstLine, mergeFirstLine, nextLine, offset, _ref;\n        _ref = _this.doc.findLineAt(index), firstLine = _ref[0], offset = _ref[1];\n        curLine = firstLine;\n        mergeFirstLine = firstLine.length - offset <= length && offset > 0;\n        while ((curLine != null) && length > 0) {\n          nextLine = curLine.next;\n          deleteLength = Math.min(curLine.length - offset, length);\n          if (offset === 0 && length >= curLine.length) {\n            _this.doc.removeLine(curLine);\n          } else {\n            curLine.deleteText(offset, deleteLength);\n          }\n          length -= deleteLength;\n          curLine = nextLine;\n          offset = 0;\n        }\n        if (mergeFirstLine && firstLine.next) {\n          return _this.doc.mergeLines(firstLine, firstLine.next);\n        }\n      };\n    })(this));\n  };\n\n  Editor.prototype._formatAt = function(index, length, name, value) {\n    return this.selection.shiftAfter(index, 0, (function(_this) {\n      return function() {\n        var formatLength, line, offset, _ref, _results;\n        _ref = _this.doc.findLineAt(index), line = _ref[0], offset = _ref[1];\n        _results = [];\n        while ((line != null) && length > 0) {\n          formatLength = Math.min(length, line.length - offset - 1);\n          line.formatText(offset, formatLength, name, value);\n          length -= formatLength;\n          if (length > 0) {\n            line.format(name, value);\n          }\n          length -= 1;\n          offset = 0;\n          _results.push(line = line.next);\n        }\n        return _results;\n      };\n    })(this));\n  };\n\n  Editor.prototype._insertAt = function(index, text, formatting) {\n    if (formatting == null) {\n      formatting = {};\n    }\n    return this.selection.shiftAfter(index, text.length, (function(_this) {\n      return function() {\n        var line, lineTexts, offset, _ref;\n        text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n        lineTexts = text.split('\\n');\n        _ref = _this.doc.findLineAt(index), line = _ref[0], offset = _ref[1];\n        return _.each(lineTexts, function(lineText, i) {\n          var nextLine;\n          if ((line == null) || line.length <= offset) {\n            if (i < lineTexts.length - 1 || lineText.length > 0) {\n              line = _this.doc.appendLine(_this.root.ownerDocument.createElement(dom.DEFAULT_BLOCK_TAG));\n              offset = 0;\n              line.insertText(offset, lineText, formatting);\n              line.format(formatting);\n              nextLine = null;\n            }\n          } else {\n            line.insertText(offset, lineText, formatting);\n            if (i < lineTexts.length - 1) {\n              nextLine = _this.doc.splitLine(line, offset + lineText.length);\n              _.each(_.defaults({}, formatting, line.formats), function(value, format) {\n                return line.format(format, formatting[format]);\n              });\n              offset = 0;\n            }\n          }\n          return line = nextLine;\n        });\n      };\n    })(this));\n  };\n\n  Editor.prototype._trackDelta = function(fn) {\n    var delta, newDelta;\n    fn();\n    newDelta = this.doc.toDelta();\n    delta = this.delta.diff(newDelta);\n    return delta;\n  };\n\n  Editor.prototype._update = function() {\n    var delta;\n    if (this.innerHTML === this.root.innerHTML) {\n      return false;\n    }\n    delta = this._trackDelta((function(_this) {\n      return function() {\n        _this.selection.preserve(_.bind(_this.doc.rebuild, _this.doc));\n        return _this.selection.shiftAfter(0, 0, _.bind(_this.doc.optimizeLines, _this.doc));\n      };\n    })(this));\n    this.innerHTML = this.root.innerHTML;\n    if (delta.ops.length > 0) {\n      return delta;\n    } else {\n      return false;\n    }\n  };\n\n  return Editor;\n\n})();\n\nmodule.exports = Editor;\n", "var DefaultTheme;\n\nDefaultTheme = (function() {\n  DefaultTheme.OPTIONS = {};\n\n  function DefaultTheme(quill) {\n    this.quill = quill;\n    this.editor = this.quill.editor;\n    this.editorContainer = this.editor.root;\n  }\n\n  return DefaultTheme;\n\n})();\n\nmodule.exports = DefaultTheme;\n", "var Normalizer, Picker, dom, _;\n\n_ = require('lodash');\n\ndom = require('./dom');\n\nNormalizer = require('./normalizer');\n\nPicker = (function() {\n  Picker.TEMPLATE = '<span class=\"ql-picker-label\"></span><span class=\"ql-picker-options\"></span>';\n\n  function Picker(select) {\n    this.select = select;\n    this.container = this.select.ownerDocument.createElement('span');\n    this.buildPicker();\n    dom(this.container).addClass('ql-picker');\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n    dom(this.select.ownerDocument).on('click', (function(_this) {\n      return function() {\n        _this.close();\n        return true;\n      };\n    })(this));\n    dom(this.label).on('click', (function(_this) {\n      return function() {\n        _.defer(function() {\n          return dom(_this.container).toggleClass('ql-expanded');\n        });\n        return false;\n      };\n    })(this));\n    dom(this.select).on('change', (function(_this) {\n      return function() {\n        var item, option;\n        if (_this.select.selectedIndex > -1) {\n          item = _this.container.querySelectorAll('.ql-picker-item')[_this.select.selectedIndex];\n          option = _this.select.options[_this.select.selectedIndex];\n        }\n        _this.selectItem(item, false);\n        return dom(_this.label).toggleClass('ql-active', option !== dom(_this.select)[\"default\"]());\n      };\n    })(this));\n  }\n\n  Picker.prototype.buildItem = function(picker, option, index) {\n    var item;\n    item = this.select.ownerDocument.createElement('span');\n    item.setAttribute('data-value', option.getAttribute('value'));\n    dom(item).addClass('ql-picker-item').text(dom(option).text()).on('click', (function(_this) {\n      return function() {\n        _this.selectItem(item, true);\n        return _this.close();\n      };\n    })(this));\n    if (this.select.selectedIndex === index) {\n      this.selectItem(item, false);\n    }\n    return item;\n  };\n\n  Picker.prototype.buildPicker = function() {\n    var picker;\n    _.each(dom(this.select).attributes(), (function(_this) {\n      return function(value, name) {\n        return _this.container.setAttribute(name, value);\n      };\n    })(this));\n    this.container.innerHTML = Normalizer.stripWhitespace(Picker.TEMPLATE);\n    this.label = this.container.querySelector('.ql-picker-label');\n    picker = this.container.querySelector('.ql-picker-options');\n    return _.each(this.select.options, (function(_this) {\n      return function(option, i) {\n        var item;\n        item = _this.buildItem(picker, option, i);\n        return picker.appendChild(item);\n      };\n    })(this));\n  };\n\n  Picker.prototype.close = function() {\n    return dom(this.container).removeClass('ql-expanded');\n  };\n\n  Picker.prototype.selectItem = function(item, trigger) {\n    var selected, value;\n    selected = this.container.querySelector('.ql-selected');\n    if (selected != null) {\n      dom(selected).removeClass('ql-selected');\n    }\n    if (item != null) {\n      value = item.getAttribute('data-value');\n      dom(item).addClass('ql-selected');\n      dom(this.label).text(dom(item).text());\n      dom(this.select).option(value, trigger);\n      return this.label.setAttribute('data-value', value);\n    } else {\n      this.label.innerHTML = '&nbsp;';\n      return this.label.removeAttribute('data-value');\n    }\n  };\n\n  return Picker;\n\n})();\n\nmodule.exports = Picker;\n", "var ColorPicker, Picker, dom,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\ndom = require('./dom');\n\nPicker = require('./picker');\n\nColorPicker = (function(_super) {\n  __extends(ColorPicker, _super);\n\n  function ColorPicker() {\n    ColorPicker.__super__.constructor.apply(this, arguments);\n    dom(this.container).addClass('ql-color-picker');\n  }\n\n  ColorPicker.prototype.buildItem = function(picker, option, index) {\n    var item;\n    item = ColorPicker.__super__.buildItem.call(this, picker, option, index);\n    item.style.backgroundColor = option.value;\n    return item;\n  };\n\n  return ColorPicker;\n\n})(Picker);\n\nmodule.exports = ColorPicker;\n", "var ColorPicker, DefaultTheme, Picker, SnowTheme, dom, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n_ = require('lodash');\n\nColorPicker = require('../../lib/color-picker');\n\nDefaultTheme = require('../default');\n\ndom = require('../../lib/dom');\n\nPicker = require('../../lib/picker');\n\nSnowTheme = (function(_super) {\n  __extends(SnowTheme, _super);\n\n  SnowTheme.COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008A00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\n  SnowTheme.OPTIONS = {\n    'multi-cursor': {\n      template: '<span class=\"cursor-flag\"> <span class=\"cursor-triangle top\"></span> <span class=\"cursor-name\"></span> <span class=\"cursor-triangle bottom\"></span> </span> <span class=\"cursor-caret\"></span>'\n    }\n  };\n\n  SnowTheme.STYLES = {\n    '.snow .image-tooltip-container a': {\n      'border': '1px solid #06c'\n    },\n    '.snow .image-tooltip-container a.insert': {\n      'background-color': '#06c',\n      'color': '#fff'\n    },\n    '.snow .cursor-name': {\n      'border-radius': '4px',\n      'font-size': '11px',\n      'font-family': 'Arial',\n      'margin-left': '-50%',\n      'padding': '4px 10px'\n    },\n    '.snow .cursor-triangle': {\n      'border-left': '4px solid transparent',\n      'border-right': '4px solid transparent',\n      'height': '0px',\n      'margin-left': '-3px',\n      'width': '0px'\n    },\n    '.snow .cursor.left .cursor-name': {\n      'margin-left': '-8px'\n    },\n    '.snow .cursor.right .cursor-flag': {\n      'right': 'auto'\n    },\n    '.snow .cursor.right .cursor-name': {\n      'margin-left': '-100%',\n      'margin-right': '-8px'\n    },\n    '.snow .cursor-triangle.bottom': {\n      'border-top': '4px solid transparent',\n      'display': 'block',\n      'margin-bottom': '-1px'\n    },\n    '.snow .cursor-triangle.top': {\n      'border-bottom': '4px solid transparent',\n      'display': 'none',\n      'margin-top': '-1px'\n    },\n    '.snow .cursor.top .cursor-triangle.bottom': {\n      'display': 'none'\n    },\n    '.snow .cursor.top .cursor-triangle.top': {\n      'display': 'block'\n    },\n    '.snow a': {\n      'color': '#06c'\n    },\n    '.snow .tooltip': {\n      'border': '1px solid #ccc',\n      'box-shadow': '0px 0px 5px #ddd',\n      'color': '#222'\n    },\n    '.snow .tooltip a': {\n      'color': '#06c'\n    },\n    '.snow .tooltip .input': {\n      'border': '1px solid #ccc',\n      'margin': '0px',\n      'padding': '5px'\n    },\n    '.snow .image-tooltip-container .preview': {\n      'border-color': '#ccc',\n      'color': '#ccc'\n    },\n    '.snow .link-tooltip-container a, .snow .link-tooltip-container span': {\n      'display': 'inline-block',\n      'line-height': '25px'\n    }\n  };\n\n  function SnowTheme(quill) {\n    this.quill = quill;\n    SnowTheme.__super__.constructor.apply(this, arguments);\n    this.quill.addStyles(SnowTheme.STYLES);\n    this.pickers = [];\n    this.quill.on(this.quill.constructor.events.SELECTION_CHANGE, (function(_this) {\n      return function(range) {\n        if (range != null) {\n          return _.invoke(_this.pickers, 'close');\n        }\n      };\n    })(this));\n    dom(this.quill.root.ownerDocument.body).addClass('snow');\n    this.quill.onModuleLoad('multi-cursor', _.bind(this.extendMultiCursor, this));\n    this.quill.onModuleLoad('toolbar', _.bind(this.extendToolbar, this));\n  }\n\n  SnowTheme.prototype.extendMultiCursor = function(module) {\n    return module.on(module.constructor.events.CURSOR_ADDED, function(cursor) {\n      var bottomTriangle, topTriangle;\n      bottomTriangle = cursor.elem.querySelector('.cursor-triangle.bottom');\n      topTriangle = cursor.elem.querySelector('.cursor-triangle.top');\n      return bottomTriangle.style.borderTopColor = topTriangle.style.borderBottomColor = cursor.color;\n    });\n  };\n\n  SnowTheme.prototype.extendToolbar = function(module) {\n    _.each(['color', 'background', 'font', 'size', 'align'], (function(_this) {\n      return function(format) {\n        var picker, select;\n        select = module.container.querySelector(\".ql-\" + format);\n        if (select == null) {\n          return;\n        }\n        switch (format) {\n          case 'font':\n          case 'size':\n          case 'align':\n            picker = new Picker(select);\n            break;\n          case 'color':\n          case 'background':\n            picker = new ColorPicker(select);\n            _.each(picker.container.querySelectorAll('.ql-picker-item'), function(item, i) {\n              if (i < 7) {\n                return dom(item).addClass('ql-primary-color');\n              }\n            });\n        }\n        if (picker != null) {\n          return _this.pickers.push(picker);\n        }\n      };\n    })(this));\n    return _.each(dom(module.container).textNodes(), function(node) {\n      if (dom(node).text().trim().length === 0) {\n        return dom(node).remove();\n      }\n    });\n  };\n\n  return SnowTheme;\n\n})(DefaultTheme);\n\nmodule.exports = SnowTheme;\n", "var Delta, Editor, EventEmitter2, Format, Quill, Range, dom, pkg, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  __slice = [].slice;\n\n_ = require('lodash');\n\npkg = require('../package.json');\n\nDelta = require('rich-text').Delta;\n\nEventEmitter2 = require('eventemitter2').EventEmitter2;\n\ndom = require('./lib/dom');\n\nEditor = require('./core/editor');\n\nFormat = require('./core/format');\n\nRange = require('./lib/range');\n\nQuill = (function(_super) {\n  __extends(Quill, _super);\n\n  Quill.version = pkg.version;\n\n  Quill.editors = [];\n\n  Quill.modules = [];\n\n  Quill.themes = [];\n\n  Quill.DEFAULTS = {\n    formats: ['align', 'bold', 'italic', 'strike', 'underline', 'color', 'background', 'font', 'size', 'link', 'image', 'bullet', 'list'],\n    modules: {\n      'keyboard': true,\n      'paste-manager': true,\n      'undo-manager': true\n    },\n    pollInterval: 100,\n    readOnly: false,\n    theme: 'default'\n  };\n\n  Quill.events = {\n    MODULE_INIT: 'module-init',\n    POST_EVENT: 'post-event',\n    PRE_EVENT: 'pre-event',\n    SELECTION_CHANGE: 'selection-change',\n    TEXT_CHANGE: 'text-change'\n  };\n\n  Quill.sources = Editor.sources;\n\n  Quill.registerModule = function(name, module) {\n    if (Quill.modules[name] != null) {\n      console.warn(\"Overwriting \" + name + \" module\");\n    }\n    return Quill.modules[name] = module;\n  };\n\n  Quill.registerTheme = function(name, theme) {\n    if (Quill.themes[name] != null) {\n      console.warn(\"Overwriting \" + name + \" theme\");\n    }\n    return Quill.themes[name] = theme;\n  };\n\n  Quill.require = function(name) {\n    switch (name) {\n      case 'lodash':\n        return _;\n      case 'delta':\n        return Delta;\n      case 'dom':\n        return dom;\n      default:\n        return null;\n    }\n  };\n\n  function Quill(container, options) {\n    var html, moduleOptions, themeClass;\n    if (options == null) {\n      options = {};\n    }\n    if (_.isString(container)) {\n      container = document.querySelector(container);\n    }\n    if (container == null) {\n      throw new Error('Invalid Quill container');\n    }\n    moduleOptions = _.defaults(options.modules || {}, Quill.DEFAULTS.modules);\n    html = container.innerHTML;\n    this.options = _.defaults(options, Quill.DEFAULTS);\n    this.options.modules = moduleOptions;\n    this.options.id = this.id = \"quill-\" + (Quill.editors.length + 1);\n    this.options.emitter = this;\n    this.modules = {};\n    this.editor = new Editor(container, this, this.options);\n    this.root = this.editor.doc.root;\n    Quill.editors.push(this);\n    this.setHTML(html, Quill.sources.SILENT);\n    themeClass = Quill.themes[this.options.theme];\n    if (themeClass == null) {\n      throw new Error(\"Cannot load \" + this.options.theme + \" theme. Are you sure you registered it?\");\n    }\n    this.theme = new themeClass(this, this.options);\n    _.each(this.options.modules, (function(_this) {\n      return function(option, name) {\n        return _this.addModule(name, option);\n      };\n    })(this));\n  }\n\n  Quill.prototype.addContainer = function(className, before) {\n    if (before == null) {\n      before = false;\n    }\n    return this.editor.renderer.addContainer(className, before);\n  };\n\n  Quill.prototype.addFormat = function(name, format) {\n    return this.editor.doc.addFormat(name, format);\n  };\n\n  Quill.prototype.addModule = function(name, options) {\n    var moduleClass;\n    moduleClass = Quill.modules[name];\n    if (moduleClass == null) {\n      throw new Error(\"Cannot load \" + name + \" module. Are you sure you registered it?\");\n    }\n    if (!_.isObject(options)) {\n      options = {};\n    }\n    options = _.defaults(options, this.theme.constructor.OPTIONS[name] || {}, moduleClass.DEFAULTS || {});\n    this.modules[name] = new moduleClass(this, options);\n    this.emit(Quill.events.MODULE_INIT, name, this.modules[name]);\n    return this.modules[name];\n  };\n\n  Quill.prototype.addStyles = function(styles) {\n    return this.editor.renderer.addStyles(styles);\n  };\n\n  Quill.prototype.deleteText = function(start, end, source) {\n    var delta, formats, _ref;\n    if (source == null) {\n      source = Quill.sources.API;\n    }\n    _ref = this._buildParams(start, end, {}, source), start = _ref[0], end = _ref[1], formats = _ref[2], source = _ref[3];\n    if (!(end > start)) {\n      return;\n    }\n    delta = new Delta().retain(start)[\"delete\"](end - start);\n    return this.editor.applyDelta(delta, source);\n  };\n\n  Quill.prototype.emit = function() {\n    var args, eventName;\n    eventName = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n    Quill.__super__.emit.apply(this, [Quill.events.PRE_EVENT, eventName].concat(__slice.call(args)));\n    Quill.__super__.emit.apply(this, [eventName].concat(__slice.call(args)));\n    return Quill.__super__.emit.apply(this, [Quill.events.POST_EVENT, eventName].concat(__slice.call(args)));\n  };\n\n  Quill.prototype.focus = function() {\n    return this.editor.focus();\n  };\n\n  Quill.prototype.formatLine = function(start, end, name, value, source) {\n    var formats, line, offset, _ref, _ref1;\n    _ref = this._buildParams(start, end, name, value, source), start = _ref[0], end = _ref[1], formats = _ref[2], source = _ref[3];\n    _ref1 = this.editor.doc.findLineAt(end), line = _ref1[0], offset = _ref1[1];\n    if (line != null) {\n      end += line.length - offset;\n    }\n    return this.formatText(start, end, formats, source);\n  };\n\n  Quill.prototype.formatText = function(start, end, name, value, source) {\n    var delta, formats, _ref;\n    _ref = this._buildParams(start, end, name, value, source), start = _ref[0], end = _ref[1], formats = _ref[2], source = _ref[3];\n    formats = _.reduce(formats, (function(_this) {\n      return function(formats, value, name) {\n        var format;\n        format = _this.editor.doc.formats[name];\n        if (!(value && value !== format.config[\"default\"])) {\n          formats[name] = null;\n        }\n        return formats;\n      };\n    })(this), formats);\n    delta = new Delta().retain(start).retain(end - start, formats);\n    return this.editor.applyDelta(delta, source);\n  };\n\n  Quill.prototype.getContents = function(start, end) {\n    if (start == null) {\n      start = 0;\n    }\n    if (end == null) {\n      end = null;\n    }\n    if (_.isObject(start)) {\n      end = start.end;\n      start = start.start;\n    }\n    return this.editor.getDelta().slice(start, end);\n  };\n\n  Quill.prototype.getHTML = function() {\n    return this.root.innerHTML;\n  };\n\n  Quill.prototype.getLength = function() {\n    return this.editor.getDelta().length();\n  };\n\n  Quill.prototype.getModule = function(name) {\n    return this.modules[name];\n  };\n\n  Quill.prototype.getSelection = function() {\n    this.editor.checkUpdate();\n    return this.editor.selection.getRange();\n  };\n\n  Quill.prototype.getText = function(start, end) {\n    if (start == null) {\n      start = 0;\n    }\n    if (end == null) {\n      end = null;\n    }\n    return _.map(this.getContents(start, end).ops, function(op) {\n      if (_.isString(op.insert)) {\n        return op.insert;\n      } else {\n        return '';\n      }\n    }).join('');\n  };\n\n  Quill.prototype.insertEmbed = function(index, type, url, source) {\n    return this.insertText(index, dom.EMBED_TEXT, type, url, source);\n  };\n\n  Quill.prototype.insertText = function(index, text, name, value, source) {\n    var delta, end, formats, _ref;\n    _ref = this._buildParams(index, 0, name, value, source), index = _ref[0], end = _ref[1], formats = _ref[2], source = _ref[3];\n    if (!(text.length > 0)) {\n      return;\n    }\n    delta = new Delta().retain(index).insert(text, formats);\n    return this.editor.applyDelta(delta, source);\n  };\n\n  Quill.prototype.onModuleLoad = function(name, callback) {\n    if (this.modules[name]) {\n      return callback(this.modules[name]);\n    }\n    return this.on(Quill.events.MODULE_INIT, function(moduleName, module) {\n      if (moduleName === name) {\n        return callback(module);\n      }\n    });\n  };\n\n  Quill.prototype.prepareFormat = function(name, value) {\n    var format, range;\n    format = this.editor.doc.formats[name];\n    if (format == null) {\n      return;\n    }\n    range = this.getSelection();\n    if (!(range != null ? range.isCollapsed() : void 0)) {\n      return;\n    }\n    if (format.isType(Format.types.LINE)) {\n      return this.formatLine(range, name, value, Quill.sources.USER);\n    } else {\n      return format.prepare(value);\n    }\n  };\n\n  Quill.prototype.setContents = function(delta, source) {\n    if (source == null) {\n      source = Quill.sources.API;\n    }\n    if (_.isArray(delta)) {\n      delta = {\n        ops: delta\n      };\n    }\n    delta.ops.unshift({\n      \"delete\": this.getLength()\n    });\n    return this.updateContents(delta, source);\n  };\n\n  Quill.prototype.setHTML = function(html, source) {\n    if (source == null) {\n      source = Quill.sources.API;\n    }\n    if (!html) {\n      html = \"<\" + dom.DEFAULT_BLOCK_TAG + \"><\" + dom.DEFAULT_BREAK_TAG + \"></\" + dom.DEFAULT_BLOCK_TAG + \">\";\n    }\n    this.editor.doc.setHTML(html);\n    return this.editor.checkUpdate(source);\n  };\n\n  Quill.prototype.setSelection = function(start, end, source) {\n    var range;\n    if (source == null) {\n      source = Quill.sources.API;\n    }\n    if (_.isNumber(start) && _.isNumber(end)) {\n      range = new Range(start, end);\n    } else {\n      range = start;\n      source = end || source;\n    }\n    return this.editor.selection.setRange(range, source);\n  };\n\n  Quill.prototype.updateContents = function(delta, source) {\n    if (source == null) {\n      source = Quill.sources.API;\n    }\n    return this.editor.applyDelta(delta, source);\n  };\n\n  Quill.prototype._buildParams = function() {\n    var formats, params;\n    params = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n    if (_.isObject(params[0])) {\n      params.splice(0, 1, params[0].start, params[0].end);\n    }\n    if (_.isString(params[2])) {\n      formats = {};\n      formats[params[2]] = params[3];\n      params.splice(2, 2, formats);\n    }\n    if (params[3] == null) {\n      params[3] = Quill.sources.API;\n    }\n    return params;\n  };\n\n  return Quill;\n\n})(EventEmitter2);\n\nQuill.registerTheme('default', require('./themes/default'));\n\nQuill.registerTheme('snow', require('./themes/snow'));\n\nmodule.exports = Quill;\n", "var Authorship, Delta, Quill, dom, _;\n\nQuill = require('../quill');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nDelta = Quill.require('delta');\n\nAuthorship = (function() {\n  Authorship.DEFAULTS = {\n    authorId: null,\n    color: 'transparent',\n    enabled: false\n  };\n\n  function Authorship(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    if (this.options.button != null) {\n      this.attachButton(this.options.button);\n    }\n    if (this.options.enabled) {\n      this.enable();\n    }\n    this.quill.addFormat('author', {\n      \"class\": 'author-'\n    });\n    if (this.options.authorId == null) {\n      return;\n    }\n    this.quill.on(this.quill.constructor.events.PRE_EVENT, (function(_this) {\n      return function(eventName, delta, origin) {\n        var authorDelta, authorFormat;\n        if (eventName === _this.quill.constructor.events.TEXT_CHANGE && origin === 'user') {\n          authorDelta = new Delta();\n          authorFormat = {\n            author: _this.options.authorId\n          };\n          _.each(delta.ops, function(op) {\n            if (op[\"delete\"] != null) {\n              return;\n            }\n            if ((op.insert != null) || ((op.retain != null) && (op.attributes != null))) {\n              op.attributes || (op.attributes = {});\n              op.attributes.author = _this.options.authorId;\n              return authorDelta.retain(op.retain || op.insert.length || 1, authorFormat);\n            } else {\n              return authorDelta.retain(op.retain);\n            }\n          });\n          return _this.quill.updateContents(authorDelta, Quill.sources.SILENT);\n        }\n      };\n    })(this));\n    this.addAuthor(this.options.authorId, this.options.color);\n  }\n\n  Authorship.prototype.addAuthor = function(id, color) {\n    var styles;\n    styles = {};\n    styles[\".authorship .author-\" + id] = {\n      \"background-color\": \"\" + color\n    };\n    return this.quill.addStyles(styles);\n  };\n\n  Authorship.prototype.attachButton = function(button) {\n    var $button;\n    $button = dom(button);\n    return $button.on('click', (function(_this) {\n      return function() {\n        $button.toggleClass('ql-on');\n        return _this.enable($dom.hasClass('ql-on'));\n      };\n    })(this));\n  };\n\n  Authorship.prototype.enable = function(enabled) {\n    if (enabled == null) {\n      enabled = true;\n    }\n    return dom(this.quill.root).toggleClass('authorship', enabled);\n  };\n\n  Authorship.prototype.disable = function() {\n    return this.enable(false);\n  };\n\n  return Authorship;\n\n})();\n\nQuill.registerModule('authorship', Authorship);\n\nmodule.exports = Authorship;\n", "var Normalizer, Quill, Tooltip, dom, _;\n\nQuill = require('../quill');\n\nNormalizer = require('../lib/normalizer');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nTooltip = (function() {\n  Tooltip.DEFAULTS = {\n    offset: 10,\n    styles: {\n      '.tooltip': {\n        'background-color': '#fff',\n        'border': '1px solid #000',\n        'top': '0px',\n        'white-space': 'nowrap',\n        'z-index': '2000'\n      },\n      '.tooltip a': {\n        'cursor': 'pointer',\n        'text-decoration': 'none'\n      }\n    },\n    template: ''\n  };\n\n  Tooltip.HIDE_MARGIN = '-10000px';\n\n  function Tooltip(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.quill.addStyles(this.options.styles);\n    this.container = this.quill.addContainer('tooltip');\n    this.container.innerHTML = Normalizer.stripWhitespace(this.options.template);\n    this.container.style.position = 'absolute';\n    dom(this.quill.root).on('focus', _.bind(this.hide, this));\n    this.hide();\n    this.quill.on(this.quill.constructor.events.TEXT_CHANGE, (function(_this) {\n      return function(delta, source) {\n        if (source === 'user' && _this.container.style.left !== Tooltip.HIDE_MARGIN) {\n          _this.range = null;\n          return _this.hide();\n        }\n      };\n    })(this));\n  }\n\n  Tooltip.prototype.initTextbox = function(textbox, enterCallback, escapeCallback) {\n    return dom(textbox).on('keyup', (function(_this) {\n      return function(event) {\n        switch (event.which) {\n          case dom.KEYS.ENTER:\n            return enterCallback.call(_this);\n          case dom.KEYS.ESCAPE:\n            return escapeCallback.call(_this);\n          default:\n            return true;\n        }\n      };\n    })(this));\n  };\n\n  Tooltip.prototype.hide = function() {\n    this.container.style.left = Tooltip.HIDE_MARGIN;\n    if (this.range) {\n      this.quill.setSelection(this.range);\n    }\n    return this.range = null;\n  };\n\n  Tooltip.prototype.show = function(reference) {\n    var left, top, win, _ref, _ref1;\n    this.range = this.quill.getSelection();\n    _ref = this._position(reference), left = _ref[0], top = _ref[1];\n    _ref1 = this._limit(left, top), left = _ref1[0], top = _ref1[1];\n    win = dom(this.quill.root).window();\n    left += win.pageXOffset;\n    top += win.pageYOffset;\n    this.container.style.left = \"\" + left + \"px\";\n    this.container.style.top = \"\" + top + \"px\";\n    return this.container.focus();\n  };\n\n  Tooltip.prototype._getBounds = function() {\n    var bounds, scrollX, scrollY, win;\n    bounds = this.quill.root.getBoundingClientRect();\n    win = dom(this.quill.root).window();\n    scrollX = win.pageXOffset;\n    scrollY = win.pageYOffset;\n    return {\n      left: bounds.left + scrollX,\n      right: bounds.right + scrollX,\n      top: bounds.top + scrollY,\n      bottom: bounds.bottom + scrollY,\n      width: bounds.width,\n      height: bounds.height\n    };\n  };\n\n  Tooltip.prototype._limit = function(left, top) {\n    var editorRect, toolbarRect;\n    editorRect = this._getBounds();\n    toolbarRect = this.container.getBoundingClientRect();\n    left = Math.min(editorRect.right - toolbarRect.width, left);\n    left = Math.max(editorRect.left, left);\n    top = Math.min(editorRect.bottom - toolbarRect.height, top);\n    top = Math.max(editorRect.top, top);\n    return [left, top];\n  };\n\n  Tooltip.prototype._position = function(reference) {\n    var editorRect, left, referenceBounds, toolbarRect, top;\n    toolbarRect = this.container.getBoundingClientRect();\n    editorRect = this._getBounds();\n    if (reference != null) {\n      referenceBounds = reference.getBoundingClientRect();\n      left = referenceBounds.left + referenceBounds.width / 2 - toolbarRect.width / 2;\n      top = referenceBounds.top + referenceBounds.height + this.options.offset;\n      if (top + toolbarRect.height > editorRect.bottom) {\n        top = referenceBounds.top - toolbarRect.height - this.options.offset;\n      }\n    } else {\n      left = editorRect.left + editorRect.width / 2 - toolbarRect.width / 2;\n      top = editorRect.top + editorRect.height / 2 - toolbarRect.height / 2;\n    }\n    return [left, top];\n  };\n\n  return Tooltip;\n\n})();\n\nQuill.registerModule('tooltip', Tooltip);\n\nmodule.exports = Tooltip;\n", "var Delta, ImageTooltip, Quill, Tooltip, dom, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nQuill = require('../quill');\n\nTooltip = require('./tooltip');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nDelta = Quill.require('delta');\n\nImageTooltip = (function(_super) {\n  __extends(ImageTooltip, _super);\n\n  ImageTooltip.DEFAULTS = {\n    styles: {\n      '.image-tooltip-container': {\n        'margin': '25px',\n        'padding': '10px',\n        'width': '300px'\n      },\n      '.image-tooltip-container:after': {\n        'clear': 'both',\n        'content': '\"\"',\n        'display': 'table'\n      },\n      '.image-tooltip-container .preview': {\n        'margin': '10px 0px',\n        'position': 'relative',\n        'border': '1px dashed #000',\n        'height': '200px'\n      },\n      '.image-tooltip-container .preview span': {\n        'display': 'inline-block',\n        'position': 'absolute',\n        'text-align': 'center',\n        'top': '40%',\n        'width': '100%'\n      },\n      '.image-tooltip-container img': {\n        'bottom': '0',\n        'left': '0',\n        'margin': 'auto',\n        'max-height': '100%',\n        'max-width': '100%',\n        'position': 'absolute',\n        'right': '0',\n        'top': '0'\n      },\n      '.image-tooltip-container .input': {\n        'box-sizing': 'border-box',\n        'width': '100%'\n      },\n      '.image-tooltip-container a': {\n        'border': '1px solid black',\n        'box-sizing': 'border-box',\n        'display': 'inline-block',\n        'float': 'left',\n        'padding': '5px',\n        'text-align': 'center',\n        'width': '50%'\n      }\n    },\n    template: '<input class=\"input\" type=\"textbox\"> <div class=\"preview\"> <span>Preview</span> </div> <a href=\"javascript:;\" class=\"cancel\">Cancel</a> <a href=\"javascript:;\" class=\"insert\">Insert</a>'\n  };\n\n  function ImageTooltip(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.options.styles = _.defaults(this.options.styles, Tooltip.DEFAULTS.styles);\n    this.options = _.defaults(this.options, Tooltip.DEFAULTS);\n    ImageTooltip.__super__.constructor.call(this, this.quill, this.options);\n    this.preview = this.container.querySelector('.preview');\n    this.textbox = this.container.querySelector('.input');\n    dom(this.container).addClass('image-tooltip-container');\n    this.initListeners();\n  }\n\n  ImageTooltip.prototype.initListeners = function() {\n    dom(this.container.querySelector('.insert')).on('click', _.bind(this.insertImage, this));\n    dom(this.container.querySelector('.cancel')).on('click', _.bind(this.hide, this));\n    dom(this.textbox).on('input', _.bind(this._preview, this));\n    this.initTextbox(this.textbox, this.insertImage, this.hide);\n    return this.quill.onModuleLoad('toolbar', (function(_this) {\n      return function(toolbar) {\n        return toolbar.initFormat('image', _.bind(_this._onToolbar, _this));\n      };\n    })(this));\n  };\n\n  ImageTooltip.prototype.insertImage = function() {\n    var index, url;\n    url = this._normalizeURL(this.textbox.value);\n    if (this.range == null) {\n      this.range = new Range(0, 0);\n    }\n    if (this.range) {\n      this.preview.innerHTML = '<span>Preview</span>';\n      this.textbox.value = '';\n      index = this.range.end;\n      this.quill.insertEmbed(index, 'image', url, 'user');\n      this.quill.setSelection(index + 1, index + 1);\n    }\n    return this.hide();\n  };\n\n  ImageTooltip.prototype._onToolbar = function(range, value) {\n    if (value) {\n      if (!this.textbox.value) {\n        this.textbox.value = 'http://';\n      }\n      this.show();\n      this.textbox.focus();\n      return _.defer((function(_this) {\n        return function() {\n          return _this.textbox.setSelectionRange(_this.textbox.value.length, _this.textbox.value.length);\n        };\n      })(this));\n    } else {\n      return this.quill.deleteText(range, 'user');\n    }\n  };\n\n  ImageTooltip.prototype._preview = function() {\n    var img;\n    if (!this._matchImageURL(this.textbox.value)) {\n      return;\n    }\n    if (this.preview.firstChild.tagName === 'IMG') {\n      return this.preview.firstChild.setAttribute('src', this.textbox.value);\n    } else {\n      img = this.preview.ownerDocument.createElement('img');\n      img.setAttribute('src', this.textbox.value);\n      return this.preview.replaceChild(img, this.preview.firstChild);\n    }\n  };\n\n  ImageTooltip.prototype._matchImageURL = function(url) {\n    return /^https?:\\/\\/.+\\.(jp?g|gif|png)$/.test(url);\n  };\n\n  ImageTooltip.prototype._normalizeURL = function(url) {\n    if (!/^https?:\\/\\//.test(url)) {\n      url = 'http://' + url;\n    }\n    return url;\n  };\n\n  return ImageTooltip;\n\n})(Tooltip);\n\nQuill.registerModule('image-tooltip', ImageTooltip);\n\nmodule.exports = ImageTooltip;\n", "var Delta, Keyboard, Quill, dom, _;\n\nQuill = require('../quill');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nDelta = Quill.require('delta');\n\nKeyboard = (function() {\n  Keyboard.hotkeys = {\n    BOLD: {\n      key: 'B',\n      metaKey: true\n    },\n    INDENT: {\n      key: dom.KEYS.TAB\n    },\n    ITALIC: {\n      key: 'I',\n      metaKey: true\n    },\n    OUTDENT: {\n      key: dom.KEYS.TAB,\n      shiftKey: true\n    },\n    UNDERLINE: {\n      key: 'U',\n      metaKey: true\n    }\n  };\n\n  function Keyboard(quill, options) {\n    this.quill = quill;\n    this.hotkeys = {};\n    this._initListeners();\n    this._initHotkeys();\n    this._initDeletes();\n  }\n\n  Keyboard.prototype.addHotkey = function(hotkeys, callback) {\n    if (!_.isArray(hotkeys)) {\n      hotkeys = [hotkeys];\n    }\n    return _.each(hotkeys, (function(_this) {\n      return function(hotkey) {\n        var which, _base;\n        hotkey = _.isObject(hotkey) ? _.clone(hotkey) : {\n          key: hotkey\n        };\n        hotkey.callback = callback;\n        which = _.isNumber(hotkey.key) ? hotkey.key : hotkey.key.toUpperCase().charCodeAt(0);\n        if ((_base = _this.hotkeys)[which] == null) {\n          _base[which] = [];\n        }\n        return _this.hotkeys[which].push(hotkey);\n      };\n    })(this));\n  };\n\n  Keyboard.prototype.toggleFormat = function(range, format) {\n    var delta, toolbar, value;\n    if (range.isCollapsed()) {\n      delta = this.quill.getContents(Math.max(0, range.start - 1), range.end);\n    } else {\n      delta = this.quill.getContents(range);\n    }\n    value = delta.ops.length === 0 || !_.all(delta.ops, function(op) {\n      var _ref;\n      return (_ref = op.attributes) != null ? _ref[format] : void 0;\n    });\n    if (range.isCollapsed()) {\n      this.quill.prepareFormat(format, value);\n    } else {\n      this.quill.formatText(range, format, value, 'user');\n    }\n    toolbar = this.quill.getModule('toolbar');\n    if (toolbar != null) {\n      return toolbar.setActive(format, value);\n    }\n  };\n\n  Keyboard.prototype._initDeletes = function() {\n    return this.addHotkey([dom.KEYS.DELETE, dom.KEYS.BACKSPACE], (function(_this) {\n      return function() {\n        return _this.quill.getLength() > 1;\n      };\n    })(this));\n  };\n\n  Keyboard.prototype._initHotkeys = function() {\n    this.addHotkey(Keyboard.hotkeys.INDENT, (function(_this) {\n      return function(range) {\n        _this._onTab(range, false);\n        return false;\n      };\n    })(this));\n    this.addHotkey(Keyboard.hotkeys.OUTDENT, (function(_this) {\n      return function(range) {\n        return false;\n      };\n    })(this));\n    return _.each(['bold', 'italic', 'underline'], (function(_this) {\n      return function(format) {\n        return _this.addHotkey(Keyboard.hotkeys[format.toUpperCase()], function(range) {\n          _this.toggleFormat(range, format);\n          return false;\n        });\n      };\n    })(this));\n  };\n\n  Keyboard.prototype._initListeners = function() {\n    return dom(this.quill.root).on('keydown', (function(_this) {\n      return function(event) {\n        var prevent;\n        prevent = false;\n        _.each(_this.hotkeys[event.which], function(hotkey) {\n          var metaKey;\n          metaKey = dom.isMac() ? event.metaKey : event.metaKey || event.ctrlKey;\n          if (!!hotkey.metaKey !== !!metaKey) {\n            return;\n          }\n          if (!!hotkey.shiftKey !== !!event.shiftKey) {\n            return;\n          }\n          if (!!hotkey.altKey !== !!event.altKey) {\n            return;\n          }\n          prevent = hotkey.callback(_this.quill.getSelection()) === false || prevent;\n          return true;\n        });\n        return !prevent;\n      };\n    })(this));\n  };\n\n  Keyboard.prototype._onTab = function(range, shift) {\n    var delta;\n    if (shift == null) {\n      shift = false;\n    }\n    delta = new Delta().retain(range.start).insert(\"\\t\")[\"delete\"](range.end - range.start).retain(this.quill.getLength() - range.end);\n    this.quill.updateContents(delta);\n    return this.quill.setSelection(range.start + 1, range.start + 1);\n  };\n\n  return Keyboard;\n\n})();\n\nQuill.registerModule('keyboard', Keyboard);\n\nmodule.exports = Keyboard;\n", "var LinkTooltip, Quill, Tooltip, dom, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nQuill = require('../quill');\n\nTooltip = require('./tooltip');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nLinkTooltip = (function(_super) {\n  __extends(LinkTooltip, _super);\n\n  LinkTooltip.DEFAULTS = {\n    maxLength: 50,\n    styles: {\n      '.link-tooltip-container': {\n        'padding': '5px 10px'\n      },\n      '.link-tooltip-container input.input': {\n        'width': '170px'\n      },\n      '.link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change': {\n        'display': 'none'\n      },\n      '.link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done': {\n        'display': 'inline-block'\n      }\n    },\n    template: '<span class=\"title\">Visit URL:&nbsp;</span> <a href=\"#\" class=\"url\" target=\"_blank\" href=\"about:blank\"></a> <input class=\"input\" type=\"text\"> <span>&nbsp;&#45;&nbsp;</span> <a href=\"javascript:;\" class=\"change\">Change</a> <a href=\"javascript:;\" class=\"done\">Done</a>'\n  };\n\n  function LinkTooltip(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.options.styles = _.defaults(this.options.styles, Tooltip.DEFAULTS.styles);\n    this.options = _.defaults(this.options, Tooltip.DEFAULTS);\n    LinkTooltip.__super__.constructor.call(this, this.quill, this.options);\n    dom(this.container).addClass('link-tooltip-container');\n    this.textbox = this.container.querySelector('.input');\n    this.link = this.container.querySelector('.url');\n    this.initListeners();\n  }\n\n  LinkTooltip.prototype.initListeners = function() {\n    this.quill.on(this.quill.constructor.events.SELECTION_CHANGE, (function(_this) {\n      return function(range) {\n        var anchor;\n        if (!((range != null) && range.isCollapsed())) {\n          return;\n        }\n        anchor = _this._findAnchor(range);\n        if (anchor) {\n          _this.setMode(anchor.href, false);\n          return _this.show(anchor);\n        } else {\n          _this.range = null;\n          return _this.hide();\n        }\n      };\n    })(this));\n    dom(this.container.querySelector('.done')).on('click', _.bind(this.saveLink, this));\n    dom(this.container.querySelector('.change')).on('click', (function(_this) {\n      return function() {\n        return _this.setMode(_this.link.href, true);\n      };\n    })(this));\n    this.initTextbox(this.textbox, this.saveLink, this.hide);\n    return this.quill.onModuleLoad('toolbar', (function(_this) {\n      return function(toolbar) {\n        return toolbar.initFormat('link', _.bind(_this._onToolbar, _this));\n      };\n    })(this));\n  };\n\n  LinkTooltip.prototype.saveLink = function() {\n    var anchor, url;\n    url = this._normalizeURL(this.textbox.value);\n    if (this.range != null) {\n      if (this.range.isCollapsed()) {\n        anchor = this._findAnchor(this.range);\n        if (anchor != null) {\n          anchor.href = url;\n        }\n      } else {\n        this.quill.formatText(this.range, 'link', url, 'user');\n      }\n    }\n    return this.setMode(url, false);\n  };\n\n  LinkTooltip.prototype.setMode = function(url, edit) {\n    var text;\n    if (edit == null) {\n      edit = false;\n    }\n    if (edit) {\n      this.textbox.value = url;\n      _.defer((function(_this) {\n        return function() {\n          _this.textbox.focus();\n          return _this.textbox.setSelectionRange(url.length, url.length);\n        };\n      })(this));\n    } else {\n      this.link.href = url;\n      text = url.length > this.options.maxLength ? url.slice(0, this.options.maxLength) + '...' : url;\n      dom(this.link).text(text);\n    }\n    return dom(this.container).toggleClass('editing', edit);\n  };\n\n  LinkTooltip.prototype._findAnchor = function(range) {\n    var leaf, node, offset, _ref;\n    _ref = this.quill.editor.doc.findLeafAt(range.start, true), leaf = _ref[0], offset = _ref[1];\n    if (leaf != null) {\n      node = leaf.node;\n    }\n    while (node != null) {\n      if (node.tagName === 'A') {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n\n  LinkTooltip.prototype._onToolbar = function(range, value) {\n    var nativeRange;\n    if (!(range && !range.isCollapsed())) {\n      return;\n    }\n    if (value) {\n      this.setMode(this._suggestURL(range), true);\n      nativeRange = this.quill.editor.selection._getNativeRange();\n      return this.show(nativeRange);\n    } else {\n      return this.quill.formatText(range, 'link', false, 'user');\n    }\n  };\n\n  LinkTooltip.prototype._normalizeURL = function(url) {\n    if (!/^(https?:\\/\\/|mailto:)/.test(url)) {\n      url = 'http://' + url;\n    }\n    return url;\n  };\n\n  LinkTooltip.prototype._suggestURL = function(range) {\n    var text;\n    text = this.quill.getText(range);\n    return this._normalizeURL(text);\n  };\n\n  return LinkTooltip;\n\n})(Tooltip);\n\nQuill.registerModule('link-tooltip', LinkTooltip);\n\nmodule.exports = LinkTooltip;\n", "var EventEmitter2, MultiCursor, Quill, dom, _,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\nQuill = require('../quill');\n\nEventEmitter2 = require('eventemitter2').EventEmitter2;\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nMultiCursor = (function(_super) {\n  __extends(MultiCursor, _super);\n\n  MultiCursor.DEFAULTS = {\n    template: '<span class=\"cursor-flag\"> <span class=\"cursor-name\"></span> </span> <span class=\"cursor-caret\"></span>',\n    timeout: 2500\n  };\n\n  MultiCursor.events = {\n    CURSOR_ADDED: 'cursor-addded',\n    CURSOR_MOVED: 'cursor-moved',\n    CURSOR_REMOVED: 'cursor-removed'\n  };\n\n  function MultiCursor(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.cursors = {};\n    this.container = this.quill.addContainer('cursor-container', true);\n    this.quill.addStyles({\n      '.cursor-container': {\n        'position': 'absolute',\n        'left': '0',\n        'top': '0',\n        'z-index': '1000'\n      },\n      '.cursor': {\n        'margin-left': '-1px',\n        'position': 'absolute'\n      },\n      '.cursor-flag': {\n        'bottom': '100%',\n        'position': 'absolute',\n        'white-space': 'nowrap'\n      },\n      '.cursor-name': {\n        'display': 'inline-block',\n        'color': 'white',\n        'padding': '2px 8px'\n      },\n      '.cursor-caret': {\n        'height': '100%',\n        'position': 'absolute',\n        'width': '2px'\n      },\n      '.cursor.hidden .cursor-flag': {\n        'display': 'none'\n      },\n      '.cursor.top > .cursor-flag': {\n        'bottom': 'auto',\n        'top': '100%'\n      },\n      '.cursor.right > .cursor-flag': {\n        'right': '-2px'\n      }\n    });\n    this.quill.on(this.quill.constructor.events.TEXT_CHANGE, _.bind(this._applyDelta, this));\n  }\n\n  MultiCursor.prototype.clearCursors = function() {\n    _.each(_.keys(this.cursors), _.bind(this.removeCursor, this));\n    return this.cursors = {};\n  };\n\n  MultiCursor.prototype.moveCursor = function(userId, index) {\n    var cursor;\n    cursor = this.cursors[userId];\n    cursor.index = index;\n    dom(cursor.elem).removeClass('hidden');\n    clearTimeout(cursor.timer);\n    cursor.timer = setTimeout((function(_this) {\n      return function() {\n        dom(cursor.elem).addClass('hidden');\n        return cursor.timer = null;\n      };\n    })(this), this.options.timeout);\n    this._updateCursor(cursor);\n    return cursor;\n  };\n\n  MultiCursor.prototype.removeCursor = function(userId) {\n    var cursor;\n    cursor = this.cursors[userId];\n    this.emit(MultiCursor.events.CURSOR_REMOVED, cursor);\n    if (cursor != null) {\n      cursor.elem.parentNode.removeChild(cursor.elem);\n    }\n    return delete this.cursors[userId];\n  };\n\n  MultiCursor.prototype.setCursor = function(userId, index, name, color) {\n    var cursor;\n    if (this.cursors[userId] == null) {\n      this.cursors[userId] = cursor = {\n        userId: userId,\n        index: index,\n        color: color,\n        elem: this._buildCursor(name, color)\n      };\n      this.emit(MultiCursor.events.CURSOR_ADDED, cursor);\n    }\n    _.defer((function(_this) {\n      return function() {\n        return _this.moveCursor(userId, index);\n      };\n    })(this));\n    return this.cursors[userId];\n  };\n\n  MultiCursor.prototype.shiftCursors = function(index, length, authorId) {\n    if (authorId == null) {\n      authorId = null;\n    }\n    return _.each(this.cursors, (function(_this) {\n      return function(cursor, id) {\n        if (!(cursor && (cursor.index > index || cursor.userId === authorId))) {\n          return;\n        }\n        return cursor.index += Math.max(length, index - cursor.index);\n      };\n    })(this));\n  };\n\n  MultiCursor.prototype.update = function() {\n    return _.each(this.cursors, (function(_this) {\n      return function(cursor, id) {\n        if (cursor == null) {\n          return;\n        }\n        _this._updateCursor(cursor);\n        return true;\n      };\n    })(this));\n  };\n\n  MultiCursor.prototype._applyDelta = function(delta) {\n    var index;\n    index = 0;\n    _.each(delta.ops, (function(_this) {\n      return function(op) {\n        var length, _ref;\n        length = 0;\n        if (op.insert != null) {\n          length = op.insert.length || 1;\n          _this.shiftCursors(index, length, (_ref = op.attributes) != null ? _ref['author'] : void 0);\n        } else if (op[\"delete\"] != null) {\n          _this.shiftCursors(index, -1 * op[\"delete\"], null);\n        } else if (op.retain != null) {\n          _this.shiftCursors(index, 0, null);\n          length = op.retain;\n        }\n        return index += length;\n      };\n    })(this));\n    return this.update();\n  };\n\n  MultiCursor.prototype._buildCursor = function(name, color) {\n    var cursor, cursorCaret, cursorFlag, cursorName;\n    cursor = this.container.ownerDocument.createElement('span');\n    dom(cursor).addClass('cursor');\n    cursor.innerHTML = this.options.template;\n    cursorFlag = cursor.querySelector('.cursor-flag');\n    cursorName = cursor.querySelector('.cursor-name');\n    dom(cursorName).text(name);\n    cursorCaret = cursor.querySelector('.cursor-caret');\n    cursorCaret.style.backgroundColor = cursorName.style.backgroundColor = color;\n    this.container.appendChild(cursor);\n    return cursor;\n  };\n\n  MultiCursor.prototype._moveCursor = function(cursor, reference, side) {\n    var bounds, flag, win;\n    if (side == null) {\n      side = 'left';\n    }\n    win = dom(reference).window();\n    bounds = reference.getBoundingClientRect();\n    cursor.elem.style.top = bounds.top + win.pageYOffset + 'px';\n    cursor.elem.style.left = bounds[side] + 'px';\n    cursor.elem.style.height = bounds.height + 'px';\n    flag = cursor.elem.querySelector('.cursor-flag');\n    dom(cursor.elem).toggleClass('top', parseInt(cursor.elem.style.top) <= flag.offsetHeight).toggleClass('left', parseInt(cursor.elem.style.left) <= flag.offsetWidth).toggleClass('right', this.quill.root.offsetWidth - parseInt(cursor.elem.style.left) <= flag.offsetWidth);\n    return this.emit(MultiCursor.events.CURSOR_MOVED, cursor);\n  };\n\n  MultiCursor.prototype._updateCursor = function(cursor) {\n    var didSplit, guide, leaf, leftNode, offset, rightNode, _ref, _ref1;\n    this.quill.editor.checkUpdate();\n    _ref = this.quill.editor.doc.findLeafAt(cursor.index, true), leaf = _ref[0], offset = _ref[1];\n    guide = this.container.ownerDocument.createElement('span');\n    if (leaf != null) {\n      _ref1 = dom(leaf.node).split(offset), leftNode = _ref1[0], rightNode = _ref1[1], didSplit = _ref1[2];\n      dom(guide).text(dom.ZERO_WIDTH_NOBREAK_SPACE);\n      leaf.node.parentNode.insertBefore(guide, rightNode);\n    } else {\n      dom(guide).text(dom.NOBREAK_SPACE);\n      this.quill.root.appendChild(guide);\n    }\n    this._moveCursor(cursor, guide);\n    dom(guide).remove();\n    if (didSplit) {\n      dom(leaf.node.parentNode).normalize();\n    }\n    return this.quill.editor.selection.update(Quill.sources.SILENT);\n  };\n\n  return MultiCursor;\n\n})(EventEmitter2);\n\nQuill.registerModule('multi-cursor', MultiCursor);\n\nmodule.exports = MultiCursor;\n", "var Delta, Document, PasteManager, Quill, dom, _;\n\nQuill = require('../quill');\n\nDocument = require('../core/document');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nDelta = Quill.require('delta');\n\nPasteManager = (function() {\n  function PasteManager(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    this.container = this.quill.addContainer('paste-container');\n    this.container.setAttribute('contenteditable', true);\n    this.quill.addStyles({\n      '.paste-container': {\n        'left': '-10000px',\n        'position': 'absolute',\n        'top': '50%'\n      }\n    });\n    dom(this.quill.root).on('paste', _.bind(this._paste, this));\n  }\n\n  PasteManager.prototype._paste = function() {\n    var iframe, iframeScrollY, oldDocLength, range, windowScrollX, windowScrollY;\n    oldDocLength = this.quill.getLength();\n    range = this.quill.getSelection();\n    if (range == null) {\n      return;\n    }\n    this.container.innerHTML = \"\";\n    iframe = dom(this.quill.root).window();\n    iframeScrollY = iframe.scrollY;\n    windowScrollX = window.scrollX;\n    windowScrollY = window.scrollY;\n    this.container.focus();\n    return _.defer((function(_this) {\n      return function() {\n        var delta, doc, lengthAdded, line, lineBottom, offset, _ref;\n        doc = new Document(_this.container, _this.quill.options);\n        delta = doc.toDelta();\n        lengthAdded = delta.length() - 1;\n        delta.compose(new Delta().retain(lengthAdded)[\"delete\"](1));\n        if (range.start > 0) {\n          delta.ops.unshift({\n            retain: range.start\n          });\n        }\n        delta[\"delete\"](range.end - range.start);\n        _this.quill.updateContents(delta, 'user');\n        _this.quill.setSelection(range.start + lengthAdded, range.start + lengthAdded);\n        _ref = _this.quill.editor.doc.findLineAt(range.start + lengthAdded), line = _ref[0], offset = _ref[1];\n        lineBottom = line.node.offsetTop + line.node.offsetHeight;\n        if (lineBottom > iframeScrollY + _this.quill.root.offsetHeight) {\n          iframeScrollY = line.node.offsetTop - _this.quill.root.offsetHeight / 2;\n        }\n        iframe.scrollTo(0, iframeScrollY);\n        return window.scrollTo(windowScrollX, windowScrollY);\n      };\n    })(this));\n  };\n\n  return PasteManager;\n\n})();\n\nQuill.registerModule('paste-manager', PasteManager);\n\nmodule.exports = PasteManager;\n", "var Quill, Toolbar, dom, _;\n\nQuill = require('../quill');\n\n_ = Quill.require('lodash');\n\ndom = Quill.require('dom');\n\nToolbar = (function() {\n  Toolbar.DEFAULTS = {\n    container: null\n  };\n\n  Toolbar.formats = {\n    LINE: {\n      'align': 'align',\n      'bullet': 'bullet',\n      'list': 'list'\n    },\n    SELECT: {\n      'align': 'align',\n      'background': 'background',\n      'color': 'color',\n      'font': 'font',\n      'size': 'size'\n    },\n    TOGGLE: {\n      'bold': 'bold',\n      'bullet': 'bullet',\n      'image': 'image',\n      'italic': 'italic',\n      'link': 'link',\n      'list': 'list',\n      'strike': 'strike',\n      'underline': 'underline'\n    },\n    TOOLTIP: {\n      'image': 'image',\n      'link': 'link'\n    }\n  };\n\n  function Toolbar(quill, options) {\n    this.quill = quill;\n    this.options = options;\n    if (this.options.container == null) {\n      throw new Error('container required for toolbar', this.options);\n    }\n    this.container = _.isString(this.options.container) ? document.querySelector(this.options.container) : this.options.container;\n    this.inputs = {};\n    this.preventUpdate = false;\n    this.triggering = false;\n    _.each(this.quill.options.formats, (function(_this) {\n      return function(format) {\n        if (Toolbar.formats.TOOLTIP[format] != null) {\n          return;\n        }\n        return _this.initFormat(format, function(range, value) {\n          if (_this.triggering) {\n            return;\n          }\n          if (range.isCollapsed()) {\n            _this.quill.prepareFormat(format, value);\n          } else if (Toolbar.formats.LINE[format] != null) {\n            _this.quill.formatLine(range, format, value, 'user');\n          } else {\n            _this.quill.formatText(range, format, value, 'user');\n          }\n          return _.defer(function() {\n            _this.updateActive(range, ['bullet', 'list']);\n            return _this.setActive(format, value);\n          });\n        });\n      };\n    })(this));\n    this.quill.on(this.quill.constructor.events.SELECTION_CHANGE, (function(_this) {\n      return function(range) {\n        if (range != null) {\n          return _this.updateActive(range);\n        }\n      };\n    })(this));\n    this.quill.onModuleLoad('keyboard', (function(_this) {\n      return function(keyboard) {\n        return keyboard.addHotkey([dom.KEYS.BACKSPACE, dom.KEYS.DELETE, dom.KEYS.ENTER], function() {\n          return _.defer(_.bind(_this.updateActive, _this));\n        });\n      };\n    })(this));\n    dom(this.container).addClass('ql-toolbar-container');\n    if (dom.isIOS()) {\n      dom(this.container).addClass('ios');\n    }\n    if (dom.isIE(11)) {\n      dom(this.container).on('mousedown', (function(_this) {\n        return function() {\n          return false;\n        };\n      })(this));\n    }\n  }\n\n  Toolbar.prototype.initFormat = function(format, callback) {\n    var eventName, input, selector;\n    selector = \".ql-\" + format;\n    if (Toolbar.formats.SELECT[format] != null) {\n      selector = \"select\" + selector;\n      eventName = 'change';\n    } else {\n      eventName = 'click';\n    }\n    input = this.container.querySelector(selector);\n    if (input == null) {\n      return;\n    }\n    this.inputs[format] = input;\n    return dom(input).on(eventName, (function(_this) {\n      return function() {\n        var range, value;\n        value = eventName === 'change' ? dom(input).value() : !dom(input).hasClass('ql-active');\n        _this.preventUpdate = true;\n        _this.quill.focus();\n        range = _this.quill.getSelection();\n        if (range != null) {\n          callback(range, value);\n        }\n        _this.preventUpdate = false;\n        return true;\n      };\n    })(this));\n  };\n\n  Toolbar.prototype.setActive = function(format, value) {\n    var $input, input, selectValue, _ref;\n    input = this.inputs[format];\n    if (input == null) {\n      return;\n    }\n    $input = dom(input);\n    if (input.tagName === 'SELECT') {\n      this.triggering = true;\n      selectValue = $input.value(input);\n      if (value == null) {\n        value = (_ref = $input[\"default\"]()) != null ? _ref.value : void 0;\n      }\n      if (_.isArray(value)) {\n        value = '';\n      }\n      if (value !== selectValue) {\n        if (value != null) {\n          $input.option(value, false);\n        } else {\n          $input.reset(false);\n        }\n      }\n      return this.triggering = false;\n    } else {\n      return $input.toggleClass('ql-active', value || false);\n    }\n  };\n\n  Toolbar.prototype.updateActive = function(range, formats) {\n    var activeFormats;\n    if (formats == null) {\n      formats = null;\n    }\n    range || (range = this.quill.getSelection());\n    if (!((range != null) && !this.preventUpdate)) {\n      return;\n    }\n    activeFormats = this._getActive(range);\n    return _.each(this.inputs, (function(_this) {\n      return function(input, format) {\n        if (!_.isArray(formats) || formats.indexOf(format) > -1) {\n          _this.setActive(format, activeFormats[format]);\n        }\n        return true;\n      };\n    })(this));\n  };\n\n  Toolbar.prototype._getActive = function(range) {\n    var leafFormats, lineFormats;\n    leafFormats = this._getLeafActive(range);\n    lineFormats = this._getLineActive(range);\n    return _.defaults({}, leafFormats, lineFormats);\n  };\n\n  Toolbar.prototype._getLeafActive = function(range) {\n    var contents, formatsArr, line, offset, _ref;\n    if (range.isCollapsed()) {\n      _ref = this.quill.editor.doc.findLineAt(range.start), line = _ref[0], offset = _ref[1];\n      if (offset === 0) {\n        contents = this.quill.getContents(range.start, range.end + 1);\n      } else {\n        contents = this.quill.getContents(range.start - 1, range.end);\n      }\n    } else {\n      contents = this.quill.getContents(range);\n    }\n    formatsArr = _.map(contents.ops, 'attributes');\n    return this._intersectFormats(formatsArr);\n  };\n\n  Toolbar.prototype._getLineActive = function(range) {\n    var firstLine, formatsArr, lastLine, offset, _ref, _ref1;\n    formatsArr = [];\n    _ref = this.quill.editor.doc.findLineAt(range.start), firstLine = _ref[0], offset = _ref[1];\n    _ref1 = this.quill.editor.doc.findLineAt(range.end), lastLine = _ref1[0], offset = _ref1[1];\n    if ((lastLine != null) && lastLine === firstLine) {\n      lastLine = lastLine.next;\n    }\n    while ((firstLine != null) && firstLine !== lastLine) {\n      formatsArr.push(_.clone(firstLine.formats));\n      firstLine = firstLine.next;\n    }\n    return this._intersectFormats(formatsArr);\n  };\n\n  Toolbar.prototype._intersectFormats = function(formatsArr) {\n    return _.reduce(formatsArr.slice(1), function(activeFormats, formats) {\n      var activeKeys, added, formatKeys, intersection, missing;\n      activeKeys = _.keys(activeFormats);\n      formatKeys = _.keys(formats);\n      intersection = _.intersection(activeKeys, formatKeys);\n      missing = _.difference(activeKeys, formatKeys);\n      added = _.difference(formatKeys, activeKeys);\n      _.each(intersection, function(name) {\n        if (Toolbar.formats.SELECT[name] != null) {\n          if (_.isArray(activeFormats[name])) {\n            if (_.indexOf(activeFormats[name], formats[name]) < 0) {\n              return activeFormats[name].push(formats[name]);\n            }\n          } else if (activeFormats[name] !== formats[name]) {\n            return activeFormats[name] = [activeFormats[name], formats[name]];\n          }\n        }\n      });\n      _.each(missing, function(name) {\n        if (Toolbar.formats.TOGGLE[name] != null) {\n          return delete activeFormats[name];\n        } else if ((Toolbar.formats.SELECT[name] != null) && !_.isArray(activeFormats[name])) {\n          return activeFormats[name] = [activeFormats[name]];\n        }\n      });\n      _.each(added, function(name) {\n        if (Toolbar.formats.SELECT[name] != null) {\n          return activeFormats[name] = [formats[name]];\n        }\n      });\n      return activeFormats;\n    }, formatsArr[0] || {});\n  };\n\n  return Toolbar;\n\n})();\n\nQuill.registerModule('toolbar', Toolbar);\n\nmodule.exports = Toolbar;\n", "var Delta, Quill, UndoManager, _;\n\nQuill = require('../quill');\n\n_ = Quill.require('lodash');\n\nDelta = Quill.require('delta');\n\nUndoManager = (function() {\n  UndoManager.DEFAULTS = {\n    delay: 1000,\n    maxStack: 100\n  };\n\n  UndoManager.hotkeys = {\n    UNDO: {\n      key: 'Z',\n      metaKey: true\n    },\n    REDO: {\n      key: 'Z',\n      metaKey: true,\n      shiftKey: true\n    }\n  };\n\n  function UndoManager(quill, options) {\n    this.quill = quill;\n    this.options = options != null ? options : {};\n    this.lastRecorded = 0;\n    this.emittedDelta = null;\n    this.clear();\n    this.initListeners();\n  }\n\n  UndoManager.prototype.initListeners = function() {\n    this.quill.onModuleLoad('keyboard', (function(_this) {\n      return function(keyboard) {\n        keyboard.addHotkey(UndoManager.hotkeys.UNDO, function() {\n          _this.undo();\n          return false;\n        });\n        return keyboard.addHotkey(UndoManager.hotkeys.REDO, function() {\n          _this.redo();\n          return false;\n        });\n      };\n    })(this));\n    return this.quill.on(this.quill.constructor.events.TEXT_CHANGE, (function(_this) {\n      return function(delta, origin) {\n        if (_.isEqual(delta, _this.emittedDelta)) {\n          return;\n        }\n        _this.record(delta, _this.oldDelta);\n        return _this.oldDelta = _this.quill.getContents();\n      };\n    })(this));\n  };\n\n  UndoManager.prototype.clear = function() {\n    this.stack = {\n      undo: [],\n      redo: []\n    };\n    return this.oldDelta = this.quill.getContents();\n  };\n\n  UndoManager.prototype.record = function(changeDelta, oldDelta) {\n    var change, ignored, timestamp, undoDelta;\n    if (!(changeDelta.ops.length > 0)) {\n      return;\n    }\n    this.stack.redo = [];\n    try {\n      undoDelta = this.quill.getContents().diff(this.oldDelta);\n      timestamp = new Date().getTime();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        change = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(change.undo);\n        changeDelta = change.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        return this.stack.undo.unshift();\n      }\n    } catch (_error) {\n      ignored = _error;\n      return this.clear();\n    }\n  };\n\n  UndoManager.prototype.redo = function() {\n    return this._change('redo', 'undo');\n  };\n\n  UndoManager.prototype.undo = function() {\n    return this._change('undo', 'redo');\n  };\n\n  UndoManager.prototype._getLastChangeIndex = function(delta) {\n    var index, lastIndex;\n    lastIndex = 0;\n    index = 0;\n    delta.ops.forEach(function(op) {\n      if (op.insert != null) {\n        return lastIndex = Math.max(index + (op.insert.length || 1), lastIndex);\n      } else if (op[\"delete\"] != null) {\n        return lastIndex = Math.max(index, lastIndex);\n      } else if (op.retain != null) {\n        if (op.attributes != null) {\n          lastIndex = Math.max(index + op.retain, lastIndex);\n        }\n        return index += op.retain;\n      }\n    });\n    return lastIndex;\n  };\n\n  UndoManager.prototype._change = function(source, dest) {\n    var change, index;\n    if (this.stack[source].length > 0) {\n      change = this.stack[source].pop();\n      this.lastRecorded = 0;\n      this.emittedDelta = change[source];\n      this.quill.updateContents(change[source], 'user');\n      this.emittedDelta = null;\n      index = this._getLastChangeIndex(change[source]);\n      this.quill.setSelection(index, index);\n      this.oldDelta = this.quill.getContents();\n      return this.stack[dest].push(change);\n    }\n  };\n\n  return UndoManager;\n\n})();\n\nQuill.registerModule('undo-manager', UndoManager);\n\nmodule.exports = UndoManager;\n", "require('./modules/authorship');\n\nrequire('./modules/image-tooltip');\n\nrequire('./modules/keyboard');\n\nrequire('./modules/link-tooltip');\n\nrequire('./modules/multi-cursor');\n\nrequire('./modules/paste-manager');\n\nrequire('./modules/toolbar');\n\nrequire('./modules/tooltip');\n\nrequire('./modules/undo-manager');\n\nmodule.exports = require('./quill');\n", "module.exports = require('./lib/index');\n", "(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"quilljs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"quilljs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactQuill\"] = factory(require(\"react\"), require(\"quilljs\"));\n\telse\n\t\troot[\"ReactQuill\"] = factory(root[\"React\"], root[\"Quill\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_5__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/", " \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 419de4872921735037b9\n **/", "/*\nReact-Quill 0.0.2\nhttps://github.com/zenoamaro/react-quill\n*/\nmodule.exports = require('./component');\nmodule.exports.Mixin = require('./mixin');\nmodule.exports.Toolbar = require('./toolbar');\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/index.js\n ** module id = 0\n ** module chunks = 0\n **/", "'use strict';\n\nvar React = require('react'),\n\tQuillToolbar = require('./toolbar'),\n\tQuillMixin = require('./mixin'),\n\tT = React.PropTypes;\n\n// Support React 0.11 and 0.12\n// FIXME: Remove with React 0.13\nif (React.createFactory) {\n\tQuillToolbar = React.createFactory(QuillToolbar);\n}\n\nvar QuillComponent = React.createClass({\n\n\tdisplayName: 'Quill',\n\n\tmixins: [ QuillMixin ],\n\n\tpropTypes: {\n\t\tid:           T.string,\n\t\tclassName:    T.string,\n\t\tvalue:        T.string,\n\t\tdefaultValue: T.string,\n\t\treadOnly:     T.bool,\n\t\ttoolbar:      T.object,\n\t\tformats:      T.array,\n\t\tstyles:       T.object,\n\t\ttheme:        T.string,\n\t\tpollInterval: T.number,\n\t\tonChange:     T.func\n\t},\n\n\tgetDefaultProps: function() {\n\t\treturn {\n\t\t\tclassName: '',\n\t\t\tmodules: {}\n\t\t};\n\t},\n\n\t/*\n\tRetrieve the initial value from either `value` (preferred)\n\tor `defaultValue` if you want an un-controlled component.\n\t*/\n\tgetInitialState: function() {\n\t\treturn {};\n\t},\n\n\t/*\n\tUpdate only if we've been passed a new `value`.\n\tThis leaves components using `defaultValue` alone.\n\t*/\n\tcomponentWillReceiveProps: function(nextProps) {\n\t\tif ('value' in nextProps) {\n\t\t\tif (nextProps.value !== this.props.value) {\n\t\t\t\tthis.setEditorContents(this.state.editor, nextProps.value);\n\t\t\t}\n\t\t}\n\t},\n\n\tcomponentDidMount: function() {\n\t\tvar editor = this.createEditor(\n\t\t\tthis.getEditorElement(),\n\t\t\tthis.getEditorConfig());\n\t\tthis.setState({ editor:editor });\n\t},\n\n\tcomponentWillUnmount: function() {\n\t\tthis.destroyEditor(this.state.editor);\n\t},\n\n\tshouldComponentUpdate: function(nextProps, nextState) {\n\t\t// Never re-render or we lose the element.\n\t\treturn false;\n\t},\n\n\t/*\n\tIf for whatever reason we are rendering again,\n\twe should tear down the editor and bring it up\n\tagain.\n\t*/\n\tcomponentWillUpdate: function() {\n\t\tthis.componentWillUnmount();\n\t},\n\n\tcomponentDidUpdate: function() {\n\t\tthis.componentDidMount();\n\t},\n\n\tgetEditorConfig: function() {\n\t\tvar config = {\n\t\t\treadOnly:     this.props.readOnly,\n\t\t\ttheme:        this.props.theme,\n\t\t\tformats:      this.props.formats,\n\t\t\tstyles:       this.props.styles,\n\t\t\tmodules:      this.props.modules,\n\t\t\tpollInterval: this.props.pollInterval\n\t\t};\n\t\t// Unless we're redefining the toolbar,\n\t\t// attach to the default one as a ref.\n\t\tif (!config.modules.toolbar) {\n\t\t\t// Don't mutate the original modules\n\t\t\t// because it's shared between components.\n\t\t\tconfig.modules = JSON.parse(JSON.stringify(config.modules));\n\t\t\tconfig.modules.toolbar = {\n\t\t\t\tcontainer: this.refs.toolbar.getDOMNode()\n\t\t\t};\n\t\t}\n\t\treturn config;\n\t},\n\n\tgetEditorElement: function() {\n\t\treturn this.refs.editor.getDOMNode();\n\t},\n\n\tgetEditorContents: function() {\n\t\treturn this.props.value || this.props.defaultValue;\n\t},\n\n\tgetClassName: function() {\n\t\treturn ['quill', this.props.className].join(' ');\n\t},\n\n\t/*\n\tRenders either the specified contents, or a default\n\tconfiguration of toolbar and contents area.\n\t*/\n\trenderContents: function() {\n\t\tif (React.Children.count(this.props.children) > 0) {\n\t\t\treturn React.Children.only(this.props.children);\n\t\t} else {\n\t\t\treturn [\n\t\t\t\tQuillToolbar({\n\t\t\t\t\tkey:'toolbar',\n\t\t\t\t\tref:'toolbar',\n\t\t\t\t\titems: this.props.toolbar\n\t\t\t\t}),\n\t\t\t\tReact.DOM.div({\n\t\t\t\t\tkey:'editor',\n\t\t\t\t\tref:'editor',\n\t\t\t\t\tclassName: 'quill-contents',\n\t\t\t\t\tdangerouslySetInnerHTML: { __html:this.getEditorContents() }\n\t\t\t\t})\n\t\t\t];\n\t\t}\n\t},\n\n\trender: function() {\n\t\treturn React.DOM.div({\n\t\t\tclassName: this.getClassName(),\n\t\t\tonChange: this.preventDefault },\n\t\t\tthis.renderContents()\n\t\t);\n\t},\n\n\t/*\n\tUpdates the local state with the new contents,\n\texecutes the change handler passed as props.\n\t*/\n\tonEditorChange: function(value) {\n\t\tif (value !== this.state.value) {\n\t\t\tif (this.props.onChange) {\n\t\t\t\tthis.props.onChange(value);\n\t\t\t}\n\t\t}\n\t},\n\n\t/*\n\tStop change events from the toolbar from\n\tbubbling up outside.\n\t*/\n\tpreventDefault: function(event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t}\n\n});\n\nmodule.exports = QuillComponent;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/component.js\n ** module id = 1\n ** module chunks = 0\n **/", "'use strict';\n\nvar React = require('react'),\n\tQuill = require('quilljs'),\n\tT = React.PropTypes;\n\nvar QuillMixin = {\n\n\t/**\n\tCreates an editor on the given element. The editor will\n\tbe passed the configuration, have its events bound,\n\t*/\n\tcreateEditor: function($el, config) {\n\t\tvar editor = new Quill($el, config);\n\t\tthis.hookEditor(editor);\n\t\treturn editor;\n\t},\n\n\thookEditor: function(editor) {\n\t\tvar self = this;\n\t\teditor.on('text-change', function(delta, source) {\n\t\t\tif (self.onEditorChange) {\n\t\t\t\tself.onEditorChange(editor.getHTML(), delta, source);\n\t\t\t}\n\t\t});\n\t},\n\n\tupdateEditor: function(editor, config) {\n\t\t// TODO: Unfortunately, while we can add modules and\n\t\t//       stuff, we can't remove them. And there is\n\t\t//       little API to update other parts of the config.\n\t\t//       But if we could tear down the editor, at least\n\t\t//       we could do a re-init with the new config.\n\t\tthrow new Error('Not implemented');\n\t},\n\n\tdestroyEditor: function(editor) {\n\t\t// TODO: How to destroy this?\n\t\t// editor.destroy();\n\t\teditor.removeAllListeners();\n\t},\n\n\t/*\n\tReplace the contents of the editor, but keep\n\tthe previous selection hanging around so that\n\tthe cursor won't move.\n\t*/\n\tsetEditorContents: function(editor, value) {\n\t\tvar sel = editor.getSelection();\n\t\teditor.setHTML(value);\n\t\teditor.setSelection(sel);\n\t}\n\n};\n\nmodule.exports = QuillMixin;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/mixin.js\n ** module id = 2\n ** module chunks = 0\n **/", "'use strict';\n\nvar React = require('react'),\n\tT = React.PropTypes;\n\nvar defaultItems = [\n\n\t{ label:'Formats', type:'group', items: [\n\t\t{ label:'Size', type:'size', items: [\n\t\t\t{ label:'Normal', value:'' },\n\t\t\t{ label:'Smaller', value:'0.8em' },\n\t\t\t{ label:'Larger', value:'1.4em' },\n\t\t\t{ label:'Huge', value:'2em' }\n\t\t]},\n\t\t{ label:'Alignment', type:'align', items: [\n\t\t\t{ label:'Center', value:'center' },\n\t\t\t{ label:'Left', value:'left' },\n\t\t\t{ label:'Right', value:'right' },\n\t\t\t{ label:'Justify', value:'justify' }\n\t\t]}\n\t]},\n\n\t{ label:'Text', type:'group', items: [\n\t\t{ type:'bold', label:'Bold' },\n\t\t{ type:'italic', label:'Italic' },\n\t\t{ type:'strike', label:'Strike' },\n\t\t{ type:'underline', label:'Underline' },\n\t\t{ type:'link', label:'Link' }\n\t]},\n\n\t{ label:'Blocks', type:'group', items: [\n\t\t{ type:'bullet', label:'Bullet' },\n\t\t{ type:'list', label:'List' }\n\t]}\n\n];\n\nvar QuillToolbar = React.createClass({\n\n\tdisplayName: 'Quill Toolbar',\n\n\tpropTypes: {\n\t\tid:        T.string,\n\t\tclassName: T.string,\n\t\titems:     T.array\n\t},\n\n\tgetDefaultProps: function(){\n\t\treturn {\n\t\t\titems: defaultItems\n\t\t};\n\t},\n\n\trenderGroup: function(item) {\n\t\treturn React.DOM.span({\n\t\t\tkey: item.label,\n\t\t\tclassName:'ql-format-group' },\n\t\t\titem.items.map(this.renderItem)\n\t\t);\n\t},\n\n\trenderChoiceItem: function(item) {\n\t\treturn React.DOM.option({\n\t\t\tkey: item.label || item.value,\n\t\t\tvalue:item.value },\n\t\t\titem.label\n\t\t);\n\t},\n\n\trenderChoices: function(item) {\n\t\treturn React.DOM.select({\n\t\t\tkey: item.label,\n\t\t\tclassName: 'ql-'+item.type },\n\t\t\titem.items.map(this.renderChoiceItem)\n\t\t);\n\t},\n\n\trenderAction: function(item) {\n\t\treturn React.DOM.span({\n\t\t\tkey: item.label || item.value,\n\t\t\tclassName: 'ql-format-button ql-'+item.type,\n\t\t\ttitle: item.label }\n\t\t);\n\t},\n\n\trenderItem: function(item) {\n\t\tvar mapping = {\n\t\t\t'group': this.renderGroup,\n\t\t\t'align': this.renderChoices,\n\t\t\t'size': this.renderChoices,\n\t\t\t'action': this.renderAction\n\t\t};\n\t\tvar renderer = mapping[item.type] || mapping.action;\n\t\treturn renderer(item);\n\t},\n\n\tgetClassName: function() {\n\t\treturn 'quill-toolbar ' + (this.props.className||'');\n\t},\n\n\trender: function() {\n\t\treturn React.DOM.div({\n\t\t\tclassName: this.getClassName() },\n\t\t\tthis.props.items.map(this.renderItem)\n\t\t);\n\t}\n\n});\n\nmodule.exports = QuillToolbar;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/toolbar.js\n ** module id = 3\n ** module chunks = 0\n **/", "module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}\n ** module id = 4\n ** module chunks = 0\n **/", "module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"commonjs\":\"quilljs\",\"commonjs2\":\"quilljs\",\"amd\":\"quilljs\",\"root\":\"Quill\"}\n ** module id = 5\n ** module chunks = 0\n **/"],
  "mappings": "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",
  "names": ["undefined", "Array", "Date", "Math", "Object", "RegExp", "String", "clearTimeout", "setTimeout", "result", "values", "indexOf", "size", "value", "b", "a", "source", "min", "max", "collection", "object", "pairs", "key", "index", "keys", "length", "chain", "parseInt", "longtext", "shorttext", "attributes", "op", "require_package", "undefined", "Wrapper", "value", "styles", "SelectWrapper", "Format", "document", "Node", "LinkedList", "Leaf", "Line", "node", "value", "name", "Document", "Renderer", "Range", "Range", "Selection", "Editor", "DefaultTheme", "Picker", "ColorPicker", "SnowTheme", "module", "Range", "Quill", "module", "formats", "value", "name", "Authorship", "Tooltip", "ImageTooltip", "Keyboard", "LinkTooltip", "MultiCursor", "PasteManager", "Toolbar", "UndoManager", "module"]
}
